/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cywgb3B0aW1hbCkgewogICAgaWYgKG9wdGltYWwgJiYg");
    sb.append("cy5sZW5ndGggPT0gMCkgewogICAgICAvLyBubyB2YWx1ZSBpbiBtZXJnaW5nIGFnYWluc3QgYSBmYXV4");
    sb.append("IHRyZWUgd2l0aG91dCBzdWJzY3JpcHRpb25zCiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAodmFy");
    sb.append("IGtleSBpbiBkZWx0YSkgeyAvLyBmb3IgZWFjaCBiaXQgb2YgZGF0YSB3aXRoaW4gdGhlIHRyZWUKICAg");
    sb.append("ICAgdmFyIGVLZXkgPSAiIyIgKyBrZXk7IC8vIGNvbXB1dGUgdGhlIHNlY3JldCBkYXRhIHBhdGgKICAg");
    sb.append("ICAgdmFyIHByaW9yID0gdHJlZVtrZXldOyAvLyBmaW5kIHRoZSBwcmlvciBzdGF0ZSB3aXRoaW4gdGhl");
    sb.append("IHRyZWUKICAgICAgdmFyIG5leHQgPSBkZWx0YVtrZXldOyAvLyBicmluZyB0aGUgY2hhbmdlIHByZXNl");
    sb.append("bnQgZm9yIHRoZSBjdXJyZW50IGtleQogICAgICBpZiAobmV4dCA9PSBudWxsKSB7IC8vIHRoZSBpdGVt");
    sb.append("IGlzIGdvaW5nIHBvb2YKICAgICAgICAvLyB0aGUgcHJpb3IgdmFsdWUgaXMgYW4gYXJyYXksIHNvIHdl");
    sb.append("IG1heSBoYXZlIHNvbWUgc3BlY2lhbCB0aGluZ3MgYXNzb2NpYXRlIHdpdGggaXQKICAgICAgICBpZiAo");
    sb.append("QXJyYXkuaXNBcnJheShwcmlvcikpIHsgLy8gVU5URVNUCiAgICAgICAgICBpZiAoZUtleSBpbiB0cmVl");
    sb.append("KSB7CiAgICAgICAgICAgIGRlbChzdWIocywgZUtleSkpOwogICAgICAgICAgfQogICAgICAgICAgZGVs");
    sb.append("ZXRlIHRyZWVbZUtleV07CiAgICAgICAgfQogICAgICAgIGRlbChzdWIocywga2V5KSk7IC8vIGlzc3Vl");
    sb.append("IGEgZGVsZXRlIGZvciBhbGwgdGhlIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBraWQKICAgICAgICBkZWxl");
    sb.append("dGUgdHJlZVtrZXldOyAvLyBkZWxldGUgdGhlIGRhdGEgaW4gdGhlIHRyZWUKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBpZiAodHlwZW9mIChuZXh0KSA9PSAib2JqZWN0IiAmJiAhQXJyYXkuaXNBcnJheShuZXh0");
    sb.append("KSkgeyAvLyBpZiB0aGUgZGVsdGEgaXMgYW4gb2JqZWN0CiAgICAgICAgICB2YXIgYXJyID0gQXJyYXku");
    sb.append("aXNBcnJheShwcmlvcikgfHwgIkBvIiBpbiBuZXh0IHx8ICJAcyIgaW4gbmV4dDsgLy8gZGV0ZWN0IGlm");
    sb.append("IHdlIG5lZWQgdG8gdXNlIGFycmF5IGxvZ2ljCiAgICAgICAgICBpZiAoYXJyKSB7IC8vIHdlIGhhdmUg");
    sb.append("ZGV0ZWN0ZWQgYW4gYXJyYXkKICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRyZWUpKSB7IC8vIGxldCdz");
    sb.append("IG1ha2Ugc3VyZSB0aGUgdHJlZSBoYXMgYW4gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICB0cmVlW2tl");
    sb.append("eV0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShlS2V5IGluIHRyZWUpKSB7IC8v");
    sb.append("IGxldCdzIG1ha2Ugc3VyZSB0aGUgc2VjcmV0IGRhdGEgZXhpc3RzIGFzIHdlbGwKICAgICAgICAgICAg");
    sb.append("ICB0cmVlW2VLZXldID0ge307CiAgICAgICAgICAgICAgaWYgKCJAbyIgaW4gbmV4dCkgeyAvLyBpZiB3");
    sb.append("ZSBoYXZlIGEgYnVuY2ggb2Yga2V5cywgdGhlbiBsZXQncyBtYWtlIHN1cmUgdG8gcHJlc2VydmUgdGhh");
    sb.append("dCBmb3IgbWFrZV9kZWx0YQogICAgICAgICAgICAgICAgdHJlZVtlS2V5XVsiQG8iXSA9IHRydWU7CiAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyZWVbZUtleV0uX19rZXkgPSBrZXk7IC8vIGFubm90");
    sb.append("YXRlIHRoZSBuZXcgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkKICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("ICB2YXIgZUJhc2UgPSB0cmVlW2VLZXldOyAvLyBnZXQgdGhlIHNlY3JldCAoYW5kIHJlYWwpIGRhdGEg");
    sb.append("Zm9yIHRoZSBvYmplY3QgaW4gcXVlc3Rpb24KICAgICAgICAgICAgdmFyIGVTdWIgPSBzdWIocywga2V5");
    sb.append("KTsgLy8gc2NvcGUgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUga2V5CiAgICAgICAgICAgIHZhciBvcmRl");
    sb.append("cmluZyA9IG51bGw7IC8vIGRldGVjdGlvbiBvZiBpZiB3ZSBoYXZlIEBvIG9yZGVyaW5nIHRvIHJlb3Jk");
    sb.append("ZXIgdGhlIHZhbHVlcwogICAgICAgICAgICB2YXIgcmVzaXplID0gbnVsbDsgLy8gZGV0ZWN0aW9uIG9m");
    sb.append("IGFuIGFycmF5IHdpdGhvdXQgX19rZXkKICAgICAgICAgICAgdmFyIGRlbGF5ID0ge307IC8vIHdlIGRl");
    sb.append("bGF5IGFsbCBldmVudHMgc3VjaCB0aGF0IHRoZSBhcnJheSBjYW4gYmUgYnVpbHQgZm9yIGlubGluZSBt");
    sb.append("YWtlX2RlbHRhIGNhbGxzIHRvIHdvcmsKICAgICAgICAgICAgZm9yICh2YXIgYUtleSBpbiBuZXh0KSB7");
    sb.append("IC8vIGZvciBlYWNoIGZpZWxkIHdpdGhpbiB0aGUgZGlmZmVyZW5jZQogICAgICAgICAgICAgIHZhciB2");
    sb.append("YWwgPSBuZXh0W2FLZXldOwogICAgICAgICAgICAgIGlmIChhS2V5ID09ICJAbyIpIHsgLy8gdGhlIHZh");
    sb.append("bHVlIGlzIGEgbmV3IG9yZGVyaW5nIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgb3JkZXJpbmcg");
    sb.append("PSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhS2V5ID09ICJAcyIpIHsgLy8gdGhlIHZhbHVl");
    sb.append("IGlzIGEgcmVzaXplIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgcmVzaXplID0gdmFsOwogICAg");
    sb.append("ICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IG51bGwpIHsgLy8gZGVsZXRlIHRoZSBlbGVtZW50CiAg");
    sb.append("ICAgICAgICAgICAgICBpZiAoYUtleSBpbiBlQmFzZSkgeyAvLyBpZiBpdCBleGlzdHMgd2l0aGluIHRo");
    sb.append("ZSBzZWNyZXQga2V5CiAgICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsK");
    sb.append("ICAgICAgICAgICAgICAgICAgICBkZWwoc3ViKGVTdWIsIHgpKTsgLy8gaXNzdWUgZGVsZXRlcwogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGV0ZSBlQmFzZVt4XTsgLy8gZGVsZXRlIHRoZSB2YWx1ZQogICAgICAg");
    sb.append("ICAgICAgICAgICAgIGRlbF9rZXkoZVN1YiwgeCk7IC8vIGRlbGV0ZSB0aGUga2V5cyBmcm9tIHRoZSBv");
    sb.append("YmplY3QKICAgICAgICAgICAgICAgICAgICBmaXJlX2RlbChlU3ViLCB4KTsKICAgICAgICAgICAgICAg");
    sb.append("ICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB3ZSBoYXZlIGRh");
    sb.append("dGEKICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZSBkYXRhIGRpZG4n");
    sb.append("dCBleGlzdCwgc28gZmlyZSBhbiBhZGRpdGlvbiB0byBleHRlbmQgdGhlIHN1YnNjcmlwdGlvbnMKICAg");
    sb.append("ICAgICAgICAgICAgICAgZmlyZV9hZGQoZVN1YiwgYUtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgICB2YXIgblZhbCA9IG5leHRbYUtleV07IC8vIGdldCB0aGUgbmV3IHZhbHVlCiAgICAg");
    sb.append("ICAgICAgICAgICBpZiAodHlwZW9mIChuVmFsKSA9PSAib2JqZWN0IikgeyAvLyBpZiB0aGUgbmV3IHZh");
    sb.append("bHVlIGlzIGFuIG9iamVjdAogICAgICAgICAgICAgICAgICBpZiAoIShhS2V5IGluIGVCYXNlKSkgeyAv");
    sb.append("LyB0aGVuIG1ha2Ugc3VyZSB0aGUgbmV3IGl0ZW0gaXMgd2l0aGluIHRoZSBzZWNyZXQgdHJlZQogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGVCYXNlW2FLZXldID0ge307CiAgICAgICAgICAgICAgICAgICAgZUJhc2Vb");
    sb.append("YUtleV0uX19rZXkgPSBhS2V5OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGRl");
    sb.append("bGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICBtZXJnZShlQmFzZVt4");
    sb.append("XSwgbmV4dFt4XSwgc3ViKGVTdWIsIHgpLCBldmVudHMsIG9wdGltYWwpOyAvLyByZWN1cnNlOiBtZXJn");
    sb.append("ZSB0aGUgZGlmZmVyZW5jZSBpbnRvIHRoZSBzZWNyZXQgdHJlZSBhbmQgcHVibGlzaCB0byBhbGwgZWxl");
    sb.append("bWVudCBzdWJzY3JpcHRpb25zCiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVC");
    sb.append("YXNlW3hdLCBldmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IHsgLy8gb3RoZXJ3aXNlLCBzZXQgdGhlIHZhbHVlIGludG8gdGhlIHRyZWUKICAgICAgICAgICAgICAg");
    sb.append("ICAgZUJhc2VbYUtleV0gPSBuVmFsOwogICAgICAgICAgICAgICAgICBkZWxheVthS2V5XSA9IGZ1bmN0");
    sb.append("aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVCYXNlW3hdLCBl");
    sb.append("dmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg");
    sb.append("ICAgLy8gYW5kIHRlbGwgZXZlcnlvbmUgdGhlIG5ldyB2YWx1ZSBmb3IgdGhpcwogICAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYmVmb3JlID0gdHJlZVtrZXldOyAvLyBzdGFz");
    sb.append("aCBhIHBvaW50ZXIgdG8gdGhlIGFycmF5CiAgICAgICAgICAgIHZhciBkZWxheU9yZGVyID0gW107Cgog");
    sb.append("ICAgICAgICAgICBpZiAob3JkZXJpbmcgIT0gbnVsbCkgeyAvLyBhbiBvcmRlcmluZyBjaGFuZ2UgaXMg");
    sb.append("aGFwcGVuaW5nCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107IC8vIHdlIHdpbGwgcmVidWlsZCB0");
    sb.append("aGUgYXJyYXkgaGVyZQogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsgLy8gYW5kIHJlY29yZCB0aGUg");
    sb.append("a2V5cyBoZXJlCiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmRlcmluZy5sZW5ndGg7");
    sb.append("IGsrKykgeyAvLyBmb3IgZWFjaCBvcmRlcmluZyBpbnN0cnVjdGlvbgogICAgICAgICAgICAgICAgdmFy");
    sb.append("IGluc3RyID0gb3JkZXJpbmdba107CiAgICAgICAgICAgICAgICB2YXIgdHlwZV9pbnN0ciA9IHR5cGVv");
    sb.append("ZiAoaW5zdHIpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVfaW5zdHIgPT0gInN0cmluZyIgfHwgdHlw");
    sb.append("ZV9pbnN0ciA9PSAibnVtYmVyIikgeyAvLyBpZiB0aGUgaW5zdHJ1Y3Rpb24gcmVmZXJzIHRvIGFuIGl0");
    sb.append("ZW0KICAgICAgICAgICAgICAgICAgYWZ0ZXIucHVzaChlQmFzZVtpbnN0cl0pOyAvLyBwdXNoIHRoZSBp");
    sb.append("dGVtIGludG8gdGhlIG5ldyBhcnJheQogICAgICAgICAgICAgICAgICBtc2cucHVzaCgiIiArIGluc3Ry");
    sb.append("KTsgLy8gcmVjb3JkIHRoZSBrZXkgb2YgdGhlIGl0ZW0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZSwgdGhlIGluc3RydWN0aW9uIGlzIGEgcmFuZ2UKICAgICAgICAgICAgICAgICAgdmFy");
    sb.append("IHN0YXJ0ID0gaW5zdHJbMF07CiAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBpbnN0clsxXTsKICAg");
    sb.append("ICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDw9IGVuZDsgaisrKSB7IC8vIGl0ZXJh");
    sb.append("dGUgb3ZlciB0aGUgcmFuZ2UgYW5kIGNvcHkKICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlW2pd");
    sb.append("KSB7CiAgICAgICAgICAgICAgICAgICAgICBhZnRlci5wdXNoKGJlZm9yZVtqXSk7IC8vIHRoZSBpdGVt");
    sb.append("cyBmcm9tIHRoZSBwcmV2aW91cyBjb3B5CiAgICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZv");
    sb.append("cmVbal0uX19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgZGVsYXlPcmRlci5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZpcmUo");
    sb.append("c3ViKGVTdWIsICJ+IiksIG1zZywgZXZlbnRzKTsgLy8gdGVsbCBzdWJzY3JpcHRpb25zIGFib3V0IHRo");
    sb.append("ZSBuZXcgb3JkZXJpbmcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSBh");
    sb.append("ZnRlcjsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgIT0gbnVsbCkgeyAvLyBhbHRlcm5hdGl2");
    sb.append("ZWx5LCBhbiBhcnJheSB3aXRob3V0IGtleXMgaXMgYmVpbmcgcmVzaXplZAogICAgICAgICAgICAgIHZh");
    sb.append("ciBhZnRlciA9IFtdOwogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsKICAgICAgICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IHJlc2l6ZTsgaysrKSB7IC8vIHdlIHJlYnVpbGQgdGhlIGFycmF5CiAgICAg");
    sb.append("ICAgICAgICAgICBhZnRlcltrXSA9IGVCYXNlWyIiICsga107CiAgICAgICAgICAgICAgICBtc2cucHVz");
    sb.append("aCgiIiArIGspOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIGZvciAoYUtleSBpbiBkZWxheSkgewogICAgICAgICAgICAgIGRlbGF5W2FLZXldKGFLZXkpOwog");
    sb.append("ICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVsYXlPcmRlci5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICAgICAgICAgIGRlbGF5T3JkZXJba10oKTsKICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICBmaXJlKGVTdWIsIHRyZWVba2V5XSwgZXZlbnRzKTsgLy8gdGVsbCBldmVyeW9uZSBhYm91");
    sb.append("dCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIShrZXkgaW4g");
    sb.append("dHJlZSkgfHwgdHlwZW9mICh0cmVlW2tleV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgdHJl");
    sb.append("ZVtrZXldID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGUgPSBzdWIocywga2V5KTsK");
    sb.append("ICAgICAgICAgICAgbWVyZ2UodHJlZVtrZXldLCBuZXh0LCBlLCBldmVudHMsIG9wdGltYWwpOwogICAg");
    sb.append("ICAgICAgICBmaXJlKGUsIHRyZWVba2V5XSwgZXZlbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVs");
    sb.append("c2UgeyAvLyBub3QgYW4gb2JqZWN0LCBzbyBpdCBpcyBhIHZhbHVlCiAgICAgICAgICB0cmVlW2tleV0g");
    sb.append("PSBuZXh0OyAvLyBzdGFzaCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICBmaXJlKHN1YihzLCBrZXkpLCBu");
    sb.append("ZXh0LCBldmVudHMpOyAvLyBhbmQgdGVsbCBldmVyeW9uZSBhYm91dCBpdAogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogICAgZmlyZShzLCB0cmVlLCBldmVudHMpOwogIH07CgogIHZhciBmaXJlX2V2ZW50cyA9");
    sb.append("IGZ1bmN0aW9uIChldmVudHMpIHsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZlbnRzLmxlbmd0aDsg");
    sb.append("aysrKSB7CiAgICAgIGV2ZW50c1trXSgpOwogICAgfQogIH07CgogIHRoaXMudXBkYXRlX2luX3Byb2dy");
    sb.append("ZXNzID0gZmFsc2U7CiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgIHRoaXMudXBk");
    sb.append("YXRlX2luX3Byb2dyZXNzID0gdHJ1ZTsKICAgIHZhciBhcnIgPSBbXTsgLy8gY29udmVydCB0aGUgc3Vi");
    sb.append("c2NyaXB0aW9ucyBpbnRvIGFuIGFycmF5CiAgICBmb3IgKHZhciBrIGluIGFsbF9zdWJzY3JpcHRpb25z");
    sb.append("KSB7CiAgICAgIGFyci5wdXNoKGFsbF9zdWJzY3JpcHRpb25zW2tdKTsKICAgIH0KICAgIHZhciBldmVu");
    sb.append("dHMgPSBbXTsKICAgIG1lcmdlKHJvb3QsIGRlbHRhLCBhcnIsIGV2ZW50cywgZmFsc2UpOyAvLyBleGVj");
    sb.append("dXRlIHRoZSBtZXJnZSBhbmQgZmlyZSBldmVudHMKICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB3");
    sb.append("aGlsZSAodGhpcy5zdWJzY3JpYmVfZGVsYXkubGVuZ3RoID4gMCkgewogICAgICB2YXIgY29weSA9IHRo");
    sb.append("aXMuc3Vic2NyaWJlX2RlbGF5OwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwogICAgICB2");
    sb.append("YXIgZmxhdCA9IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvcHkubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICBpZiAoIWNvcHlba10uYWJvcnRlZCkgewogICAgICAgICAgZmxhdC5wdXNoKGNvcHlba10u");
    sb.append("c3ViKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZXZlbnRzID0gW107CiAgICAgIG1lcmdlKHt9LCBt");
    sb.append("YWtlX29wdGltYWxfZGVsdGEocm9vdCwgZmxhdCksIGZsYXQsIGV2ZW50cywgdHJ1ZSk7IC8vIGV4ZWN1");
    sb.append("dGUgdGhlIG1lcmdlIGFuZCBmaXJlIGV2ZW50cwogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAg");
    sb.append("fQogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB9OwoKICAvLyBmaXggdGhlIGNh");
    sb.append("bGxiYWNrIHN0cnVjdHVyZSBmcm9tIHRoZSB1c2VyJ3MgaGFwcHkgbGFuZCB0byB0aGUgcmlnb3Igb2Yg");
    sb.append("dGhlIGZvcm1hdCBuZWVkZWQKICB2YXIgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViID0gZnVuY3Rp");
    sb.append("b24gKGNhbGxiYWNrLCBzdWIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrKSkgeyAvLyBp");
    sb.append("ZiB0aGUgY2FsbGJhY2sgaXMgYW4gYXJyYXksIHRoZW4gZmxhdHRlbiB0aGUgYXJyYXkgaW50byB0aGUg");
    sb.append("bmV3IG9iamVjdAogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNrW2tdLCBzdWIpOwogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09ICJvYmplY3QiKSB7IC8vIG9oLCB0");
    sb.append("aGUgY2FsbGJhY2sgaXMgYW4gb2JqZWN0CiAgICAgIGZvciAodmFyIGtleSBpbiBjYWxsYmFjaykgeyAv");
    sb.append("LyBpdGVyYXRlIG92ZXIgZWFjaCBrZXkKICAgICAgICBpZiAoa2V5ID09ICJAZSIpIHsgLy8gZm9yY2Ug");
    sb.append("dGhlIGZ1bmN0aW9ucyB0byBtZXJnZSB0b2dldGhlcgogICAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNr");
    sb.append("X2ludG9fc3ViKGNhbGxiYWNrW2tleV0sIHN1Yik7CiAgICAgICAgfSBlbHNlIHsgLy8gbm9ybWFsIGZs");
    sb.append("b3cKICAgICAgICAgIGlmICghKGtleSBpbiBzdWIpKSB7IC8vIGRpdmUgaW50byB0aGUgb2JqZWN0IGFu");
    sb.append("ZCBtYWtlIHN1cmUgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGZpZWxkCiAgICAgICAgICAgIHN1Yltr");
    sb.append("ZXldID0ge307CiAgICAgICAgICB9CiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIo");
    sb.append("Y2FsbGJhY2tba2V5XSwgc3ViW2tleV0pOyAvLyByZWN1cnNlIGFuZCBwYWlyIHRoZSBldmVudHMgdG8g");
    sb.append("dGhlIG5ldyBzdWJzY3JpcHRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9m");
    sb.append("IChjYWxsYmFjaykgPT0gImZ1bmN0aW9uIikgeyAvLyBpdCdzIGEgZnVuY3Rpb24KICAgICAgaWYgKCEo");
    sb.append("IkBlIiBpbiBzdWIpKSB7IC8vIGxldCdzIGVuc3VyZSB0aGVyZSBpcyBhbiBldmVudCBsaXN0CiAgICAg");
    sb.append("ICAgc3ViWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCBqdXN0");
    sb.append("IGFkZCBpdAogICAgICAgIHN1YlsiQGUiXS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfQogIH07");
    sb.append("CgogIC8vIGNvbnZlcnQgdGhlIHRyZWUgdG8gYSBkZWx0YTsgdGhpcyB0cmVlIGlzIGFzc3VtZWQgdG8g");
    sb.append("aGF2ZSBiZWVuIG1lcmdlZCBhbHJlYWR5CiAgdmFyIG1ha2VfZGVsdGEgPSBmdW5jdGlvbiAoc3QpIHsK");
    sb.append("ICAgIHZhciBkZWx0YSA9IHt9OyAvLyB0aGUgZGVsdGEgdG8gY29uc3RydWN0CiAgICBmb3IgKHZhciBr");
    sb.append("IGluIHN0KSB7IC8vIGZvciBlYWNoIGtleSB3aXRoaW4gdGhlIG9iamVjdAogICAgICBpZiAoa1swXSA9");
    sb.append("PSAiIyIgfHwgayA9PSAiQG8iIHx8IGsgPT0gIl9fa2V5IikgY29udGludWU7IC8vIHNraXAgdGhlc2UK");
    sb.append("ICAgICAgdmFyIHYgPSBzdFtrXTsKICAgICAgaWYgKCgiIyIgKyBrKSBpbiBzdCkgeyAvLyB0aGUgcmVz");
    sb.append("dWx0IGlzIGFuIGFycmF5CiAgICAgICAgdmFyIHB2ID0gc3RbJyMnICsga107CiAgICAgICAgdmFyIGQg");
    sb.append("PSB7fTsKICAgICAgICBpZiAoIkBvIiBpbiBwdikgeyAvLyBhbmQgd2UgaGF2ZSBhIHNwZWNpZmljIG9y");
    sb.append("ZGVyaW5nIHRvIG1lbW9pemUKICAgICAgICAgIHZhciBvID0gW107CiAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsgLy8gY29weSB0aGUgZWxlbWVudHMgZnJvbSB0aGUgYXJy");
    sb.append("YXkKICAgICAgICAgICAgdmFyIHZqID0gdltqXTsKICAgICAgICAgICAgaWYgKHZqKSB7CiAgICAgICAg");
    sb.append("ICAgICAgZFt2ai5fX2tleV0gPSBtYWtlX2RlbHRhKHZqKTsgLy8gdXNpbmcgdGhlIF9fa2V5IGVtYmVk");
    sb.append("ZGVkIGluIHRoZSBvYmplY3QKICAgICAgICAgICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRbIkBvIl0gPSBvOwogICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZTsgcmVjb3JkIHRoZSBzaXplIGFzIHdlIHJlY3Vyc2UKICAgICAgICAgIGZvciAodmFy");
    sb.append("IGogPSAwOyBqIDwgdi5sZW5ndGg7IGorKykgewogICAgICAgICAgICBkWyIiICsgal0gPSBtYWtlX2Rl");
    sb.append("bHRhKHB2W2pdKTsKICAgICAgICAgIH0KICAgICAgICAgIGRbIkBzIl0gPSB2Lmxlbmd0aDsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgZGVsdGFba10gPSBkOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiAodikgPT0gIm9i");
    sb.append("amVjdCIpIHsgLy8gaXQncyBqdXN0IGFuIG9iamVjdCwgc28gcmVjdXJzZSBkaXJlY3RseQogICAgICAg");
    sb.append("IGRlbHRhW2tdID0gbWFrZV9kZWx0YSh2KTsKICAgICAgfSBlbHNlIHsgLy8gZmluYWxseSwgaXQgaXMg");
    sb.append("YSB2YWx1ZSBzbyBqdXN0IHNldCBpdAogICAgICAgIGRlbHRhW2tdID0gdjsKICAgICAgfQogICAgfQog");
    sb.append("ICAgcmV0dXJuIGRlbHRhOwogIH07CgogIHZhciBtYWtlX29wdGltYWxfZGVsdGEgPSBmdW5jdGlvbihz");
    sb.append("dCwgc3VicykgewogICAgdmFyIGZpbHRlciA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzdWJz");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgIHZhciBzID0gc3Vic1trXTsKICAgICAgaWYgKHR5cGVvZihzKSA9");
    sb.append("PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgLy8gZmFsbGJhY2sgd2hlbiB0aGUgaGlnaCBsZXZlbCBpcyBh");
    sb.append("IGZ1bmN0aW9uICh3ZSBuZWVkIGl0IGFsbCEpCiAgICAgICAgcmV0dXJuIG1ha2VfZGVsdGEoc3QpOwog");
    sb.append("ICAgICB9IGVsc2UgaWYgKHR5cGVvZihzKSA9PSAib2JqZWN0IikgewogICAgICAgIGZvciAodmFyIGog");
    sb.append("aW4gcykgewogICAgICAgICAgZmlsdGVyW2pdID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0K");
    sb.append("ICAgIHZhciBuZXdfc3QgPSB7fTsgLy8gdGhlIGRlbHRhIHRvIGNvbnN0cnVjdAogICAgZm9yICh2YXIg");
    sb.append("ayBpbiBzdCkgeyAvLyBmb3IgZWFjaCBrZXkgd2l0aGluIHRoZSBvYmplY3QKICAgICAgaWYgKGtbMF0g");
    sb.append("PT0gIiMiIHx8IGsgPT0gIkBvIiB8fCBrID09ICJfX2tleSIpIGNvbnRpbnVlOyAvLyBza2lwIHRoZXNl");
    sb.append("CiAgICAgIGlmIChrIGluIGZpbHRlcikgewogICAgICAgIG5ld19zdFtrXSA9IHN0W2tdOwogICAgICAg");
    sb.append("IGlmICgoIiMiICsgaykgaW4gc3QpIHsKICAgICAgICAgIG5ld19zdFsiIyIgKyBrXSA9IHN0WyIjIiAr");
    sb.append("IGtdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG1ha2VfZGVsdGEobmV3X3N0KTsK");
    sb.append("ICB9OwoKICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2");
    sb.append("ZW4gc3RydWN0dXJhbCBjYWxsYmFjawogIHRoaXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNr");
    sb.append("KSB7CiAgICB2YXIgc3ViID0ge307CiAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJh");
    sb.append("Y2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0gdGhlIGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAg");
    sb.append("ICB2YXIgUyA9ICIiICsgaWQrKzsgLy8gY3JlYXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAg");
    sb.append("ICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9IHN1YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAg");
    sb.append("IGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20u");
    sb.append("c3ViID0gc3ViOwogICAgICBzbS5hYm9ydGVkID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2Rl");
    sb.append("bGF5LnB1c2goc20pOwogICAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9");
    sb.append("IHRydWU7CiAgICAgICAgZGVsZXRlIGFsbF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBl");
    sb.append("bHNlIHsKICAgICAgdmFyIGRlbHRhID0gbWFrZV9vcHRpbWFsX2RlbHRhKHJvb3QsIFtzdWJdKTsKICAg");
    sb.append("ICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVsdGEsIFtzdWJdLCBldmVudHMsIHRy");
    sb.append("dWUpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFjayBvZiBhbGwgZGF0YSB0");
    sb.append("byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVjdAogICAgICBmaXJlX2V2");
    sb.append("ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyByZXR1cm4gYSBtZXRob2Qg");
    sb.append("dG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlvbnNbU107CiAgICAgIH07");
    sb.append("CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIC8vIHRoaXMgZXhpc3Rz");
    sb.append("IGlmIHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSB0aGUgZ2xvYmFsIGRvbWFpbiBmb3IgdGhlaXIgc2l0");
    sb.append("ZQogICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIik7CiAgICBy");
    sb.append("b290UmVwbGFjZSA9IFtwYXJ0c1swXSwgcGFydHNbMV0sIHBhcnRzWzJdLCAiIl0uam9pbigiLyIpOwog");
    sb.append("ICAgdmFyIG9mZnNldCA9IHBhcnRzWzBdLmxlbmd0aCArIHBhcnRzWzFdLmxlbmd0aCArIHBhcnRzWzJd");
    sb.append("Lmxlbmd0aCArIDI7CiAgICBmaXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHsKICAgICAgcmV0dXJuIHBh");
    sb.append("dGguc3Vic3RyaW5nKG9mZnNldCk7CiAgICB9OwogIH0KCiAgdmFyIGZpeEhyZWYgPSBmdW5jdGlvbiAo");
    sb.append("aHJlZikgewogICAgaWYgKCFocmVmKSB7CiAgICAgIHJldHVybiAiIyI7CiAgICB9CiAgICBpZiAoaHJl");
    sb.append("Zi5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgcmV0dXJuIHJvb3RSZXBsYWNlICsgaHJlZi5zdWJzdHJp");
    sb.append("bmcoMSk7CiAgICB9CiAgICByZXR1cm4gaHJlZjsKICB9OwoKICB2YXIgZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgIGlmIChuYW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHJl");
    sb.append("dHVybiBjb25uZWN0aW9uc1tuYW1lXTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAg");
    sb.append("ICAgbmFtZTogbmFtZSwKICAgICAgICBwdHI6IG51bGwsCiAgICAgICAgdHJlZTogbmV3IEFkYW1hVHJl");
    sb.append("ZSgpLAogICAgICAgIG91dHN0YW5kaW5nOiB7fSwKICAgICAgICBkZWNpc2lvbnM6IHt9LAogICAgICAg");
    sb.append("IGNob2ljZV9zdWJzOiB7fSwKICAgICAgICByZXNldHM6IHt9LAogICAgICAgIGNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzOiB7fSwKICAgICAgICBzeW5jX2V2ZW50czoge30sCiAgICAgICAgaWQ6IDAsCiAgICAgICAgY29u");
    sb.append("bmVjdGlvbl9zdGF0ZTogZmFsc2UsCiAgICAgICAgY2hvaWNlczoge30sCiAgICAgICAgYm91bmQ6ICIi");
    sb.append("LAogICAgICAgIHZpZXdzdGF0ZV9zZW50OiB0cnVlLAogICAgICAgIHZpZXdzdGF0ZV9jbG9uZTogIiIs");
    sb.append("CiAgICAgICAgaGFzX2ZpbHRlcjogZmFsc2UsCiAgICAgICAgc3luY2VkOiBmYWxzZSwKICAgICAgICBm");
    sb.append("aWx0ZXI6IHt9LAogICAgICAgIHZzc2VxOiAwLAogICAgICAgIGRlYnVnZ2VyOiBmdW5jdGlvbiAoZGVs");
    sb.append("dGEpIHsgfSwKICAgICAgICByYXc6IGNvbm5lY3Rpb24KICAgICAgfTsKICAgICAgb2JqLm51a2UgPSBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX2V2ZW50cyA9IHt9OwogICAgICAgIHRo");
    sb.append("aXMuc3luY19ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLmNob2ljZV9zdWJzID0ge307CiAgICAgIH0u");
    sb.append("YmluZChvYmopOwogICAgICBpZiAoQWRhbWEuRGVidWdnZXIpIHsKICAgICAgICBvYmouZGVidWdnZXIg");
    sb.append("PSBBZGFtYS5EZWJ1Z2dlci5yZWdpc3RlcihvYmopOwogICAgICB9CiAgICAgIG9iai5zeW5jID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHZhciBzeW5jZWQgPSB0aGlzLmNvbm5lY3Rpb25fc3RhdGUgJiYgdGhp");
    sb.append("cy52aWV3c3RhdGVfc2VudDsKICAgICAgICBpZiAodGhpcy5zeW5jZWQgPT0gc3luY2VkKSB7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuc3luY2VkID0gc3luY2VkOwogICAgICAg");
    sb.append("IHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLnN5bmNfZXZlbnRzKSB7CiAg");
    sb.append("ICAgICAgICBpZiAoIShvYmouc3luY19ldmVudHNbc3ViXShzeW5jZWQpKSkgewogICAgICAgICAgICBh");
    sb.append("eGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5zeW5jX2V2ZW50c1theGVb");
    sb.append("a11dOwogICAgICAgIH0KICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfc3luYyA9");
    sb.append("IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAg");
    sb.append("ICAgICB0aGlzLnN5bmNfZXZlbnRzW3NdID0gY2FsbGJhY2s7CiAgICAgICAgY2FsbGJhY2sodGhpcy5z");
    sb.append("eW5jZWQpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5z");
    sb.append("eW5jX2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH07CiAgICAgIG9iai5zZXRf");
    sb.append("Y29ubmVjdGVkID0gZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbl9zdGF0");
    sb.append("ZSA9PSBjcykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbm5lY3Rp");
    sb.append("b25fc3RhdGUgPSBjczsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGlu");
    sb.append("IG9iai5jb25uZWN0aW9uX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLmNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzW3N1Yl0oY3MpKSkgewogICAgICAgICAgICBheGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAg");
    sb.append("ICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgZGVsZXRlIG9iai5jb25uZWN0aW9uX2V2ZW50c1theGVba11dOwogICAgICAgIH0KICAgICAgICB0");
    sb.append("aGlzLnN5bmMoKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5jb25uZWN0ZWQgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhp");
    sb.append("cy5jb25uZWN0aW9uX2V2ZW50c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuY29u");
    sb.append("bmVjdGlvbl9zdGF0ZSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0");
    sb.append("ZSB0aGlzLmNvbm5lY3Rpb25fZXZlbnRzW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfYW55ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFy");
    sb.append("IHMgPSBjaGFubmVsICsgInwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlX3Jlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGRy");
    sb.append("ID0gInJlc2V0fCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5yZXNldHNbZHJdID0gY2FsbGJhY2s7");
    sb.append("CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc2V0c1tk");
    sb.append("cl07CiAgICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNj");
    sb.append("cmliZV9jaG9pY2UgPSBmdW5jdGlvbiAoY2hhbm5lbCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9");
    sb.append("IGNoYW5uZWwgKyAifCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5jaG9pY2Vfc3Vic1tzXSA9IGNh");
    sb.append("bGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5j");
    sb.append("aG9pY2Vfc3Vic1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmoub25jaG9pY2VzID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNob2ljZSkgewogICAgICAgIHZhciBh");
    sb.append("eGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLmNob2ljZV9zdWJzKSB7CiAgICAgICAg");
    sb.append("ICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2hhbm5lbCArICJ8IikpIHsKICAgICAgICAgICAgaWYgKCFvYmou");
    sb.append("Y2hvaWNlX3N1YnNbc3ViXShjaG9pY2UpKSB7CiAgICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5jaG9pY2Vfc3Vic1theGVba11d");
    sb.append("OwogICAgICAgIH0KICAgICAgfTsKICAgICAgb2JqLm9uZGVjaWRlID0gZnVuY3Rpb24gKG91dHN0YW5k");
    sb.append("aW5nKSB7CiAgICAgICAgdmFyIGF4ZVJlc2V0ID0gW107CiAgICAgICAgZm9yICh2YXIgZHIgaW4gb2Jq");
    sb.append("LnJlc2V0cykgewogICAgICAgICAgdmFyIHIgPSBvYmoucmVzZXRzW2RyXTsKICAgICAgICAgIGlmICgh");
    sb.append("KHIoKSkpIHsKICAgICAgICAgICAgYXhlUmVzZXQucHVzaChkcik7CiAgICAgICAgICB9CiAgICAgICAg");
    sb.append("fQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlUmVzZXQubGVuZ3RoOyBrKyspIHsKICAgICAg");
    sb.append("ICAgIGRlbGV0ZSBvYmoucmVzZXRzW2F4ZVJlc2V0W2tdXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2");
    sb.append("YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICBvYmoub3V0c3RhbmRpbmdbY2hdID0g");
    sb.append("eyBvcHRpb25zOiBbXSB9OwogICAgICAgIH0KICAgICAgICB2YXIgbiA9IG91dHN0YW5kaW5nLmxlbmd0");
    sb.append("aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIG8gPSBv");
    sb.append("dXRzdGFuZGluZ1trXTsKICAgICAgICAgIG9iai5vdXRzdGFuZGluZ1tvLmNoYW5uZWxdID0gbzsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgZm9yICh2YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICB2");
    sb.append("YXIgb3V0ID0gb2JqLm91dHN0YW5kaW5nW2NoXTsKICAgICAgICAgIHZhciBheGUgPSBbXTsKICAgICAg");
    sb.append("ICAgIGZvciAodmFyIHN1YiBpbiBvYmouZGVjaXNpb25zKSB7CiAgICAgICAgICAgIGlmIChzdWIuc3Rh");
    sb.append("cnRzV2l0aChjaCArICJ8IikgfHwgc3ViLnN0YXJ0c1dpdGgoIi18IikpIHsKICAgICAgICAgICAgICBp");
    sb.append("ZiAoIW9iai5kZWNpc2lvbnNbc3ViXShvdXQsIGNoKSkgewogICAgICAgICAgICAgICAgYXhlLnB1c2go");
    sb.append("c3ViKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvYmou");
    sb.append("ZGVjaXNpb25zW2F4ZVtrXV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25u");
    sb.append("ZWN0aW9uc1tuYW1lXSA9IG9iajsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYuZ2V0");
    sb.append("Q29ubmVjdGlvbkJ5TmFtZSA9IGdldF9jb25uZWN0aW9uX29iajsKCiAgc2VsZi5tYWtlID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgcmV0dXJuIG5ldyBBZGFtYVRyZWUoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJz");
    sb.append("Y3JpYmUgdGhlIGdpdmVuICdzdWInIHRvIGNoYW5nZXMgd2l0aGluIHN0YXRlIGZvciB0aGUgZ2l2ZW4g");
    sb.append("ZmllbGQgbmFtZWQgbmFtZQogIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHN1");
    sb.append("YikgewogICAgdmFyIHNzID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAgICB2YXIgcyA9IHNzW3NzLmN1");
    sb.append("cnJlbnRdOwogICAgaWYgKHMgPT0gbnVsbCkgewogICAgICBjb25zb2xlLmVycm9yKHNzLmN1cnJlbnQg");
    sb.append("KyAiIGlzIG5vdCBhdmFpbGFibGU7IHVuYWJsZSB0byBzdWJzY3JpYmUuIik7CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICgiQGUiIGluIHMuZGVsdGEpIHsKICAgICAgcy5kZWx0YVsiQGUiXS5wdXNoKHN1");
    sb.append("Yik7CiAgICB9IGVsc2UgewogICAgICBzLmRlbHRhWyJAZSJdID0gW3N1Yl07CiAgICB9CiAgfTsKICBz");
    sb.append("ZWxmLnN1YnNjcmliZSA9IHN1YnNjcmliZTsKCiAgLy8gSEVMUEVSIHwgY3JlYXRlIGZyZXNoIHN0YXRl");
    sb.append("CiAgdmFyIGZyZXNoID0gZnVuY3Rpb24gKHdoZXJlKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlOiBu");
    sb.append("ZXcgQWRhbWFUcmVlKCksCiAgICAgIGRlbHRhOiB7fSwKICAgICAgcGFyZW50OiBudWxsLAogICAgICBw");
    sb.append("YXRoOiBudWxsLAogICAgICB3aGVyZTogd2hlcmUKICAgIH07CiAgfTsKICBzZWxmLmZyZXNoID0gZnJl");
    sb.append("c2g7CgogIC8vIEhFTFBFUjogcmVtb3ZlIHBvdGVudGlhbGx5IHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBm");
    sb.append("cm9tIGFuIG9iamVjdAogIHZhciBzYWZlX2ZpbHRlciA9IGZ1bmN0aW9uKG8pIHsKICAgIGlmICgncGFz");
    sb.append("c3dvcmQnIGluIG8pIHsKICAgICAgZGVsZXRlIG9bJ3Bhc3N3b3JkJ107CiAgICB9CiAgICBpZiAoJ29u");
    sb.append("ZV90aW1lX3Bhc3N3b3JkJyBpbiBvKSB7CiAgICAgIGRlbGV0ZSBvWydvbmVfdGltZV9wYXNzd29yZCdd");
    sb.append("OwogICAgfQogICAgcmV0dXJuIG87CiAgfQoKICAvLyBIRUxQRVIgfCBjcmVhdGUgYSBuZXcgZGVsdGEg");
    sb.append("Y29weSBmcm9tIHRoZSBnaXZlbiBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgZGF0YSBvciB2aWV3");
    sb.append("KQogIHZhciBuZXdfZGVsdGFfY29weSA9IGZ1bmN0aW9uIChzcykgewogICAgaWYgKHNzID09IG51bGwp");
    sb.append("IHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICB2YXIgcGFyZW50ID0gbnVsbDsKICAgIGlmIChz");
    sb.append("cy5wYXJlbnQgIT0gbnVsbCkgewogICAgICBwYXJlbnQgPSBuZXdfZGVsdGFfY29weShzcy5wYXJlbnQp");
    sb.append("OwogICAgfQogICAgdmFyIG5ld19kZWx0YSA9IHt9OwogICAgaWYgKHBhcmVudCAhPSBudWxsKSB7CiAg");
    sb.append("ICAgIHBhcmVudC5kZWx0YVtzcy5wYXRoXSA9IG5ld19kZWx0YTsKICAgIH0KICAgIHJldHVybiB7IHRy");
    sb.append("ZWU6IHNzLnRyZWUsIHBhcmVudDogcGFyZW50LCBkZWx0YTogbmV3X2RlbHRhLCBwYXRoOiBzcy5wYXRo");
    sb.append("IH07CiAgfTsKICBzZWxmLm1ha2VEZWx0YUNvcHkgPSBuZXdfZGVsdGFfY29weTsKCiAgLy8gSEVMUEVS");
    sb.append("IHwgY29uc3RydWN0IGEgcGF0aCB0bwogIHZhciBwYXRoX3RvID0gZnVuY3Rpb24gKHNzLCBvYmopIHsK");
    sb.append("ICAgIGlmIChzcy5wYXJlbnQgIT0gbnVsbCkgewogICAgICB2YXIgcGVlbCA9IHt9OwogICAgICBwZWVs");
    sb.append("W3NzLnBhdGhdID0gb2JqOwogICAgICByZXR1cm4gcGF0aF90byhzcy5wYXJlbnQsIHBlZWwpOwogICAg");
    sb.append("fSBlbHNlIHsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYucGF0aFRvID0gcGF0aF90");
    sb.append("bzsKCiAgLy8gSEVMUEVSIHwgZ2V0IHRoZSByb290IG9mIHRoZSBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBl");
    sb.append("aXRoZXIgdGhlIGRhdGEncyByb290IG9yIHRoZSB2aWV3J3Mgcm9vdCkKICB2YXIgcm9vdF9vZiA9IGZ1");
    sb.append("bmN0aW9uIChzcykgewogICAgdmFyIHggPSBzczsKICAgIHdoaWxlICh4LnBhcmVudCAhPSBudWxsKSB7");
    sb.append("CiAgICAgIHggPSB4LnBhcmVudDsKICAgIH0KICAgIHJldHVybiB4OwogIH07CiAgc2VsZi5yb290T2Yg");
    sb.append("PSByb290X29mOwoKICAvLyBIRUxQRVIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBmcm9tIHRoZSBn");
    sb.append("aXZlbiBET00gbm9kZQogIHZhciBudWtlID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3Qg");
    sb.append("PSBwYXJlbnQubGFzdENoaWxkOwogICAgd2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNo");
    sb.append("aWxkKGxhc3QpOwogICAgICBsYXN0ID0gcGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwogIHNlbGYu");
    sb.append("bnVrZSA9IG51a2U7CgogIC8vIEhFTFBFUjogZGVib3VuY2UgdGhlIGdpdmVuIGZ1bmN0aW9uYWwgd2hl");
    sb.append("biByYXBpZCBmdW5jdGlvbiBzcHJlYWQgaXMgZXhwZWN0ZWQKICB2YXIgZGVib3VuY2UgPSBmdW5jdGlv");
    sb.append("biAobXMsIGZvbykgewogICAgdmFyIHN0YXR1cyA9IHsgaW5mbGlnaHQ6IGZhbHNlLCB0aW1lb3V0OiBu");
    sb.append("dWxsIH07CiAgICBzdGF0dXMuaW5mbGlnaHQgPSBmYWxzZTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGlmICghc3RhdHVzLmluZmxpZ2h0KSB7CiAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gdHJ1");
    sb.append("ZTsKICAgICAgICBzdGF0dXMudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICAgIHN0YXR1cy5pbmZsaWdodCA9IGZhbHNlOwogICAgICAgICAgc3RhdHVzLnRpbWVvdXQg");
    sb.append("PSBudWxsOwogICAgICAgICAgZm9vKCk7CiAgICAgICAgfSwgbXMgLyogbXMgKi8pOyAvLyBkZWJvdW5j");
    sb.append("ZSB0aGUgcGFyYW1ldGVycwogICAgICB9CiAgICB9OwogIH07CiAgc2VsZi5kZWJvdW5jZSA9IGRlYm91");
    sb.append("bmNlOwoKICAvLyBIRUxQRVIgfCBwcmVwYXJlIGEgZnJlZSB1bnN1YnNjcmliZSBvYmplY3QKICB2YXIg");
    sb.append("bWFrZV91bnN1YiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIF9fZGF0YTogZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICB9LCBfX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICB9OwoK");
    sb.append("ICAvLyBIRUxQRVIgfCBhdWdtZW50IGFuIGV4aXN0aW5nIG9iamVjdCB3aXRoIHVuc3Vic2NyaWJlIGRh");
    sb.append("dGEKICB2YXIgYWRkX3Vuc3ViID0gZnVuY3Rpb24gKG9iaikgewogICAgb2JqLl9fZGF0YSA9IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgIH07CiAgICBvYmouX192aWV3ID0gZnVuY3Rpb24gKCkgewogICAgfTsKICB9OwoK");
    sb.append("ICAvLyBIRUxQRVIgfCBmaXJlIHRoZSB1bnN1YnNjcmliZSBjYWxscyB3aXRoaW4gYW4gb2JqZWN0CiAg");
    sb.append("dmFyIGZpcmVfdW5zdWIgPSBmdW5jdGlvbiAodW5zdWIpIHsKICAgIHVuc3ViLl9fZGF0YSgpOwogICAg");
    sb.append("dW5zdWIuX192aWV3KCk7CiAgfTsKCiAgdmFyIGlzRW1wdHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7");
    sb.append("CiAgICBpZiAodHlwZW9mKGRlbHRhKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgIHJldHVybiBmYWxzZTsK");
    sb.append("ICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZWx0YSkpIHsKICAgICAgZm9yICh2YXIgaiA9IDA7");
    sb.append("IGogPCBkZWx0YS5sZW5ndGg7IGorKykgewogICAgICAgIGlmICghaXNFbXB0eURlbHRhKGRlbHRhW2pd");
    sb.append("KSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlm");
    sb.append("ICh0eXBlb2YoZGVsdGEpID09ICJvYmplY3QiKSB7CiAgICAgIGZvciAodmFyIGsgaW4gZGVsdGEpIHsK");
    sb.append("ICAgICAgICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YVtrXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxz");
    sb.append("ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8gSEVMUEVS");
    sb.append("IHwgc3Vic2NyaWJlIHRvIHN0YXRlIGFuZCBwb3B1bGF0ZSB1bnN1YnNjcmliZSBvYmplY3QKICB2YXIg");
    sb.append("c3Vic2NyaWJlX3N0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB1bnN1YikgewogICAgLy8gICYmICFpc0Vt");
    sb.append("cHR5RGVsdGEoc3RhdGUuZGF0YSkKICAgIHVuc3ViLl9fZGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgIH07");
    sb.append("CiAgICB1bnN1Yi5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwoKICAgIGlmIChzdGF0ZS5kYXRh");
    sb.append("ICE9IG51bGwpIHsKICAgICAgdmFyIGRlbHRhID0gcm9vdF9vZihzdGF0ZS5kYXRhKS5kZWx0YTsKICAg");
    sb.append("ICAgaWYgKCFpc0VtcHR5RGVsdGEoZGVsdGEpKSB7CiAgICAgICAgdW5zdWIuX19kYXRhID0gc3RhdGUu");
    sb.append("ZGF0YS50cmVlLnN1YnNjcmliZShkZWx0YSk7CiAgICAgIH0KICAgIH0KICAgIC8vICAmJiAhaXNFbXB0");
    sb.append("eURlbHRhKHN0YXRlLnZpZXcpCiAgICBpZiAoc3RhdGUudmlldyAhPSBudWxsKSB7CiAgICAgIHZhciBk");
    sb.append("ZWx0YSA9IHJvb3Rfb2Yoc3RhdGUudmlldykuZGVsdGE7CiAgICAgIGlmICghaXNFbXB0eURlbHRhKGRl");
    sb.append("bHRhKSkgewogICAgICAgIHVuc3ViLl9fdmlldyA9IHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUoZGVs");
    sb.append("dGEpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgdmlldyBv");
    sb.append("YmplY3QKICBzZWxmLnBWID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBz");
    sb.append("dGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAi");
    sb.append("dmlldyIgfTsKICB9OwogIHNlbGYubmV3U3RhdGVWaWV3T2YgPSBzZWxmLnBWOwoKICAvLyBSVU5USU1F");
    sb.append("IHwgU3dpdGNoIHRvIHRoZSBkYXRhIG9iamVjdAogIHNlbGYucEQgPSBmdW5jdGlvbiAoc3RhdGUpIHsK");
    sb.append("ICAgIHJldHVybiB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6");
    sb.append("IHN0YXRlLnZpZXcsIGN1cnJlbnQ6ICJkYXRhIiB9OwogIH07CiAgc2VsZi5uZXdTdGF0ZURhdGFPZiA9");
    sb.append("IHNlbGYucEQ7CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2ggdG8gdGhlIHJvb3Qgb2JqZWN0IC8gKFJvb3Qp");
    sb.append("CiAgc2VsZi5wUiA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0");
    sb.append("YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0");
    sb.append("YXRlLmN1cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICB3aGls");
    sb.append("ZSAocHJpb3IgIT0gbnVsbCkgewogICAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gcHJpb3I7CiAgICAg");
    sb.append("IHByaW9yID0gcHJpb3IucGFyZW50OwogICAgfQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5l");
    sb.append("d1N0YXRlUm9vdE9mID0gc2VsZi5wUjsKCiAgLy8gUlVOVElNRSB8IC4uLyAoVXApCiAgc2VsZi5wVSA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2Us");
    sb.append("IGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQg");
    sb.append("fTsKICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICBpZiAocHJpb3IucGFyZW50");
    sb.append("ICE9IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9IHByaW9yLnBhcmVudDsKICAgIH0K");
    sb.append("ICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVBhcmVudE9mID0gc2VsZi5wVTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IGRpdmUgb25lIGxldmVsIEludG8gcGF0aDEvcGF0aDIvLi4uLi9wYXRoTgogIHNl");
    sb.append("bGYucEkgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBwcmlvciA9IHN0YXRlW3N0YXRl");
    sb.append("LmN1cnJlbnRdOwogICAgaWYgKHByaW9yID09IG51bGwpIHsKICAgICAgY29uc29sZS5lcnJvcihzdGF0");
    sb.append("ZS5jdXJyZW50ICsgIiBpcyBub3QgcHJlc2VudCIpOwogICAgICByZXR1cm4gc3RhdGU7CiAgICB9CiAg");
    sb.append("ICBpZiAoIShuYW1lIGluIHByaW9yLmRlbHRhKSkgewogICAgICBwcmlvci5kZWx0YVtuYW1lXSA9IHt9");
    sb.append("OwogICAgfQogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRl");
    sb.append("LmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIG5leHRb");
    sb.append("c3RhdGUuY3VycmVudF0gPSB7CiAgICAgIHRyZWU6IHByaW9yLnRyZWUsCiAgICAgIGRlbHRhOiBwcmlv");
    sb.append("ci5kZWx0YVtuYW1lXSwKICAgICAgcGFyZW50OiBwcmlvciwKICAgICAgcGF0aDogbmFtZQogICAgfTsK");
    sb.append("ICAgIGlmIChuZXh0LmN1cnJlbnQgPT0gImRhdGEiKSB7CiAgICAgIG5leHQuZGF0YS5jb25uZWN0aW9u");
    sb.append("ID0gcHJpb3IuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdT");
    sb.append("dGF0ZURpdmVJbnRvID0gc2VsZi5wSTsKCiAgLy8gUlVOVElNRSB8IGV4dGVuZCB0aGUgZ2l2ZW4gc3Rh");
    sb.append("dGUgd2l0aCB0aGUgdmlldyBoYXZpbmcgYSBzZXBhcmF0ZSBjaGlsZAogIHNlbGYucEVWID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlLCBuYW1lKSB7CiAgICBpZiAoIShuYW1lIGluIHN0YXRlLnZpZXcuZGVsdGEpKSB7CiAg");
    sb.append("ICAgIHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHNl");
    sb.append("cnZpY2U6IHN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHN0YXRlLmRhdGEsCiAgICAgIHZpZXc6IHsK");
    sb.append("ICAgICAgICB0cmVlOiBzdGF0ZS52aWV3LnRyZWUsCiAgICAgICAgZGVsdGE6IHN0YXRlLnZpZXcuZGVs");
    sb.append("dGFbbmFtZV0sCiAgICAgICAgcGFyZW50OiBzdGF0ZS52aWV3LAogICAgICAgIHBhdGg6IG5hbWUKICAg");
    sb.append("ICAgfSwKICAgICAgY3VycmVudDogc3RhdGUuY3VycmVudAogICAgfTsKICB9OwogIHNlbGYubmV3U3Rh");
    sb.append("dGVDcmVhdGVWaWV3Q2hpbGQgPSBzZWxmLnBFVjsKCiAgc2VsZi5wSUUgPSBmdW5jdGlvbiAoc3RhdGUs");
    sb.append("IG5hbWUsIGV4cGFuZFZpZXcpIHsKICAgIHZhciBuZXh0ID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAg");
    sb.append("ICBpZiAoZXhwYW5kVmlldykgewogICAgICByZXR1cm4gc2VsZi5wRVYobmV4dCwgbmFtZSk7CiAgICB9");
    sb.append("IGVsc2UgewogICAgICByZXR1cm4gbmV4dDsKICAgIH0KICB9OwoKICB2YXIgZm9yayA9IGZ1bmN0aW9u");
    sb.append("IChwcmlvclN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUu");
    sb.append("c2VydmljZSwKICAgICAgZGF0YTogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS5kYXRhKSwKICAgICAg");
    sb.append("dmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDogcHJpb3JT");
    sb.append("dGF0ZS5jdXJyZW50CiAgICB9OwogICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICBzdGF0");
    sb.append("ZS5kYXRhLmNvbm5lY3Rpb24gPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbjsKICAgIH0KICAgIHJl");
    sb.append("dHVybiBzdGF0ZTsKICB9OwoKICAvLyBSVU5USU1FIHwgc3Vic2NyaWJlIGJldHdlZW4gdGhlIHN0YXRl");
    sb.append("IGFuZCB0aGUgb2JqZWN0LgogIC8vIFdoZW4gdGhlIG1lbWJlciBmaWVsZCB3aXRoaW4gc3RhdGUgb2Yg");
    sb.append("bmFtZSBjaGFuZ2VzLCBjb3B5IHRoYXQgdmFsdWUgaW50byB0aGUgb2JqIGFuZCBydW4gcmVjb21wdXRl");
    sb.append("KCkKICBzZWxmLlkgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSwgcmVjb21wdXRlKSB7CiAgICB2");
    sb.append("YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAgICBy");
    sb.append("ZWNvbXB1dGUoKTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAg");
    sb.append("c2VsZi5ZMiA9IGZ1bmN0aW9uIChzdGF0ZSwgciwga2V5LCBuYW1lLCByZWNvbXB1dGUpIHsKICAgIHZh");
    sb.append("ciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHIuX1trZXldOwogICAgICBv");
    sb.append("YmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKG9iaik7CiAgICAgIHJldHVybiB0cnVlOwog");
    sb.append("ICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FOiBi");
    sb.append("dWlsZCBhbiByeG9iagogIHNlbGYuUlggPSBmdW5jdGlvbiAodmFycykgewogICAgdmFyIG8gPSB7fTsK");
    sb.append("ICAgIG8uXyA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB2YXJzLmxlbmd0aDsgaysrKSB7CiAg");
    sb.append("ICAgIG8uX1t2YXJzW2tdXSA9IHt9OwogICAgfQogICAgby5fXyA9IGZ1bmN0aW9uKCkge307CiAgICBy");
    sb.append("ZXR1cm4gbzsKICB9OwoKICAvLyBSVU5USU1FIHwgSnVzdCBzdWJzY3JpYmVlIHZhbHVlIHRvIHRoZSBv");
    sb.append("YmplY3QgZmllbGQgb2YgbmFtZSAobm8tcmVjb21wdXRlKQogIHNlbGYuWVMgPSBmdW5jdGlvbiAoc3Rh");
    sb.append("dGUsIG9iaiwgbmFtZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRl");
    sb.append("LCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCAiVGV4dCIKICBzZWxmLlQgPSBmdW5jdGlv");
    sb.append("biAodHgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0eCk7CiAgfTsKCiAgLy8g");
    sb.append("Y29udmVydCBhIHZhbHVlIGludG8gYSBib29sZWFuCiAgc2VsZi5CID0gZnVuY3Rpb24odmFsKSB7CiAg");
    sb.append("ICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHZh");
    sb.append("bCA9PSAidHJ1ZSI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx2aWV3LXdyaXRlIG5hbWU9IiIgdmFsdWU9");
    sb.append("IiI+CiAgc2VsZi5WVyA9IGZ1bmN0aW9uKHN0YXRlLCBuYW1lLCByeE9iaikgewogICAgcnhPYmouX18g");
    sb.append("PSBkZWJvdW5jZSg1MCwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgdmFyIHZh");
    sb.append("bHVlID0gcnhPYmoudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24iKSB7");
    sb.append("CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbbmFt");
    sb.append("ZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9i");
    sb.append("aik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uPgogIHNlbGYuTCA9IGZ1bmN0aW9uIChz");
    sb.append("dGF0ZSwgbmFtZSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAg");
    sb.append("IHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHZhbHVlOwog");
    sb.append("ICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAvPgog");
    sb.append("IHNlbGYuTFQgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSkgewogICAgdmFyIGRvbSA9");
    sb.append("IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUp");
    sb.append("IHsKICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICBkb20ubm9kZVZhbHVlID0gdHJhbnNm");
    sb.append("b3JtKHZhbHVlKTsKICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsK");
    sb.append("ICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNm");
    sb.append("b3JtPSIkdHJhbnNmb3JtIiAvPgogIHNlbGYuTFRkVCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSwgdHJh");
    sb.append("bnNmb3JtLCBmcmVxKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwog");
    sb.append("ICAgLy8gY3JlYXRlIHRoZSBuZXh1cyBvYmplY3QKICAgIHZhciBvYmogPSB7fTsKICAgIG9iai5mcmVx");
    sb.append("ID0gZnJlcTsKICAgIG9iai52YWx1ZSA9ICIiOwoKICAgIC8vIHVwZGF0ZSB3aWxsIGV4ZWN1dGUgdGhl");
    sb.append("IHRyYW5zZm9ybSBvbiB0aGUgdmFsdWUKICAgIG9iai51cGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh0aGlzLnZhbHVlKTsKICAgIH0uYmluZChvYmopOwoKICAg");
    sb.append("IC8vIHN1YnNjcmlwdGlvbiB3aWxsIHN5bmMgdGhlIHZhbHVlCiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZh");
    sb.append("bHVlOwogICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIH0KICAgIH0uYmluZChvYmopOwoKICAgIC8v");
    sb.append("IHJlZnJlc2ggd2lsbCByZS1leGVjdXRlIHRoZSB1cGRhdGUgKGFuZCB0aHVzIHRoZSB0cmFuc2Zvcm0p");
    sb.append("CiAgICBvYmoucmVmcmVzaCA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICBp");
    sb.append("ZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7IC8vIHdpbGwgcnVuIHNvIGxvbmcgYXMgdGhl");
    sb.append("IERPTSBjb250YWlucyB0aGUgbm9kZSB3ZSBtYW5pcHVsYXRlZAogICAgICAgIHdpbmRvdy5zZXRUaW1l");
    sb.append("b3V0KHRoaXMucmVmcmVzaCwgdGhpcy5mcmVxKTsKICAgICAgfQogICAgfS5iaW5kKG9iaik7CiAgICAv");
    sb.append("LyBraWNrIG9mZiB0aGUgYXV0byB0cmFuc2Zvcm0KICAgIHdpbmRvdy5zZXRUaW1lb3V0KG9iai5yZWZy");
    sb.append("ZXNoLCBmcmVxKTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207");
    sb.append("CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWc+CiAgc2VsZi5FID0gZnVuY3Rpb24gKHRhZywgbnMpIHsK");
    sb.append("ICAgIGlmIChucyA9PSB1bmRlZmluZWQgfHwgbnMgPT0gbnVsbCkgewogICAgICB2YXIgZG9tID0gZG9j");
    sb.append("dW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOwogICAgICBpZiAodGFnID09ICJzZWxlY3QiKSB7CiAgICAg");
    sb.append("ICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkgeyBkb20ucnh2YWx1ZSA9");
    sb.append("IGRvbS52YWx1ZTsgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbTsKICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("IHZhciByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7CiAgICAgIHJlc3Vs");
    sb.append("dC5zZXRBdHRyaWJ1dGUoInhtbG5zIiwgbnMpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8cGljayBuYW1lPS4uLj4KICBzZWxmLlAgPSBmdW5jdGlvbiAocGFyZW50");
    sb.append("LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRNYWtlckNvbm5lY3RlZCwgY2hpbGRNYWtlckRpc2Nvbm5l");
    sb.append("Y3RlZCkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgcnhPYmouX18gPSBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeE9iaikpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgaWYgKHRoaXMubmFtZSA9PSByeE9iai5uYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeE9iai5uYW1lKTsKICAgICAgdGhp");
    sb.append("cy5uYW1lID0gcnhPYmoubmFtZTsKICAgICAgY28uY29ubmVjdGVkKGZ1bmN0aW9uIChjcykgewogICAg");
    sb.append("ICAgIG51a2UocGFyZW50KTsKICAgICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgICB2YXIgc3Rh");
    sb.append("dGUgPSB7CiAgICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgICBkYXRh");
    sb.append("OiB7IGNvbm5lY3Rpb246IGNvLCB0cmVlOiBjby50cmVlLCBkZWx0YToge30sIHBhcmVudDogbnVsbCwg");
    sb.append("cGF0aDogbnVsbCB9LAogICAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3");
    sb.append("KSwKICAgICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICAgIH07CiAgICAgICAgaWYgKGNzKSB7CiAg");
    sb.append("ICAgICAgICBjaGlsZE1ha2VyQ29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgICBjaGlsZE1ha2VyRGlzY29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAvLyBUT0RPOiByZXR1");
    sb.append("cm4gZmFsc2UgdG8gdW5zdWIKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9LmJpbmQo");
    sb.append("eyBuYW1lOiAiIiB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRlbXBsYXRlIG5hbWU9Ii4uLiI+CiAg");
    sb.append("c2VsZi5UUCA9IGZ1bmN0aW9uIChuYW1lLCBmb28pIHsKICAgIHRlbXBsYXRlc1tuYW1lXSA9IGZvbzsK");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FIHwgPHRhZyByeDp0ZW1wbGF0ZT0kbmFtZT4KICBzZWxmLlVUID0gZnVu");
    sb.append("Y3Rpb24gKHBhcmVudCwgc3RhdGUsIG5hbWUsIGNoaWxkX21ha2VyKSB7CiAgICB2YXIgZm9vID0gdGVt");
    sb.append("cGxhdGVzW25hbWVdOwogICAgaWYgKHR5cGVvZihmb28pID09ICJmdW5jdGlvbiIpIHsKICAgICAgZm9v");
    sb.append("KHBhcmVudCwgc3RhdGUsIGNoaWxkX21ha2VyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUuZXJy");
    sb.append("b3IoImZhaWxlZCB0byBmaW5kIHRlbXBsYXRlOiAiICsgbmFtZSk7CiAgICB9CiAgfTsKCiAgLy8gUlVO");
    sb.append("VElNRSB8IDx0YWcgcng6c3dpdGNoPXBhdGggLi4+CiAgc2VsZi5TVyA9IGZ1bmN0aW9uIChwYXJlbnQs");
    sb.append("IHByaW9yU3RhdGUsIG5hbWUsIGNoaWxkcmVuTWFrZXIpIHsKICAgIHZhciBzd3N0ID0geyBwcmlvcjog");
    sb.append("bnVsbCB9OwogICAgYWRkX3Vuc3ViKHN3c3QpOwogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkg");
    sb.append("ewogICAgICBpZiAodmFsdWUgPT0gdGhpcy5wcmlvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQog");
    sb.append("ICAgICB0aGlzLnByaW9yID0gdmFsdWU7CiAgICAgIGZpcmVfdW5zdWIodGhpcyk7CiAgICAgIG51a2Uo");
    sb.append("cGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgY2hpbGRyZW5N");
    sb.append("YWtlcihwYXJlbnQsIHNlbGYucEQoc3RhdGUpLCAiIiArIHZhbHVlKTsKICAgICAgc3Vic2NyaWJlX3N0");
    sb.append("YXRlKHN0YXRlLCB0aGlzKTsKCiAgICB9LmJpbmQoc3dzdCk7CiAgICBzdWJzY3JpYmUocHJpb3JTdGF0");
    sb.append("ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRhZyByeDppdGVyYXRlPXBhdGggLi4u");
    sb.append("PgogIHNlbGYuSVQgPSBmdW5jdGlvbiAocGFyZW50RG9tLCBzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldywg");
    sb.append("bWFrZXIpIHsKICAgIHZhciBpdF9zdGF0ZSA9IHNlbGYucElFKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3");
    sb.append("KTsKICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgdmFyIHZpZXdVblN1YkJ5S2V5ID0ge307CiAgICB2");
    sb.append("YXIga2lsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgZm9yICh2YXIga2V5IGluIHZpZXdVblN1YkJ5S2V5");
    sb.append("KSB7CiAgICAgICAgZmlyZV91bnN1Yih2aWV3VW5TdWJCeUtleVtrZXldKTsKICAgICAgICBkZWxldGUg");
    sb.append("dmlld1VuU3ViQnlLZXlba2V5XTsKICAgICAgfQogICAgICBmb3IgKHZhciBrZXkgaW4gZG9tQnlLZXkp");
    sb.append("IHsKICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgc3Vi");
    sb.append("ID0gewogICAgICAiKyI6IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICB2YXIgbmV3X3N0YXRlID0gZm9y");
    sb.append("ayhzZWxmLnBJRShpdF9zdGF0ZSwga2V5LCBleHBhbmRWaWV3KSk7CiAgICAgICAgdmFyIHVuc3ViID0g");
    sb.append("bWFrZV91bnN1YigpOwogICAgICAgIHZhciBkb20gPSBtYWtlcihuZXdfc3RhdGUpOwogICAgICAgIGRv");
    sb.append("bUJ5S2V5W2tleV0gPSBkb207CiAgICAgICAgdmlld1VuU3ViQnlLZXlba2V5XSA9IHVuc3ViOwogICAg");
    sb.append("ICAgIHBhcmVudERvbS5hcHBlbmQoZG9tKTsKICAgICAgICB2YXIgaXRlbV9kZWx0YSA9IG5ld19zdGF0");
    sb.append("ZS5kYXRhLmRlbHRhOwogICAgICAgIG5ld19zdGF0ZS5kYXRhLmRlbHRhID0ge307CiAgICAgICAgc3Vi");
    sb.append("c2NyaWJlX3N0YXRlKG5ld19zdGF0ZSwgdW5zdWIpOwogICAgICAgIHJldHVybiBpdGVtX2RlbHRhOwog");
    sb.append("ICAgICB9LAogICAgICAiLSI6IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoa2V5IGluIGRvbUJ5");
    sb.append("S2V5KSB7CiAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tQnlLZXlba2V5XSk7CiAgICAg");
    sb.append("ICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsKICAgICAgICB9CiAgICAgICAgaWYgKGtleSBpbiB2aWV3");
    sb.append("VW5TdWJCeUtleSkgewogICAgICAgICAgZmlyZV91bnN1Yih2aWV3VW5TdWJCeUtleVtrZXldKTsKICAg");
    sb.append("ICAgICAgIGRlbGV0ZSB2aWV3VW5TdWJCeUtleVtrZXldOwogICAgICAgIH0KICAgICAgfSwKICAgICAg");
    sb.append("In4iOiBmdW5jdGlvbiAob3JkKSB7CiAgICAgICAgdmFyIHZhbHVlVG9TZXQgPSBmYWxzZTsKICAgICAg");
    sb.append("ICAvLyB0aGUgdmFsdWVzIGFyZSBmaWxsaW5nIHVwIEFGVEVyIHRoZSB2YWx1ZSB3YXMgc2V0LAogICAg");
    sb.append("ICAgIC8vIHNvIGRldGVjdCB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlIGFsb25nIHdpdGggdGhlIGV4aXN0");
    sb.append("ZW5jZSBvZiBhIHZhbHVlCiAgICAgICAgaWYgKCFwYXJlbnREb20udmFsdWUgJiYgcGFyZW50RG9tLnJ4");
    sb.append("dmFsdWUgIT0gIiIpIHsKICAgICAgICAgIHZhbHVlVG9TZXQgPSBwYXJlbnREb20ucnh2YWx1ZTsKICAg");
    sb.append("ICAgICAgIC8vIHRoaXMgdmFsdWUsIHdlIHdhbnQgdG8gcmVzdG9yZSBvbmNlCiAgICAgICAgfQogICAg");
    sb.append("ICAgIG51a2UocGFyZW50RG9tKTsKICAgICAgICBpZiAob3JkID09IG51bGwpIHsKICAgICAgICAgIGtp");
    sb.append("bGwoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsg");
    sb.append("PCBvcmQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tQnlLZXlbb3Jk");
    sb.append("W2tdXSk7CiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZVRvU2V0KSB7CiAgICAgICAgICBwYXJlbnRE");
    sb.append("b20udmFsdWUgPSB2YWx1ZVRvU2V0OwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHN1YnNjcmli");
    sb.append("ZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uLiByeDptb25pdG9y");
    sb.append("PSJzdGF0ZS1wYXRoIiByeDpyaXNlPSJjb21tYW5kcy4uLiIgcng6ZmFsbD0iY29tbWFuZHMuLi4iCiAg");
    sb.append("c2VsZi5NTiA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBuYW1lLCBza2lwRmlyc3QsIGRlbGF5KSB7CiAg");
    sb.append("ICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0");
    sb.append("aW9uKCkgewogICAgICAgIHZhciBuID0gMDsKICAgICAgICB0cnkgewogICAgICAgICAgbiA9IHR5cGVv");
    sb.append("ZiAodmFsdWUpID09ICdudW1iZXInID8gdmFsdWUgOiBwYXJzZUludCh2YWx1ZSk7CiAgICAgICAgfSBj");
    sb.append("YXRjaCAoZmFpbGVkUGFyc2luZ04pIHsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuZmlyc3QpIHsK");
    sb.append("ICAgICAgICAgIHRoaXMuYXQgPSBuOwogICAgICAgICAgdGhpcy5maXJzdCA9IGZhbHNlOwogICAgICAg");
    sb.append("ICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5hdCA8IG4pIHsKICAgICAgICAgIHZh");
    sb.append("ciBlID0gbmV3IEV2ZW50KCJyaXNlIik7CiAgICAgICAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKHRoaXMuYXQgPiBuKSB7CiAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgi");
    sb.append("ZmFsbCIpOwogICAgICAgICAgZG9tLmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgfQogICAgICAgIHRo");
    sb.append("aXMuYXQgPSBuOwogICAgICB9LmJpbmQodGhpcyksIHRoaXMuZGVsYXkpOwogICAgfS5iaW5kKHthdDot");
    sb.append("MSwgZmlyc3Q6c2tpcEZpcnN0LCBkZWxheTpkZWxheSA/IGRlbGF5IDogMTB9KTsKICAgIHN1YnNjcmli");
    sb.append("ZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uLiByeDpyZXBlYXQ9");
    sb.append("JD4KICBzZWxmLlJQID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcs");
    sb.append("IG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShzdGF0ZSwgIiQiICsgbmFtZSwgZXhw");
    sb.append("YW5kVmlldyk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBuID0gMDsK");
    sb.append("ICAgICAgdHJ5IHsKICAgICAgICBuID0gdHlwZW9mICh2YWx1ZSkgPT0gJ251bWJlcicgPyB2YWx1ZSA6");
    sb.append("IHBhcnNlSW50KHZhbHVlKTsKICAgICAgfSBjYXRjaCAoZmFpbGVkUGFyc2luZ04pIHsKICAgICAgfQog");
    sb.append("ICAgICB3aGlsZSAodGhpcy5hdCA8IG4gLSAxKSB7CiAgICAgICAgdGhpcy5hdCArKzsKICAgICAgICB0");
    sb.append("aGlzLnRyYWNrICsrOwogICAgICAgIHZhciBuZXdfc3RhdGUgPSBmb3JrKHNlbGYucElFKGl0X3N0YXRl");
    sb.append("LCB0aGlzLnRyYWNrICsgIiIsIGV4cGFuZFZpZXcpKTsKICAgICAgICB2YXIgdW5zdWIgPSBtYWtlX3Vu");
    sb.append("c3ViKCk7CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKHNlbGYucEQobmV3X3N0YXRlKSk7CiAgICAgICAg");
    sb.append("dGhpcy5pdGVtc1t0aGlzLmF0XSA9IHt1bnN1Yjp1bnN1YiwgZG9tOmRvbX07CiAgICAgICAgcGFyZW50");
    sb.append("RG9tLmFwcGVuZChkb20pOwogICAgICAgIGlmIChleHBhbmRWaWV3KSB7CiAgICAgICAgICBzdGF0ZS52");
    sb.append("aWV3LnRyZWUudXBkYXRlKHBhdGhfdG8obmV3X3N0YXRlLnZpZXcsIHsiJGluZGV4IjogdGhpcy50cmFj");
    sb.append("a30pKTsKICAgICAgICB9CiAgICAgICAgc3Vic2NyaWJlX3N0YXRlKG5ld19zdGF0ZSwgdW5zdWIpOwog");
    sb.append("ICAgICB9CiAgICAgIHdoaWxlICh0aGlzLmF0ID49IG4gJiYgdGhpcy5hdCA+PSAwKSB7CiAgICAgICAg");
    sb.append("ZmlyZV91bnN1Yih0aGlzLml0ZW1zW3RoaXMuYXRdLnVuc3ViKTsKICAgICAgICBwYXJlbnREb20ucmVt");
    sb.append("b3ZlQ2hpbGQodGhpcy5pdGVtc1t0aGlzLmF0XS5kb20pOwogICAgICAgIHRoaXMuaXRlbXNbdGhpcy5h");
    sb.append("dF0gPSBudWxsOwogICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zW3RoaXMuYXRdOwogICAgICAgIHRoaXMu");
    sb.append("YXQtLTsKICAgICAgfQogICAgfS5iaW5kKHtpdGVtczpbXSwgYXQ6LTEsIHRyYWNrOjB9KTsKICAgIHN1");
    sb.append("YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9CiAgdmFyIGZpbmQgPSBmdW5jdGlvbiAoc3RhdGUs");
    sb.append("IGNoYW5uZWwsIGtleSwgdmFsdWUpIHsKICAgIGlmIChjaGFubmVsIGluIHN0YXRlWyJkYXRhIl0uY29u");
    sb.append("bmVjdGlvbi5vdXRzdGFuZGluZykgewogICAgICB2YXIgYXJyID0gc3RhdGVbImRhdGEiXS5jb25uZWN0");
    sb.append("aW9uLm91dHN0YW5kaW5nW2NoYW5uZWxdLm9wdGlvbnM7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("YXJyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFyIHMgPSBhcnJba107CiAgICAgICAgaWYgKGtleSBp");
    sb.append("biBzICYmIHNba2V5XSA9PSB2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgfQogICAg");
    sb.append("ICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9");
    sb.append("CiAgfTsKCiAgdmFyIGN1c3RvbXMgPSB7fTsKCiAgc2VsZi5QUkNVQUMgPSBmdW5jdGlvbiAobmFtZSwg");
    sb.append("Zm9vKSB7CiAgICBjdXN0b21zW25hbWVdID0gZm9vOwogIH07CgogIHNlbGYuZXhDQyA9IGZ1bmN0aW9u");
    sb.append("IChkb20sIHR5cGUsIHN0YXRlLCBjdXN0b21Db21tYW5kTmFtZSkgewogICAgcmVnX2V2ZW50KHN0YXRl");
    sb.append("LCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGN1c3RvbUNvbW1hbmROYW1lIGluIGN1");
    sb.append("c3RvbXMpIHsKICAgICAgICBjdXN0b21zW2N1c3RvbUNvbW1hbmROYW1lXShzdGF0ZSwgZG9tKTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgfTsKCiAgLy8gY3VzdG9tIGV2ZW50IG9uIGZvcm1zOyByeDpzdWNjZXNzPSIu");
    sb.append("Li4iCiAgdmFyIGZpcmVfc3VjY2VzcyA9IGZ1bmN0aW9uIChmb3JtKSB7CiAgICBmb3JtLmRpc3BhdGNo");
    sb.append("RXZlbnQobmV3IEV2ZW50KCJzdWNjZXNzIikpOwogICAgZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVu");
    sb.append("dCgic3VibWl0dGVkIikpOwogIH07CiAgc2VsZi5maXJlX3N1Y2Nlc3MgPSBmaXJlX3N1Y2Nlc3M7Cgog");
    sb.append("IC8vIGN1c3RvbSBldmVudCBvbiBmb3Jtczsgcng6ZmFpbGVkPSIuLi4iCiAgdmFyIGZpcmVfZmFpbHVy");
    sb.append("ZSA9IGZ1bmN0aW9uIChkb20sIG1zZykgewogICAgdmFyIGUgPSBuZXcgRXZlbnQoImZhaWx1cmUiKTsK");
    sb.append("ICAgIGUubWVzc2FnZSA9IG1zZzsKICAgIGNvbnNvbGUuZXJyb3IobXNnKTsKICAgIGRvbS5kaXNwYXRj");
    sb.append("aEV2ZW50KGUpOwogIH07CiAgc2VsZi5maXJlX2ZhaWx1cmUgPSBmaXJlX2ZhaWx1cmU7CgogIHNlbGYu");
    sb.append("YUNDID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBjdXN0b21Db21tYW5kTmFtZSkgewogICAgdmFyIHNp");
    sb.append("Z25hbCA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgaWYgKHNpZ25hbCA9PSBudWxsKSB7CiAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCBtc2cpOwogICAgICB9CiAgICB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBm");
    sb.append("dW5jdGlvbiAoZXZ0KSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAg");
    sb.append("ICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG9iaiA9IGdldF9mb3JtKGZvcm0s");
    sb.append("IGZhbHNlKTsKICAgICAgICBjdXN0b21zW2N1c3RvbUNvbW1hbmROYW1lXShvYmosIHN0YXRlLCBzaWdu");
    sb.append("YWwsIHNlbGYpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCB0byBmaW5kICciICsgY3VzdG9tQ29tbWFuZE5hbWUg");
    sb.append("KyAiJyIpOwogICAgICB9CiAgICB9LCB0cnVlKTsKICB9OwoKICB2YXIgbWFrZV9jaG9pY2VfYXJyYXkg");
    sb.append("PSBmdW5jdGlvbiAoc3RhdGUsIGNoYW5uZWwpIHsKICAgIHZhciBjaG9pY2VzID0gc3RhdGUuZGF0YS5j");
    sb.append("b25uZWN0aW9uLmNob2ljZXM7CiAgICBpZiAoIShjaGFubmVsIGluIGNob2ljZXMpKSB7CiAgICAgIGNo");
    sb.append("b2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgIH0KICAgIHZhciBjaG9pY2UgPSBjaG9pY2VzW2NoYW5uZWxd");
    sb.append("OwogICAgdmFyIGFyciA9IFtdOwogICAgZm9yICh2YXIgaWQgaW4gY2hvaWNlKSB7CiAgICAgIGFyci5w");
    sb.append("dXNoKGNob2ljZVtpZF0pOwogICAgfQogICAgcmV0dXJuIGFycjsKICB9CgogIHNlbGYuZXhGSU4gPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgY2hhbm5lbCkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBk");
    sb.append("b20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFyciA9IG1ha2VfY2hvaWNlX2FycmF5KHN0");
    sb.append("YXRlLCBjaGFubmVsKTsKICAgICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0");
    sb.append("ZSBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24uY2hvaWNlc1tjaGFubmVsXTsKICAgICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ub25jaG9pY2VzKGNoYW5uZWwsIHt9KTsKICAgICAgfTsKICAgICAgc3RhdGUuZGF0");
    sb.append("YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIGFyciwgewogICAgICAgIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNsZWFyKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygiZmFp");
    sb.append("bGVkOiIgKyByZWFzb24pOwogICAgICAgIH0sCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgIGNsZWFyKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygiU3VjY2Vzc3wiICsg");
    sb.append("cGF5bG9hZC5zZXEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBzZWxmLkZJTiA9");
    sb.append("IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGNoYW5uZWwsIHNob3VsZEJlLCBfZXhwYW5kLCBt");
    sb.append("YWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHZhciBmaW5hbGl6ZSA9IHsKICAgICAgb3duZXI6IHBh");
    sb.append("cmVudCwKICAgICAgc2hvd246IGZhbHNlCiAgICB9OwogICAgYWRkX3Vuc3ViKGZpbmFsaXplKTsKCiAg");
    sb.append("ICB2YXIgY2hhbmdlID0gZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihmaW5hbGl6ZSk7");
    sb.append("CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAg");
    sb.append("ICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUp");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0K");
    sb.append("ICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBmaW5hbGl6ZSk7CiAgICB9OwoKICAgIGZpbmFsaXpl");
    sb.append("LnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG91dCA9IHByaW9yU3RhdGUuZGF0YS5jb25u");
    sb.append("ZWN0aW9uLm91dHN0YW5kaW5nW2NoYW5uZWxdOwogICAgICBpZiAoIShvdXQpKSByZXR1cm47CiAgICAg");
    sb.append("IHZhciBhcnIgPSBtYWtlX2Nob2ljZV9hcnJheShwcmlvclN0YXRlLCBjaGFubmVsKTsKICAgICAgdmFy");
    sb.append("IGV2YWwgPSAoJ21pbicgaW4gb3V0ICYmICdtYXgnIGluIG91dCkgPyAob3V0Lm1pbiA8PSBhcnIubGVu");
    sb.append("Z3RoICYmIGFyci5sZW5ndGggPD0gb3V0Lm1heCkgOiB0cnVlOwogICAgICBpZiAoZmluYWxpemUuZXZh");
    sb.append("bCAhPSBldmFsKSB7CiAgICAgICAgZmluYWxpemUuZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGZp");
    sb.append("bmFsaXplLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9u");
    sb.append("LnN1YnNjcmliZV9jaG9pY2UoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBmaW5hbGl6ZS51cGRh");
    sb.append("dGUoKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIHdoZXRoZXIgb3Igbm90IHRoaXMgbmVlZHMgdG8gYmUg");
    sb.append("YXhlZAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwogIH07CgogIHZhciBmb3JtX29mID0gZnVuY3Rp");
    sb.append("b24oZG9tKSB7CiAgICB2YXIgbmV4dCA9IGRvbTsKICAgIHdoaWxlIChuZXh0ICE9IG51bGwpIHsKICAg");
    sb.append("ICAgaWYgKG5leHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJGT1JNIikgewogICAgICAgIHJldHVy");
    sb.append("biBuZXh0OwogICAgICB9CiAgICAgIG5leHQgPSBuZXh0LnBhcmVudEVsZW1lbnQ7CiAgICB9CiAgICBy");
    sb.append("ZXR1cm4gbnVsbDsKICB9CgogIHZhciByZWdfZXZlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGRvbSwgdHlw");
    sb.append("ZSwgcnVubmFibGUpIHsKICAgIC8vIFRPRE86IGNvbm5lY3RlZC9kaXNjb25uZWN0ZWQgYXMgc3BlY2lh");
    sb.append("bCBldmVudHMgdG8gY29uc2lkZXIKICAgIGlmICh0eXBlID09ICJsb2FkIikgewogICAgICB3aW5kb3cu");
    sb.append("c2V0VGltZW91dChydW5uYWJsZSwgMSk7CiAgICB9IGVsc2UgaWYgKHR5cGU9PSJzdWJtaXQiIHx8IHR5");
    sb.append("cGU9PSJzdWJtaXR0ZWQiKSB7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAg");
    sb.append("ICAgIHZhciBmb3JtID0gZm9ybV9vZihkb20pOwogICAgICAgIGlmIChmb3JtKSB7CiAgICAgICAgICBm");
    sb.append("b3JtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZG9j");
    sb.append("dW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7CiAgICAgICAgICAgICAgcnVubmFibGUoKTsKICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAxKTsKICAgIH0gZWxzZSBpZiAo");
    sb.append("dHlwZS5zdGFydHNXaXRoKCJkZWxheToiKSkgewogICAgICAvLyBkZWxheSB3aWxsIHJ1biBhZnRlciAk");
    sb.append("ZGVsYXlUaW1lTVMgSUYgdGhlIGRvbSBlbGVtZW50IGlzIHN0aWxsIHZpc2libGUgdG8gdGhlIGRvY3Vt");
    sb.append("ZW50CiAgICAgIHZhciBkZWxheVRpbWVNUyA9IHBhcnNlSW50KHR5cGUuc3Vic3RyaW5nKDYpKTsKICAg");
    sb.append("ICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHku");
    sb.append("Y29udGFpbnMoZG9tKSkgewogICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICB9CiAgICAgIH0sIGRl");
    sb.append("bGF5VGltZU1TKTsKICAgIH0gZWxzZSB7CiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHJ1");
    sb.append("bm5hYmxlKTsKICAgIH0KICB9CgoKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHNl");
    sb.append("dDpuYW1lPXZhbHVlIC4uLiI+CiAgc2VsZi5iUyA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBuYW1lLCB2");
    sb.append("YWx1ZSkgewogICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJmdW5jdGlvbiIpIHsKICAgICAgcmV0dXJu");
    sb.append("IHsKICAgICAgICBydW46IGZ1bmN0aW9uKCkge30sIC8vIGRvIG5vdGhpbmcsIHRoaXMgaXMgYSBzaW1w");
    sb.append("bGUgbWVyZ2UKICAgICAgICBtZXJnZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgb2JqID0ge307");
    sb.append("CiAgICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZSgpOwogICAgICAgICAgdmFyIGRlbHRhID0gcGF0aF90");
    sb.append("byhzdGF0ZS52aWV3LCBvYmopOwogICAgICAgICAgcmV0dXJuIGRlbHRhOwogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfSBlbHNlIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsK");
    sb.append("ICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICByZXR1cm4gewog");
    sb.append("ICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7fSwgLy8gZG8gbm90aGluZywgdGhpcyBpcyBhIHNpbXBsZSBt");
    sb.append("ZXJnZQogICAgICAgIG1lcmdlOiBmdW5jdGlvbigpIHsgcmV0dXJuIGRlbHRhOyB9CiAgICAgIH0KICAg");
    sb.append("IH0KICB9OwoKICB2YXIgbWVyZ2VfZGVsdGEgPSBmdW5jdGlvbihhLCBiKSB7CiAgICBpZiAodHlwZW9m");
    sb.append("KGEpID09ICJvYmplY3QiICYmIHR5cGVvZihiKSA9PSAib2JqZWN0IikgewogICAgICB2YXIgcmVzdWx0");
    sb.append("ID0ge307CiAgICAgIGZvciAodmFyIGsgaW4gYSkgewogICAgICAgIGlmIChrIGluIGIpIHsKICAgICAg");
    sb.append("ICAgIHJlc3VsdFtrXSA9IG1lcmdlX2RlbHRhKGFba10sIGJba10pOwogICAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgICByZXN1bHRba10gPSBhW2tdOwogICAgICAgIH0KICAgICAgfQogICAgICBmb3IodmFyIGsg");
    sb.append("aW4gYikgewogICAgICAgIGlmICghKGsgaW4gYSkpIHsKICAgICAgICAgIHJlc3VsdFtrXSA9IGJba107");
    sb.append("CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gYTsK");
    sb.append("ICB9OwogIHNlbGYuTUQgPSBtZXJnZV9kZWx0YTsKCiAgc2VsZi5vbkIgPSBmdW5jdGlvbihkb20sIHR5");
    sb.append("cGUsIHN0YXRlLCBhcnIpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbigp");
    sb.append("IHsKICAgICAgdmFyIHN1bSA9IHt9OwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7");
    sb.append("IGsrKykgewogICAgICAgIHZhciBjbWQgPSBhcnJba107CiAgICAgICAgY21kLnJ1bigpOwogICAgICAg");
    sb.append("IHZhciB0b01lcmdlID0gY21kLm1lcmdlKCkKICAgICAgICBzdW0gPSBtZXJnZV9kZWx0YShzdW0sIHRv");
    sb.append("TWVyZ2UpOwogICAgICB9CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoc3VtKTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIGNob29zZQogIHNlbGYuZXhDSCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBu");
    sb.append("YW1lLCBjaGFubmVsLCBrZXkpIHsKICAgIHZhciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICBy");
    sb.append("ZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0g");
    sb.append("ZmluZChzdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9");
    sb.append("IG51bGwpIHsKICAgICAgICB2YXIgY2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2Vz");
    sb.append("OwogICAgICAgIGlmICghKGNoYW5uZWwgaW4gY2hvaWNlcykpIHsKICAgICAgICAgIGNob2ljZXNbY2hh");
    sb.append("bm5lbF0gPSB7fTsKICAgICAgICB9CiAgICAgICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07");
    sb.append("CiAgICAgICAgdmFyIHZhbEtleSA9IHJlc3VsdFtrZXldOwogICAgICAgIGlmICh2YWxLZXkgaW4gY2hv");
    sb.append("aWNlKSB7CiAgICAgICAgICBkZWxldGUgY2hvaWNlW3ZhbEtleV07CiAgICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICAgIGNob2ljZVt2YWxLZXldID0gcmVzdWx0OwogICAgICAgIH0KICAgICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ub25jaG9pY2VzKGNoYW5uZWwsIGNob2ljZSk7CiAgICAgIH0KICAgIH0pOwogICAg");
    sb.append("c3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVl");
    sb.append("ID0gdmFsdWU7CiAgICB9KTsKICB9OwoKICAvLyBkZWNpZGUKICBzZWxmLmV4RCA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHR5cGUsIHN0YXRlLCBuYW1lLCBjaGFubmVsLCBrZXkpIHsKICAgIHZhciBkZWNpZGUgPSB7IHZh");
    sb.append("bHVlOiBudWxsIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICB2YXIgcmVzdWx0ID0gZmluZChzdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpOwog");
    sb.append("ICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHsKICAgICAgICBsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5u");
    sb.append("b3coKTsKICAgICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgcmVzdWx0");
    sb.append("LCB7CiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CgogICAgICAgICAgfSwKICAg");
    sb.append("ICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9n");
    sb.append("KCJTdWNjZXNzfCIgKyBwYXlsb2FkLnNlcSArICI7bGF0ZW5jeT0iICsgKHBlcmZvcm1hbmNlLm5vdygp");
    sb.append("IC0gc3RhcnQpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBzdWJz");
    sb.append("Y3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2");
    sb.append("YWx1ZTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmaXJl");
    sb.append("OmNoYW5uZWwgLi4uIiAuLi4+CiAgc2VsZi5vbkZSID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUs");
    sb.append("IGNoYW5uZWwpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCB7fSwgewogICAgICAgIHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTRU5UICciICsgY2hhbm5l");
    sb.append("bCArICInIik7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAg");
    sb.append("ICAgICAgICBjb25zb2xlLmxvZygiRkFJTEVEIFRPIEZJUkUgJyIgKyBjaGFubmVsICsgIicgRFVFOiIg");
    sb.append("KyByZWFzb24pOyAnJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIFJVTlRJTUU6");
    sb.append("IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmb3JjZS1hdXRoPW5hbWUsdG9rZW4gLi4uIj4KICBzZWxmLm9u");
    sb.append("Rk9SQ0VfQVVUSCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpIHsK");
    sb.append("ICAgIHJlZ19ldmVudChudWxsLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWRlbnRpdGll");
    sb.append("c1tpZGVudGl0eU5hbWVdID0gaWRlbnRpdHk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVu");
    sb.append("dGl0eV8iICsgaWRlbnRpdHlOYW1lLCBpZGVudGl0eSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("OiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gc2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLm9uUyA9IGZ1");
    sb.append("bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRl");
    sb.append("LCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAodHlw");
    sb.append("ZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAg");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRl");
    sb.append("bHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50");
    sb.append("cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2");
    sb.append("ZW50PSIuLi4gdGU6bmFtZSAuLi4iPgogIHNlbGYub25UTSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0");
    sb.append("YXRlLCBuYW1lLCBveCwgb3kpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlv");
    sb.append("biAoZXZlbnQpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB7CiAgICAgICAg");
    sb.append("eDpldmVudC5jbGllbnRYICsgd2luZG93LnNjcm9sbFggKyBveCwKICAgICAgICB5OmV2ZW50LmNsaWVu");
    sb.append("dFkgKyB3aW5kb3cuc2Nyb2xsWSArIG95CiAgICAgIH07CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8o");
    sb.append("c3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVs");
    sb.append("dGEpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5h");
    sb.append("bWUgLi4uIj4KICBzZWxmLm9uVEUgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewog");
    sb.append("ICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IGV2ZW50Lm1lc3NhZ2U7CiAgICAgIGlmIChldmVudC5t");
    sb.append("ZXNzYWdlKSB7CiAgICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAg");
    sb.append("ICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgfQogICAgfSk7");
    sb.append("CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAgc2Vs");
    sb.append("Zi5vUlNUID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwg");
    sb.append("ZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGYgPSBmb3JtX29mKGRvbSk7CiAg");
    sb.append("ICAgIGlmIChmICE9IG51bGwpIHsKICAgICAgICBmLnJlc2V0KCk7CiAgICAgIH0KICAgIH0pOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBzdWJtaXQgLi4uIj4KICBzZWxmLm9T");
    sb.append("Qk1UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9t");
    sb.append("LCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGYgPSBmb3JtX29mKGRvbSk7CiAgICAg");
    sb.append("IGlmIChmICE9IG51bGwpIHsKICAgICAgICB2YXIgZSA9IG5ldyBTdWJtaXRFdmVudCgnc3VibWl0Jywg");
    sb.append("ewogICAgICAgICAgJ2J1YmJsZXMnICAgIDogdHJ1ZSwKICAgICAgICAgICdjYW5jZWxhYmxlJyA6IHRy");
    sb.append("dWUKICAgICAgICB9KTsKICAgICAgICBmLmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgIH0KICAgIH0pOwog");
    sb.append("IH07CgogIHNlbGYub05LID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVu");
    sb.append("dChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGN1ciA9IGRvbTsK");
    sb.append("ICAgICAgd2hpbGUgKGN1ci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT0gIk5VQ0xFQVIiKSB7CiAgICAg");
    sb.append("ICAgY3VyID0gY3VyLnBhcmVudEVsZW1lbnQ7CiAgICAgIH0KICAgICAgaWYgKGN1ciAhPSBudWxsKSB7");
    sb.append("CiAgICAgICAgbnVrZShjdXIpOwogICAgICB9CiAgICB9KTsKICB9OwoKCiAgc2VsZi5vVUNLID0gZnVu");
    sb.append("Y3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBm");
    sb.append("dW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZG9tLmNoZWNrZWQgPSBmYWxzZTsKICAgIH0pOwogIH07Cgog");
    sb.append("IC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBnb3RvOnVyaSAuLi4iPgogIHNlbGYub25H");
    sb.append("TyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRl");
    sb.append("LCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVyaSA9ICh0eXBlb2YgKHZhbHVlKSA9");
    sb.append("PSAiZnVuY3Rpb24iKSA/IHZhbHVlKCkgOiB2YWx1ZTsKICAgICAgc2VsZi5nb3RvKHVyaSwgZmFsc2Up");
    sb.append("OwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRvZ2dsZTpu");
    sb.append("YW1lIC4uLiI+CiAgc2VsZi5vblQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewog");
    sb.append("ICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogZmFsc2UgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9t");
    sb.append("LCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0g");
    sb.append("IWNhcHR1cmVkLnZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7");
    sb.append("CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgICBzdWJzY3JpYmUo");
    sb.append("c3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJlZC52YWx1ZSA9IHZhbHVl");
    sb.append("ID09IHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgb3JkZXJfdG9nZ2xlID0gZnVuY3Rpb24ocHJpb3Is");
    sb.append("IHZhbCkgewogICAgdmFyIHBhcnRzID0gcHJpb3Iuc3BsaXQoIiwiKTsKICAgIHZhciBwcmVmaXggPSAn");
    sb.append("JzsKICAgIHZhciBuZXh0ID0gWyIiXTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFydHMubGVuZ3Ro");
    sb.append("OyBrKyspIHsKICAgICAgaWYgKHBhcnRzW2tdID09ICIiKSB7CiAgICAgICAgY29udGludWU7CiAgICAg");
    sb.append("IH0gZWxzZSBpZiAodmFsID09IHBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJy0nOwogICAgICB9");
    sb.append("IGVsc2UgaWYgKCItIiArIHZhbCA9PXBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJyc7CiAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgbmV4dC5wdXNoKHBhcnRzW2tdKTsKICAgICAgfQogICAgfQogICAgbmV4");
    sb.append("dFswXSA9IHByZWZpeCArIHZhbDsKICAgIHJldHVybiBuZXh0LmpvaW4oIiwiKTsKICB9CgogIC8vIFJV");
    sb.append("TlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBvcmRlci10b2dnbGU6bmFtZT12YWwgLi4uIj4KICBz");
    sb.append("ZWxmLm9uT1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsKSB7CiAgICB2YXIg");
    sb.append("Y2FwdHVyZWQgPSB7IHZhbHVlOiAiIiB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1");
    sb.append("bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBvcmRlcl90b2dn");
    sb.append("bGUoY2FwdHVyZWQudmFsdWUsIHZhbCk7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmll");
    sb.append("dywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAg");
    sb.append("fSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0");
    sb.append("dXJlZC52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpl");
    sb.append("dmVudD0iLi4uIGRlbHRhOm5hbWU9ZGlmZiIgLi4uIj4KICBzZWxmLm9uRCA9IGZ1bmN0aW9uIChkb20s");
    sb.append("IHR5cGUsIHN0YXRlLCBuYW1lLCBkaWZmKSB7CiAgICB2YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAwIH07");
    sb.append("CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2Jq");
    sb.append("ID0ge307CiAgICAgIG9ialtuYW1lXSA9IGNhcHR1cmVkLnZhbHVlICsgZGlmZjsKICAgICAgdmFyIGRl");
    sb.append("bHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50");
    sb.append("cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rp");
    sb.append("b24gKHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAibnVtYmVyIikgewogICAgICAg");
    sb.append("IGNhcHR1cmVkLnZhbHVlID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZhbCA9IHBh");
    sb.append("cnNlRmxvYXQodmFsdWUpOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgY2FwdHVy");
    sb.append("ZWQudmFsdWUgPSB2YWw7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIHNlbGYuQ1NFTiA9");
    sb.append("IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwgY2hhbm5lbCwga2V5LCBuYW1l");
    sb.append("LCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgY2hvc2Vu");
    sb.append("ID0gewogICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxz");
    sb.append("ZSwKICAgICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1YihjaG9zZW4pOwogICAgdmFyIGNo");
    sb.append("YW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoY2hvc2VuKTsKICAgICAgbnVr");
    sb.append("ZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAoc2hv");
    sb.append("dyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJz");
    sb.append("Y3JpYmVfc3RhdGUoc3RhdGUsIGNob3Nlbik7CiAgICB9OwoKICAgIGNob3Nlbi51cGRhdGUgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFu");
    sb.append("ZGluZ1tjaGFubmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwoKICAgICAgdmFyIGNob2ljZXMg");
    sb.append("PSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgICBpZiAoIShjaGFubmVsIGlu");
    sb.append("IGNob2ljZXMpKSB7CiAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBjaG9pY2UgPSBjaG9pY2VzW2NoYW5uZWxdOwogICAgICB2YXIgZXZhbCA9IGNob3Nlbi52YWx1ZSBp");
    sb.append("biBjaG9pY2U7CiAgICAgIGlmIChjaG9zZW4uZXZhbCAhPSBldmFsKSB7CiAgICAgICAgY2hvc2VuLmV2");
    sb.append("YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShjaG9zZW4uZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAg");
    sb.append("cHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2ljZShjaGFubmVsLCBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKCiAg");
    sb.append("ICBzdWJzY3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2hvc2Vu");
    sb.append("LnZhbHVlID0gdmFsdWU7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgIH0pOwogIH07CgogIHNlbGYu");
    sb.append("REUgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5uZWwsIGtleSwg");
    sb.append("bmFtZSwgc2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGRl");
    sb.append("Y2lkZSA9IHsKICAgICAgdmFsdWU6ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjog");
    sb.append("ZmFsc2UsCiAgICAgIGV2YWw6IG51bGwKICAgIH07CiAgICBhZGRfdW5zdWIoZGVjaWRlKTsKICAgIHZh");
    sb.append("ciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGRlY2lkZSk7CiAgICAg");
    sb.append("IG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYg");
    sb.append("KHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUpOwogICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAg");
    sb.append("c3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBkZWNpZGUpOwogICAgfTsKCiAgICBkZWNpZGUudXBkYXRlID0g");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICB2YXIgZXZhbCA9IGZpbmQocHJpb3JTdGF0ZSwgY2hhbm5lbCwga2V5");
    sb.append("LCBkZWNpZGUudmFsdWUpICE9IG51bGw7CiAgICAgIGlmIChkZWNpZGUuZXZhbCAhPSBldmFsKSB7CiAg");
    sb.append("ICAgICAgZGVjaWRlLmV2YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShkZWNpZGUuZXZhbCk7CiAgICAg");
    sb.append("IH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlKGNoYW5uZWws");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAgICAvLyBUT0RPOiByZXR1cm4g");
    sb.append("d2hldGhlciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fSk7CgogICAgc3Vic2NyaWJlKGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAg");
    sb.append("IGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgICBkZWNpZGUudXBkYXRlKCk7CiAgICB9KTsKICB9OwoK");
    sb.append("ICB2YXIgY29tbW9uSWYgPSBmdW5jdGlvbihwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHNob3VsZEJlLCBl");
    sb.append("eHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5nKSB7CiAgICB2YXIgdW5z");
    sb.append("dWIgPSBtYWtlX3Vuc3ViKCk7CiAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAgICAgcGFyZW50LnN0eWxl");
    sb.append("LmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAg");
    sb.append("IHZhciBzaG93ID0gKHZhbHVlID8gdHJ1ZSA6IGZhbHNlKSA9PT0gc2hvdWxkQmU7CiAgICAgIGlmICh0");
    sb.append("aGlzLnNob3duID09IHNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zaG93");
    sb.append("biA9IHNob3c7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAg");
    sb.append("IHZhciBuZXh0ID0gc2VsZi5wRChmb3JrKG9yaWdpbmFsU3RhdGUpKTsKICAgICAgaWYgKHNob3cpIHsK");
    sb.append("ICAgICAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAgICAgICAgIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0g");
    sb.append("IiI7CiAgICAgICAgfQogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIG5leHQpOwogICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgIGlmIChmb3JjZUhpZGluZykgewogICAgICAgICAgcGFyZW50LnN0eWxlLmRpc3BsYXkg");
    sb.append("PSAibm9uZSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBuZXh0");
    sb.append("KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKG5leHQsIHVuc3ViKTsKICAg");
    sb.append("IH0uYmluZCh7IHNob3duOiAnbm8nIH0pOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmlmIC8gcng6aWZu");
    sb.append("b3QgPSAicGF0aDE9cGF0aDIiCiAgc2VsZi5JRmVxID0gZnVuY3Rpb24gKHBhcmVudCwgb3JpZ2luYWxT");
    sb.append("dGF0ZSwgcXVlcnlTdGF0ZUxlZnQsIG5hbWVMZWZ0LCBxdWVyeVN0YXRlUmlnaHQsIG5hbWVSaWdodCwg");
    sb.append("c2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSwgZm9yY2VIaWRpbmcpIHsK");
    sb.append("ICAgIHZhciBjb21tb24gPSB7bGVmdDpmYWxzZSwgcmlnaHQ6dHJ1ZX07CiAgICBjb21tb24ucyA9IGNv");
    sb.append("bW1vbklmKHBhcmVudCwgb3JpZ2luYWxTdGF0ZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1");
    sb.append("ZSwgbWFrZXJGYWxzZSwgZm9yY2VIaWRpbmcpOwogICAgY29tbW9uLmsgPSBkZWJvdW5jZSg1LCBmdW5j");
    sb.append("dGlvbigpIHsKICAgICAgdGhpcy5zKHRoaXMubGVmdCA9PSB0aGlzLnJpZ2h0KTsKICAgIH0uYmluZChj");
    sb.append("b21tb24pKTsKICAgIHN1YnNjcmliZShxdWVyeVN0YXRlTGVmdCwgbmFtZUxlZnQsIGZ1bmN0aW9uIChs");
    sb.append("ZWZ0KSB7CiAgICAgIHRoaXMubGVmdCA9IGxlZnQ7CiAgICAgIHRoaXMuaygpOwogICAgfS5iaW5kKGNv");
    sb.append("bW1vbikpCiAgICBzdWJzY3JpYmUocXVlcnlTdGF0ZVJpZ2h0LCBuYW1lUmlnaHQsIGZ1bmN0aW9uIChy");
    sb.append("aWdodCkgewogICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7CiAgICAgIHRoaXMuaygpOwogICAgfS5iaW5k");
    sb.append("KGNvbW1vbikpOwogIH07CgogIC8qKiB0aGUgYWJvdmUgc3BlYWtzIHRvIGEgZGVlcCBwYXR0ZXJuLiBX");
    sb.append("ZSBjb3VsZCB0YWtlIGFueSBleHByZXNzaW9uIGFuZCB0aGVuIGxpbmVhcml6ZSBpdCBpbnRvIHJlYWN0");
    sb.append("aXZlIHBhcnRzLCBhbmQgdGhlbiBhc3NlbWJsZSBhIHN0YXRlbWVudCBzdGF0ZW1lbnQgb24gdGhlIGZs");
    sb.append("eS4gV2Ugc2hvdWxkIGxvb2sgaW50byB1c2luZyB0aGUgY29uZGl0aW9uIGxhbmd1YWdlIGZvciB0aGlz");
    sb.append("ICovCgogIC8vIFJVTlRJTUUgfCByeDppZiAvIHJ4Omlmbm90ID0gInBhdGgiCiAgc2VsZi5JRiA9IGZ1");
    sb.append("bmN0aW9uIChwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHF1ZXJ5U3RhdGUsIG5hbWUsIHNob3VsZEJlLCBl");
    sb.append("eHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5nKSB7CiAgICBzdWJzY3Jp");
    sb.append("YmUocXVlcnlTdGF0ZSwgbmFtZSwgY29tbW9uSWYocGFyZW50LCBvcmlnaW5hbFN0YXRlLCBzaG91bGRC");
    sb.append("ZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhpZGluZykpOwogIH07Cgog");
    sb.append("IC8vLyBSVU5USU1FIHwgcng6YWN0aW9uPWNvcHk6cGF0aAogIHNlbGYuYUNQID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBuYW1lKSB7CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0");
    sb.append("aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBvYmogPSBnZXRf");
    sb.append("Zm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIGlmIChuYW1lICE9ICIuIiAmJiBuYW1lICE9ICIiKSB7CiAg");
    sb.append("ICAgICAgdmFyIG5vID0ge307CiAgICAgICAgbm9bbmFtZV0gPSBvYmo7CiAgICAgICAgb2JqID0gbm87");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBz");
    sb.append("dGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAg");
    sb.append("fSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxpbnB1dCAuLi4gcng6c3luYz1wYXRoIC4uLj4K");
    sb.append("ICBzZWxmLlNZID0gZnVuY3Rpb24gKGVsLCBzdGF0ZSwgbmFtZSwgbXMpIHsKICAgIHZhciB0eXBlID0g");
    sb.append("KCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJDYXNlKCkgOiAidGV4dCI7CiAgICB2YXIgc2ln");
    sb.append("bmFsID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVd");
    sb.append("ID0gdmFsdWU7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAg");
    sb.append("c3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgIGlmICh0aGlzLmRlZHVwZSAhPSB2YWx1");
    sb.append("ZSkgewogICAgICAgIHRoaXMuZGVkdXBlID0gdmFsdWU7CiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChu");
    sb.append("ZXcgRXZlbnQoImFmdGVyc3luYyIpKTsKICAgICAgfQogICAgfS5iaW5kKHtkZWR1cGU6IiJ9KTsKICAg");
    sb.append("IGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdl");
    sb.append("JywgZGVib3VuY2UobXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBzaWduYWwoZWwuY2hlY2tlZCA/");
    sb.append("IHRydWUgOiBmYWxzZSk7CiAgICAgIH0pKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICAgIHNpZ25hbChlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSwgMSk7");
    sb.append("CiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICBlbC5hZGRFdmVudExpc3RlbmVy");
    sb.append("KCdjaGFuZ2UnLCBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGlmIChlbC5jaGVj");
    sb.append("a2VkKSB7CiAgICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSkpOwogICAg");
    sb.append("fSBlbHNlIHsKICAgICAgdmFyIGYgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKCkgewogICAgICAgIHNp");
    sb.append("Z25hbChlbC52YWx1ZSk7CiAgICAgIH0pOwogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2Un");
    sb.append("LCBmKTsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmKQogICAgICBlbC5vbmtleXVw");
    sb.append("ID0gZWwub25jaGFuZ2U7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ICBzaWduYWwoZWwudmFsdWUpOwogICAgICB9LCA1KTsKICAgIH0KICB9OwoKICB2YXIgZmlyc3RPY2N1");
    sb.append("ciA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgIGlmIChhID4gMCAmJiBiID4gMCkgewogICAgICByZXR1cm4g");
    sb.append("TWF0aC5taW4oYSwgYik7CiAgICB9CiAgICBpZiAoYSA+IDApIHsKICAgICAgcmV0dXJuIGE7CiAgICB9");
    sb.append("IGVsc2UgewogICAgICByZXR1cm4gYjsKICAgIH0KICB9OwogIC8vIEhFTFBFUiB8IGV4dHJhY3QgYWxs");
    sb.append("IHRoZSBpbnB1dHMgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgYnVpbGQgYW4gb2JqZWN0CiAgdmFy");
    sb.append("IGJ1aWxkX29iaiA9IGZ1bmN0aW9uIChlbCwgb2JqVG9JbnNlcnRJbnRvLCBhbGxvd19wYXNzd29yZHMs");
    sb.append("IGlzUm9vdCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRk9STSIgJiYgIWlz");
    sb.append("Um9vdCkgewogICAgICAvLyBkb24ndCBjYXJlIGFib3V0IG5lc3RlZCBmb3JtcwogICAgICByZXR1cm47");
    sb.append("CiAgICB9CiAgICB2YXIganVzdFNldCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiVEVYVEFS");
    sb.append("RUEiIHx8IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiU0VMRUNUIjsKICAgIHZhciBpc0lucHV0");
    sb.append("Qm94ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCI7CiAgICB2YXIgaXNGaWVsZFNl");
    sb.append("dCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRklFTERTRVQiOwogICAgdmFyIGhhc05hbWUg");
    sb.append("PSAibmFtZSIgaW4gZWw7CiAgICB2YXIgaW5zZXJ0QXQgPSBvYmpUb0luc2VydEludG87CiAgICAvLyB0");
    sb.append("aGUgYXBwbHkgZnVuY3Rpb24gaXMgaG93IHdlIGluamVjdCB0aGUgdmFsdWUgaW50byB0aGUgb2JqZWN0");
    sb.append("CiAgICB2YXIgYXBwbHkgPSBmdW5jdGlvbiAodmFsKSB7IH07CgogICAgaWYgKGhhc05hbWUgJiYgKGp1");
    sb.append("c3RTZXQgfHwgaXNJbnB1dEJveCB8fCBpc0ZpZWxkU2V0KSkgewogICAgICB2YXIgbmFtZSA9ICIiOwog");
    sb.append("ICAgICBuYW1lID0gZWwubmFtZTsKICAgICAgaWYgKG5hbWUgPT0gIiIpIHsgLy8gdGhpcyBpcyBhIHNw");
    sb.append("ZWNpYWwgbmFtZSBmb3IgdGhpbmdzIHRoYXQgZG9uJ3QgZ2V0IHBpY2tlZCB1cAogICAgICAgIHJldHVy");
    sb.append("bjsKICAgICAgfQogICAgICB2YXIga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZign");
    sb.append("LicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdoaWxlIChrRG90T3JTbGFzaCA+IDApIHsKICAg");
    sb.append("ICAgICB2YXIgcGFyID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9yU2xhc2gpOwogICAgICAgIGlmICgh");
    sb.append("KHBhciBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgIGluc2VydEF0W3Bhcl0gPSB7fTsKICAgICAgICB9");
    sb.append("CiAgICAgICAgaW5zZXJ0QXQgPSBpbnNlcnRBdFtwYXJdOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0");
    sb.append("cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1l");
    sb.append("LmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB9CgogICAgICBpZiAobmFtZS5l");
    sb.append("bmRzV2l0aCgiKyIpKSB7CiAgICAgICAgLy8gaGVyZSwgd2UgcHVzaCB0aGUgdmFsdWUgaW50byB0aGUg");
    sb.append("YXJyYXkKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKTsKICAg");
    sb.append("ICAgICBhcHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBpZiAoIShuYW1lIGluIGluc2VydEF0");
    sb.append("KSkgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXSA9IFt2XTsKICAgICAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgICAgIGluc2VydEF0W25hbWVdLnB1c2godik7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAg");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgICAvLyBoZXJlIHdlIHNldCB0aGUgb2JqZWN0CiAgICAgICAgYXBwbHkg");
    sb.append("PSBmdW5jdGlvbiAodikgewogICAgICAgICAgaW5zZXJ0QXRbbmFtZV0gPSB2OwogICAgICAgIH07CiAg");
    sb.append("ICAgIH0KICAgIH0KCiAgICBpZiAoanVzdFNldCkgewogICAgICBhcHBseShlbC52YWx1ZSk7CiAgICB9");
    sb.append("IGVsc2UgaWYgKGlzRmllbGRTZXQpIHsKICAgICAgdmFyIG5leHRPYmplY3QgPSB7fTsKICAgICAgaWYg");
    sb.append("KCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAg");
    sb.append("dmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAg");
    sb.append("ICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICAgIGJ1aWxkX29iaihjaCwgbmV4");
    sb.append("dE9iamVjdCwgYWxsb3dfcGFzc3dvcmRzLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGFw");
    sb.append("cGx5KG5leHRPYmplY3QpOwogICAgfSBlbHNlIGlmIChpc0lucHV0Qm94KSB7CiAgICAgIHZhciB0eXBl");
    sb.append("ID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJDYXNlKCkgOiAiVEVYVCI7CiAgICAgIGlm");
    sb.append("ICh0eXBlID09ICJTVUJNSVQiIHx8IHR5cGUgPT0gIlJFU0VUIikgcmV0dXJuOwogICAgICBpZiAodHlw");
    sb.append("ZSA9PSAiUEFTU1dPUkQiICYmICFhbGxvd19wYXNzd29yZHMpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgaWYgKHR5cGUgPT0gIkNIRUNLQk9YIikgewogICAgICAgIGFwcGx5KGVsLmNoZWNrZWQg");
    sb.append("PyB0cnVlIDogZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICAg");
    sb.append("IGlmIChlbC5jaGVja2VkKSB7CiAgICAgICAgICBhcHBseShlbC52YWx1ZSk7CiAgICAgICAgfQogICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAg");
    sb.append("ICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysr");
    sb.append("KSB7CiAgICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICAgIGJ1aWxkX29iaihj");
    sb.append("aCwgb2JqVG9JbnNlcnRJbnRvLCBhbGxvd19wYXNzd29yZHMsIGZhbHNlKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgIH0KICB9OwoKICBzZWxmLkJ1aWxkRm9ybU9iamVjdCA9IGZ1bmN0aW9uKGZvcm0pIHsKICAg");
    sb.append("IHZhciBvYmogPSB7fTsKICAgIGJ1aWxkX29iaihmb3JtLCBvYmosIGZhbHNlLCB0cnVlKTsKICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgfTsKCiAgLy8gSEVMUEVSIHwgcmV0dXJuIGFuIG9iamVjdCBvZiBhbGwgdGhlIGlu");
    sb.append("cHV0cyBvZiB0aGUgZ2l2ZW4gZm9ybSBlbGVtZW50CiAgdmFyIGdldF9mb3JtID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIGFsbG93X3Bhc3N3b3JkcykgewogICAgdmFyIG9iaiA9IHt9OwogICAgYnVpbGRfb2JqKGZvcm0s");
    sb.append("IG9iaiwgYWxsb3dfcGFzc3dvcmRzLCB0cnVlKTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gSEVM");
    sb.append("UEVSIHwgcmV0dXJuIGEgcGFzc3dvcmQgZnJvbSB0aGUgZ2l2ZW4gZm9ybQogIHZhciBnZXRfcGFzc3dv");
    sb.append("cmQgPSBmdW5jdGlvbiAoZWwpIHsKICAgIGlmIChlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIklO");
    sb.append("UFVUIiAmJiBlbC50eXBlLnRvVXBwZXJDYXNlKCkgPT0gIlBBU1NXT1JEIikgewogICAgICByZXR1cm4g");
    sb.append("W2VsLm5hbWUsIGVsLnZhbHVlXTsKICAgIH0KICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAg");
    sb.append("IHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBnZXRfcGFzc3dvcmQoY2gpOwogICAgICAgIGlmIChyZXN1bHQgIT09");
    sb.append("IG51bGwpIHsKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gbnVsbDsKICB9OwoKICB2YXIgd3JhcHBlcnMgPSB7fTsKICB2YXIgd3JhcHBlcnNfb25s");
    sb.append("b2FkID0ge307CiAgc2VsZi5QUldQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgd3JhcHBlcnNb");
    sb.append("bmFtZV0gPSBmb287CiAgICBpZiAobmFtZSBpbiB3cmFwcGVyc19vbmxvYWQpIHsKICAgICAgdmFyIHRv");
    sb.append("bG9hZCA9IHdyYXBwZXJzX29ubG9hZFtuYW1lXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0b2xv");
    sb.append("YWQubGVuZ3RoOyBrKyspIHsKICAgICAgICB0b2xvYWRba10oKTsKICAgICAgfQogICAgfQogIH07Cgog");
    sb.append("IC8vIDwuLi4gcng6d3JhcD1jb25zdCA+CiAgc2VsZi5XUCA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBu");
    sb.append("YW1lLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNlKSB7CiAgICBpZiAobmFtZSBpbiB3cmFwcGVycykg");
    sb.append("ewogICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNl");
    sb.append("LCBzZWxmKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBsb2FkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("ICAgd3JhcHBlcnNbbmFtZV0oZG9tLCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwgc2Vs");
    sb.append("Zik7CiAgICAgIH07CiAgICAgIGlmIChuYW1lIGluIHdyYXBwZXJzX29ubG9hZCkgewogICAgICAgIHdy");
    sb.append("YXBwZXJzX29ubG9hZFtuYW1lXS5wdXNoKGxvYWRlcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd3Jh");
    sb.append("cHBlcnNfb25sb2FkW25hbWVdID0gW2xvYWRlcl07CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSVU5U");
    sb.append("SU1FIHwgcmVnaXN0ZXIgdGhlIHBhZ2UgZm9yIHRoZSB1cmkgdG8gdGhlIGdpdmVuIGZvbygpLgogIHNl");
    sb.append("bGYuUEcgPSBmdW5jdGlvbiAodXJpLCBmb28pIHsKICAgIHZhciBoZWFkID0gcm91dGVyOwogICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCB1cmkubGVuZ3RoOyBrKyspIHsKICAgICAgdmFyIHBhcnQgPSB1cmlba107");
    sb.append("CiAgICAgIGlmICghKHBhcnQgaW4gaGVhZCkpIHsKICAgICAgICBoZWFkW3BhcnRdID0ge307CiAgICAg");
    sb.append("IH0KICAgICAgaGVhZCA9IGhlYWRbcGFydF07CiAgICB9CiAgICBoZWFkWyJAIl0gPSBmb287CiAgfTsK");
    sb.append("CiAgdmFyIHJvdXRlID0gZnVuY3Rpb24gKHBhcnRzLCBhdCwgaGVhZCwgdmlldykgewogICAgaWYgKGF0");
    sb.append("IDwgcGFydHMubGVuZ3RoKSB7CiAgICAgIGlmICgibnVtYmVyIiBpbiBoZWFkKSB7CiAgICAgICAgdmFy");
    sb.append("IG5lY2sgPSBoZWFkWyJudW1iZXIiXTsKICAgICAgICB2YXIgdmFsID0gcGFyc2VGbG9hdChwYXJ0c1th");
    sb.append("dF0pOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgZm9yICh2YXIgYnJhbmNoIGlu");
    sb.append("IG5lY2spIHsKICAgICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwogICAgICAgICAgICB2YXIgY2Fu");
    sb.append("ZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAg");
    sb.append("ICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7");
    sb.append("CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVsZXRlIHZpZXdbYnJhbmNoXTsKICAgICAgICAgIH0K");
    sb.append("ICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0IiBpbiBoZWFkKSB7CiAgICAgICAgdmFyIG5l");
    sb.append("Y2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZhbCA9IHBhcnRzW2F0XTsKICAgICAgICBmb3Ig");
    sb.append("KHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwogICAgICAg");
    sb.append("ICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7");
    sb.append("CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBjYW5k");
    sb.append("aWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdmlld1ticmFuY2hdOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFkKSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFk");
    sb.append("WyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7CiAgICAgICAgICBpZiAo");
    sb.append("YnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gcm91dGUocGFy");
    sb.append("dHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAh");
    sb.append("PT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiQCIgaW4gaGVh");
    sb.append("ZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxs");
    sb.append("OwogIH07CgoKICBzZWxmLnJlc3VtZV91cmkgPSAiLyI7CiAgc2VsZi5nYXRlcyA9IFtdOwogIC8qKiBS");
    sb.append("VU5USU1FIHwgPGdhdGUtZXhpdCBndWFyZD0icmVhZCIgc2V0PSIiPiAqLwogIHNlbGYuSUcgPSBmdW5j");
    sb.append("dGlvbihzdGF0ZVJlYWQsIHJlYWQsIHN0YXRlV3JpdGUsIHdyaXRlKSB7CiAgICB2YXIgc20gPSB7CiAg");
    sb.append("ICAgIHZhbHVlOiBmYWxzZSwKICAgICAgcnVuOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy52");
    sb.append("YWx1ZSkgewogICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgb2JqW3dyaXRlXSA9IHRydWU7");
    sb.append("CiAgICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlV3JpdGUudmlldywgb2JqKTsKICAgICAg");
    sb.append("ICAgIHN0YXRlV3JpdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgICAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgfTsKICAgIHN1YnNj");
    sb.append("cmliZShzdGF0ZVJlYWQsIHJlYWQsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHNtLnZhbHVlID0gdmFs");
    sb.append("dWU7CiAgICB9KTsKICAgIHNlbGYuZ2F0ZXMucHVzaChzbSk7CiAgfTsKICBzZWxmLmdvdG8gPSBmdW5j");
    sb.append("dGlvbiAodXJpLCBub3cpIHsKICAgIHNlbGYucmVzdW1lX3VyaSA9IHVyaTsKICAgIHZhciBibG9ja2Vk");
    sb.append("ID0gZmFsc2U7CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHNlbGYuZ2F0ZXMubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgaWYgKHNlbGYuZ2F0ZXNba10ucnVuKCkpIHsKICAgICAgICBibG9ja2VkID0gdHJ1ZTsKICAg");
    sb.append("ICAgfQogICAgfQogICAgaWYgKGJsb2NrZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKG5v");
    sb.append("dykgewogICAgICBzZWxmLmdvdG9fbm93KHVyaSk7CiAgICB9IGVsc2UgewogICAgICB3aW5kb3cuc2V0");
    sb.append("VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5nb3RvX25vdyh1cmkpOwogICAgICB9LCAx");
    sb.append("KTsKICAgIH0KICB9OwogIC8vIFJVTlRJTUU6IDx0YWcgLi4uIHJ4OmV2ZW50PSIuLi4gcmVzdW1lIC4u");
    sb.append("LiI+Li4KICBzZWxmLmJSID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBydW46IGZ1bmN0");
    sb.append("aW9uKCkgewogICAgICAgIHNlbGYuZ2F0ZXMgPSBbXTsKICAgICAgICBzZWxmLmdvdG8oc2VsZi5yZXN1");
    sb.append("bWVfdXJpLCBmYWxzZSk7CiAgICAgIH0sCiAgICAgIG1lcmdlOiBmdW5jdGlvbigpIHt9CiAgICB9Owog");
    sb.append("IH07CiAgc2VsZi5nb3RvX25vdyA9IGZ1bmN0aW9uKHVyaSkgewogICAgaWYgKHVyaS5zdGFydHNXaXRo");
    sb.append("KCIvIikpIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgdXJpLCB0cnVlKTsKICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZml4SHJlZih1cmkpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbihiYXNlNjQpIHsKICAgIHZhciByYXdE");
    sb.append("YXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFy");
    sb.append("cmF5KHJhd0RhdGEubGVuZ3RoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7");
    sb.append("ICsraSkgewogICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTsKICAgIH0K");
    sb.append("ICAgIHJldHVybiBvdXRwdXRBcnJheTsKICB9CgogIHZhciBzZXR1cFN1YnNjcmlwdGlvbiA9IGZ1bmN0");
    sb.append("aW9uIChyZWdpc3RyYXRpb24sIHZhcGlkUHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlOYW1lLCB2");
    sb.append("ZXJzaW9uKSB7CiAgICByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIKICAgIC5nZXRTdWJzY3JpcHRpb24o");
    sb.append("KS50aGVuKGFzeW5jIGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsKICAgICAgICBpZiAoc3Vic2NyaXB0");
    sb.append("aW9uKSB7CiAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uOwogICAgICAgIH0KICAgICAgICBjb25z");
    sb.append("dCBjb252ZXJ0ZWRWYXBpZEtleSA9IHVybEJhc2U2NFRvVWludDhBcnJheSh2YXBpZFB1YmxpY0tleSk7");
    sb.append("CiAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoewogICAgICAg");
    sb.append("ICAgdXNlclZpc2libGVPbmx5OiB0cnVlLAogICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGNv");
    sb.append("bnZlcnRlZFZhcGlkS2V5CiAgICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChzdWJzY3JpcHRp");
    sb.append("b24pIHsKICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgYW4gZW5kcG9pbnQgc2F2ZWQgcmVsYXRlZCB0");
    sb.append("byB0aGUgcmlnaHQgdmVyc2lvbgogICAgICB2YXIgcHVzaEtleUxvY2FsID0gInB1c2hfZW5kcG9pbnRf");
    sb.append("IiArIGlkZW50aXR5TmFtZTsKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwdXNoX3dvcmtl");
    sb.append("cl92ZXJzaW9uIikgIT0gdmVyc2lvbikgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHB1");
    sb.append("c2hLZXlMb2NhbCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInB1c2hfd29ya2VyX3ZlcnNp");
    sb.append("b24iLCB2ZXJzaW9uKTsKICAgICAgfQogICAgICB2YXIgc3ViID0gc3Vic2NyaXB0aW9uLnRvSlNPTigp");
    sb.append("OwogICAgICBzdWJbJ0BtZXRob2QnXSA9ICd3ZWJwdXNoJzsKICAgICAgc3ViWydAdGltZSddID0gbmV3");
    sb.append("IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIHZhciB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwdXNo");
    sb.append("S2V5TG9jYWwpOwogICAgICBpZiAodmFsKSB7CiAgICAgICAgaWYgKHZhbCA9PSBzdWIuZW5kcG9pbnQp");
    sb.append("IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXVzaW5nIGVuZHBvaW50OiIgKyBzdWIuZW5kcG9pbnQp");
    sb.append("OwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgZGV2aWNlID0ge307");
    sb.append("CiAgICAgIGRldmljZS5tb2RlID0gJ3dlYicKICAgICAgaWYgKHdpbmRvdyAmJiB3aW5kb3cubmF2aWdh");
    sb.append("dG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB7CiAgICAgICAgZGV2aWNlLnVhID0gd2lu");
    sb.append("ZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5QdXNoUmVnaXN0");
    sb.append("ZXIoaWRlbnRpdHksIHNlbGYuZG9tYWluLCBzdWIsIGRldmljZSwgewogICAgICAgIHN1Y2Nlc3M6IGZ1");
    sb.append("bmN0aW9uKCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHVzaEtleUxvY2FsLCBzdWIu");
    sb.append("ZW5kcG9pbnQpOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAg");
    sb.append("ICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgc3Vic2NyaXB0aW9uIHRvIEFk");
    sb.append("YW1hOiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9CgogIHZhciBzZXR1");
    sb.append("cFB1c2ggPSBmdW5jdGlvbihwYXRoLCB2YXBpZFB1YmxpY0tleSwgaWRlbnRpdHksIGlkZW50aXR5TmFt");
    sb.append("ZSwgdmVyc2lvbikgewogICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygp");
    sb.append("LnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9ucykgewogICAgICB2YXIgZm91bmQgPSBmYWxzZTsKICAg");
    sb.append("ICAgZm9yKGxldCByZWdpc3RyYXRpb24gb2YgcmVnaXN0cmF0aW9ucykgewogICAgICAgIGlmIChyZWdp");
    sb.append("c3RyYXRpb24uYWN0aXZlKSB7CiAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbi5hY3RpdmUuc2NyaXB0");
    sb.append("VVJMLmVuZHNXaXRoKHBhdGgpKSB7CiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCk7");
    sb.append("CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIHNl");
    sb.append("dHVwU3Vic2NyaXB0aW9uKHJlZ2lzdHJhdGlvbiwgdmFwaWRQdWJsaWNLZXksIGlkZW50aXR5LCBpZGVu");
    sb.append("dGl0eU5hbWUsIHZlcnNpb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAo");
    sb.append("IWZvdW5kKSB7CiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIocGF0aCk7CiAg");
    sb.append("ICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihmdW5jdGlvbiAocmVnaXN0cmF0");
    sb.append("aW9uKSB7CiAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihyZWdpc3RyYXRpb24sIHZhcGlkUHVibGlj");
    sb.append("S2V5LCBpZGVudGl0eSwgaWRlbnRpdHlOYW1lLCB2ZXJzaW9uKTsKICAgICAgICB9KTsKICAgICAgfQog");
    sb.append("ICAgfSk7CiAgfQoKICBzZWxmLndvcmtlciA9IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgcGF0aCwgdmVy");
    sb.append("c2lvbikgewogICAgdHJ5IHsKICAgICAgYWZ0ZXJIYXZlSWRlbnRpdHkoaWRlbnRpdHlOYW1lLCBmdW5j");
    sb.append("dGlvbihpZGVudGl0eSkgewogICAgICAgIGNvbm5lY3Rpb24uRG9tYWluR2V0VmFwaWRQdWJsaWNLZXko");
    sb.append("aWRlbnRpdHksIHNlbGYuZG9tYWluLCB7CiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25z");
    sb.append("ZSkgewogICAgICAgICAgICBzZXR1cFB1c2gocGF0aCwgcmVzcG9uc2UucHVibGljS2V5LCBpZGVudGl0");
    sb.append("eSwgaWRlbnRpdHlOYW1lLCB2ZXJzaW9uKTsKICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBnZXQg");
    sb.append("cHVibGljLWtleToiICsgcmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAg");
    sb.append("IH0gY2F0Y2ggKGV4KSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBpbml0aWFsaXplIHdv");
    sb.append("cmtlciIsIGV4KTsKICAgIH0KICB9OwoKICBzZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBzZWxm");
    sb.append("LnJ1bihkb2N1bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRv");
    sb.append("dy5sb2NhdGlvbi5oYXNoKSwgZmFsc2UpOwogICAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAo");
    sb.append("cCkgewogICAgICBzZWxmLnJ1bihkb2N1bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5w");
    sb.append("YXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5oYXNoKSwgZmFsc2UpOwogICAgfTsKICB9OwoKICBzZWxm");
    sb.append("LmN1cnJlbnRWaWV3ZXJJZCA9IDA7CiAgLy8gQVBJIHwgUnVuIHRoZSBwYWdlIGluIHRoZSBnaXZlbiBw");
    sb.append("bGFjZQogIHNlbGYucnVuID0gZnVuY3Rpb24gKHdoZXJlLCByYXdQYXRoLCBwdXNoKSB7CiAgICB2YXIg");
    sb.append("cGF0aCA9IHJhd1BhdGg7CiAgICB3aGlsZSAocGF0aC5lbmRzV2l0aCgiLyIpICYmIHBhdGggIT0gIi8i");
    sb.append("KSB7CiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpOwogICAgfQog");
    sb.append("ICAgZm9yIChjb25LZXkgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS50");
    sb.append("cmVlLm51a2UoKTsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS5udWtlKCk7CiAgICB9CiAgICB2YXIg");
    sb.append("cGFydHMgPSAocGF0aC5zdGFydHNXaXRoKCIvIikgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpLnNw");
    sb.append("bGl0KCIvIik7CiAgICB2YXIgaW5pdCA9IHt9OwogICAgc2VsZi5jdXJyZW50Vmlld2VySWQrKzsKICAg");
    sb.append("IGluaXQudmlld2VyX2N1cnJlbnRfcGFnZV9pZCA9IHNlbGYuY3VycmVudFZpZXdlcklkOwogICAgdHJ5");
    sb.append("IHsKICAgICAgaW5pdC52aWV3ZXJfdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2");
    sb.append("ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICAgIGluaXQudmlld2VyX2xhbmd1YWdlID0gbmF2aWdhdG9y");
    sb.append("Lmxhbmd1YWdlOwogICAgfSBjYXRjaCAoYnJvd3NlckJhZCkgewogICAgICAvLyB3ZSBqdXN0IGRvbid0");
    sb.append("IHNlZSB0aGUgdmlld3N0YXRlIGlmIHdlIGRvbid0IGhhdmUgdGhlc2UgYXZhaWxhYmxlCiAgICB9CiAg");
    sb.append("ICB2YXIgZm9vID0gcm91dGUocGFydHMsIDAsIHJvdXRlciwgaW5pdCk7CiAgICBudWtlKHdoZXJlKTsK");
    sb.append("ICAgIGlmIChmb28gIT0gbnVsbCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIHZh");
    sb.append("ciBzdGF0ZSA9IHsgc2VydmljZTogY29ubmVjdGlvbiwgZGF0YTogbnVsbCwgdmlldzogZnJlc2god2hl");
    sb.append("cmUpLCBjdXJyZW50OiAidmlldyIgfTsKICAgICAgc2VsZi5fX2N1cnJlbnQgPSBzdGF0ZTsKICAgICAg");
    sb.append("c3RhdGUudmlldy5pbml0ID0gaW5pdDsKICAgICAgc2VsZi5nYXRlcyA9IFtdOwogICAgICBzZWxmLnJl");
    sb.append("c3VtZV91cmkgPSBwYXRoOwogICAgICBmb28od2hlcmUsIHN0YXRlKTsKICAgICAgc3RhdGUudmlldy50");
    sb.append("cmVlLnN1YnNjcmliZShzdGF0ZS52aWV3LmRlbHRhKTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0");
    sb.append("ZShpbml0KTsKICAgICAgaWYgKHB1c2gpIHsKICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUo");
    sb.append("e21lcmdlOmZhbHNlfSwgIiIsIGZpeEhyZWYocGF0aCkpOwogICAgICB9CiAgICB9IGVsc2UgewogICAg");
    sb.append("ICBpZiAocGF0aCAhPSAiLzQwNCIpIHsKICAgICAgICBzZWxmLnJ1bih3aGVyZSwgIi80MDQiKTsKICAg");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgICAvLyBkZWZhdWx0IDQwNAogICAgICB9CiAgICB9CiAgICB3aGVyZS5h");
    sb.append("cHBlbmRDaGlsZChjb25uZWN0aW9uTW9uaXRvckRvbSk7CiAgfTsKCiAgdmFyIGlkZW50aXRpZXMgPSB7");
    sb.append("fTsKCiAgc2VsZi5TSUdOT1VUID0gZnVuY3Rpb24gKCkgewogICAgaWRlbnRpdGllcyA9IHt9OwogICAg");
    sb.append("Zm9yICh2YXIgaWRlbnRpdHlOYW1lIGluIGlkZW50aXRpZXMpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJl");
    sb.append("bW92ZUl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgfQogICAgbG9jYWxTdG9yYWdl");
    sb.append("LnJlbW92ZUl0ZW0oImlkZW50aXR5X2RlZmF1bHQiKTsKICAgIHZhciBheGUgPSBbXTsKICAgIGZvciAo");
    sb.append("dmFyIGNpZCBpbiBjb25uZWN0aW9ucykgewogICAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tjaWRdOwog");
    sb.append("ICAgICBpZiAoY28ucHRyICE9IG51bGwpIHsKICAgICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVu");
    sb.append("Y3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIH0KICAgICAgYXhl");
    sb.append("LnB1c2goY2lkKTsKICAgIH0KICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgIGRlbGV0ZSBjb25uZWN0aW9uc1theGVba11dOwogICAgfQogIH07CgogIHNlbGYuR09PR0xF");
    sb.append("X1NJR05fT04gPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHsKICAgIGNvbm5lY3Rpb24uSW5pdENvbnZl");
    sb.append("cnRHb29nbGVVc2VyKGFjY2Vzc1Rva2VuLCB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2Fk");
    sb.append("KSB7CiAgICAgICAgaWRlbnRpdGllc1siZGVmYXVsdCJdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIHBheWxvYWQuaWRlbnRpdHkp");
    sb.append("OwogICAgICAgIHNlbGYuZ290bygiLyIsIGZhbHNlKTsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVu");
    sb.append("Y3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUubG9nKCJHb29nbGUgZmFpbHVyZTogIiArIHJl");
    sb.append("YXNvbik7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8qKiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBw");
    sb.append("YWdlIHdpdGggc3RhdGUgKi8KICBzZWxmLmFSRHAgPSBmdW5jdGlvbiAoc3RhdGUsIHB1bGxlcikgewog");
    sb.append("ICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVyaSA9IHB1bGxlcihzdGF0ZS52aWV3Lmlu");
    sb.append("aXQpOwogICAgICByZXR1cm4gdXJpOwogICAgfTsKICB9OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0");
    sb.append("IHRvIGEgc3RhdGljIHBhZ2UgKi8KICBzZWxmLmFSRHogPSBmdW5jdGlvbiAocmF3KSB7CiAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmF3OwogICAgfQogIH07CgogIHZhciBpZGVudGl0");
    sb.append("eUV2ZW50cyA9IHt9OwogIHZhciBhZnRlckhhdmVJZGVudGl0eSA9IGZ1bmN0aW9uKGlkZW50aXR5TmFt");
    sb.append("ZSwgY2FsbGJhY2spIHsKICAgIGlkZW50aXR5RXZlbnRzW2lkZW50aXR5TmFtZV0gPSBjYWxsYmFjazsK");
    sb.append("ICB9OwoKICAvKiogZm9yIGN1c3RvbSBlbGVtZW50cyB0byBsZWFybiBvZiB0aGUgaWRlbnRpdHkgKi8K");
    sb.append("ICBzZWxmLklEID0gZnVuY3Rpb24gKGlkZW50aXR5TmFtZSwgcmVkaXJlY3RUb0Z1bmMpIHsKICAgIGlm");
    sb.append("IChpZGVudGl0eU5hbWUgPT09IHRydWUpIHsKICAgICAgaWRlbnRpdHlOYW1lID0gImRlZmF1bHQiOwog");
    sb.append("ICAgfQogICAgLy8gSUYgaWRlbnRpdHkgY29udGFpbnMgZG90cwogICAgdmFyIGlkZW50aXR5ID0gbnVs");
    sb.append("bDsKICAgIHZhciBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgfTsKCiAgICB2YXIgdmFsID0gbG9j");
    sb.append("YWxTdG9yYWdlLmdldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgaWYgKHZhbCkg");
    sb.append("ewogICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSB2YWw7CiAgICB9CgogICAgaWYgKGlkZW50");
    sb.append("aXR5TmFtZS5zdGFydHNXaXRoKCJkaXJlY3Q6IikpIHsKICAgICAgLy8gVXNlLCBhcyBpcwogICAgICBp");
    sb.append("ZGVudGl0eSA9IGlkZW50aXR5TmFtZS5zdWJzdHJpbmcoNyk7CiAgICB9IGVsc2UgaWYgKGlkZW50aXR5");
    sb.append("TmFtZSBpbiBpZGVudGl0aWVzKSB7CiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdGllc1tpZGVudGl0eU5h");
    sb.append("bWVdOwogICAgICBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0ZSBpZGVudGl0aWVz");
    sb.append("W2lkZW50aXR5TmFtZV07CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5XyIg");
    sb.append("KyBpZGVudGl0eU5hbWUpOwogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygpLCBmYWxzZSk7");
    sb.append("CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAvLyB3aGF0ZXZlciBwYWdlIHdlIGFyZSwgbmVlZHMg");
    sb.append("dG8gZGllIHdoaWNoIG1lYW5zIHdlIG5lZWQgdG8gbnVrZSBldmVyeXRoaW5nIQogICAgICB3aW5kb3cu");
    sb.append("c2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5nb3RvKHJlZGlyZWN0VG9GdW5jKCks");
    sb.append("IGZhbHNlKTsKICAgICAgfSwgMTApOwogICAgICByZXR1cm4geyBhYm9ydDogdHJ1ZSB9OwogICAgfQog");
    sb.append("ICAgaWYgKGlkZW50aXR5TmFtZSBpbiBpZGVudGl0eUV2ZW50cykgewogICAgICBpZGVudGl0eUV2ZW50");
    sb.append("c1tpZGVudGl0eU5hbWVdKGlkZW50aXR5KTsKICAgICAgZGVsZXRlIGlkZW50aXR5RXZlbnRzW2lkZW50");
    sb.append("aXR5TmFtZV07CiAgICB9CiAgICByZXR1cm4geyBhYm9ydDogZmFsc2UsIGNsZWFudXA6IGNsZWFudXAs");
    sb.append("IGlkZW50aXR5OiBpZGVudGl0eSB9OwogIH07CgogIC8qIEZvciBjdXN0b20gY2FsbGJhY2tzIHRvIHJl");
    sb.append("ZGlyZWN0IGFuZCBpbnZhbGlkYXRlIElEIGZhaWx1cmVzICovCiAgc2VsZi5GSURDTCA9IGZ1bmN0aW9u");
    sb.append("IChjYWxsYmFjaywgbG9va3VwKSB7CiAgICByZXR1cm4gewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAo");
    sb.append("cmVzdWx0KSB7CiAgICAgICAgY2FsbGJhY2suc3VjY2VzcyhyZXN1bHQpOwogICAgICB9LAogICAgICBu");
    sb.append("ZXh0OiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGNhbGxiYWNrLm5leHQoaXRlbSk7CiAgICAgIH0s");
    sb.append("CiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FsbGJhY2suY29tcGxldGUoKTsK");
    sb.append("ICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNhbGxiYWNr");
    sb.append("LmZhaWx1cmUocmVhc29uKTsKICAgICAgICBpZiAocmVhc29uID09IDQwMzQwMyB8fCByZWFzb24gPT0g");
    sb.append("NDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAgIGxvb2t1cC5jbGVhbnVwKCk7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICB9OwogIH07CgogIHZhciBjdXN0b21EYXRhU291cmNlcyA9IHt9OwoK");
    sb.append("ICAvKiogcHJvdmlkZSBjdXN0b20gZGF0YSAqLwogIHNlbGYuUFJDVURBID0gZnVuY3Rpb24gKG5hbWUs");
    sb.append("IGZvbykgewogICAgY3VzdG9tRGF0YVNvdXJjZXNbbmFtZV0gPSBmb287CiAgfTsKCiAgLy8gPGN1c3Rv");
    sb.append("bWRhdGEgc3JjPXNyYyAocGFyYW1ldGVyOng9eSkqID4KICBzZWxmLkNVREEgPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50LCBwcmlvclN0YXRlLCBzcmMsIHJ4b2JqLCByZWRpcmVjdFRvLCBjaGlsZE1ha2VyKSB7CiAgICB2");
    sb.append("YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDEwLCBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZh");
    sb.append("ciBjdXN0b21UcmVlID0gZmFsc2U7CiAgICAgIGlmIChzcmMgaW4gY3VzdG9tRGF0YVNvdXJjZXMpIHsK");
    sb.append("ICAgICAgICB2YXIgY29ucyA9IGN1c3RvbURhdGFTb3VyY2VzW3NyY107CiAgICAgICAgaWYgKHR5cGVv");
    sb.append("ZiAoY29ucykgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY3VzdG9tVHJlZSA9IGNvbnMocnhvYmos");
    sb.append("IHByaW9yU3RhdGUsIHJlZGlyZWN0VG8sIHNlbGYpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAo");
    sb.append("IWN1c3RvbVRyZWUpIHsKICAgICAgICBjdXN0b21UcmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgICB9");
    sb.append("CiAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAg");
    sb.append("ICAgICAgZGF0YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rpb24sIHRyZWU6IGN1c3Rv");
    sb.append("bVRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgdmlldzog");
    sb.append("bmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgICBjdXJyZW50OiAiZGF0YSIKICAg");
    sb.append("ICAgfTsKICAgICAgY2hpbGRNYWtlcihzdGF0ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwg");
    sb.append("dW5zdWIpOwogICAgfSk7CiAgfTsKCiAgLy8gPHRpdGxlIHZhbHVlPSIuLi4iIC8+CiAgc2VsZi5TVCA9");
    sb.append("IGZ1bmN0aW9uIChyeG9iaikgewogICAgaWYgKHJ4b2JqLnZhbHVlKSB7CiAgICAgIGRvY3VtZW50LnRp");
    sb.append("dGxlID0gcnhvYmoudmFsdWU7CiAgICB9CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgaWYgKHJ4b2JqLnZhbHVlKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSByeG9i");
    sb.append("ai52YWx1ZTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5jPgogIHNlbGYuVlN5ID0g");
    sb.append("ZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWlsKSB7CiAgICB2YXIgdW5z");
    sb.append("dWIgPSBtYWtlX3Vuc3ViKCk7CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVf");
    sb.append("c3luYyhmdW5jdGlvbiAoc3luY2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1");
    sb.append("Yih1bnN1Yik7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzeW5j");
    sb.append("ZWQpIHsKICAgICAgICBhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBu");
    sb.append("b3RhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUs");
    sb.append("IHVuc3ViKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgIHJldHVybiB0");
    sb.append("cnVlOwogICAgfSk7CiAgfTsKCiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVuY3Rpb24gKGNvLCBjbGVh");
    sb.append("bnVwLCByZXRyeV9zbSkgewogICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgcmV0");
    sb.append("cnlfc20uYmFja29mZiA9IDE7CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiAocGF5bG9h");
    sb.append("ZCkgewogICAgICAgIGNvLmRlYnVnZ2VyKHBheWxvYWQpOwogICAgICAgIGNvLnNldF9jb25uZWN0ZWQo");
    sb.append("dHJ1ZSk7CiAgICAgICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgICAgIHJldHJ5");
    sb.append("X3NtLmJhY2tvZmYgPSAxOwogICAgICAgIGlmICgiZGF0YSIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAg");
    sb.append("ICAgICAgY28udHJlZS51cGRhdGUocGF5bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgICB9CiAgICAgICAg");
    sb.append("aWYgKCJvdXRzdGFuZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28ub25kZWNpZGUo");
    sb.append("cGF5bG9hZC5kZWx0YS5vdXRzdGFuZGluZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3N0YXRl");
    sb.append("JyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBjby52aWV3c3RhdGV0cmVlLnVwZGF0ZShwYXls");
    sb.append("b2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIGlmICgnbG9nJyBpbiBwYXlsb2Fk");
    sb.append("LmRlbHRhKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2FkLmRlbHRhLmxvZyk7CiAgICAgICAg");
    sb.append("fQogICAgICAgIGlmICgndmlld3BvcnQnIGluIHBheWxvYWQuZGVsdGEgJiYgJ21lc3NhZ2UnIGluIHBh");
    sb.append("eWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBheWxvYWQuZGVsdGEudmlld3Bv");
    sb.append("cnQ7CiAgICAgICAgICBpZiAodmlld3BvcnQgaW4gY28uaGFuZGxlcnMpIHsKICAgICAgICAgICAgY28u");
    sb.append("aGFuZGxlcnNbdmlld3BvcnRdKHBheWxvYWQuZGVsdGEubWVzc2FnZSwgY28pOwogICAgICAgICAgfQog");
    sb.append("ICAgICAgIH0KICAgICAgICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVyJyBpbiBwYXlsb2FkLmRlbHRhKSB7");
    sb.append("CiAgICAgICAgICB2YXIgZmlsdGVyID0ge307CiAgICAgICAgICB2YXIga2V5cyA9IHBheWxvYWQuZGVs");
    sb.append("dGFbJ3ZpZXctc3RhdGUtZmlsdGVyJ107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMu");
    sb.append("bGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgZmlsdGVyW2tleXNba11dID0gdHJ1ZTsKICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIGNvLmZpbHRlciA9IGZpbHRlcjsKICAgICAgICAgIGNvLmhhc19maWx0ZXIgPSB0");
    sb.append("cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoJ2dvdG8nIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAg");
    sb.append("ICAgIHNlbGYuZ290byhwYXlsb2FkLmRlbHRhLmdvdG8sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0s");
    sb.append("CiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gc2hvdWxkbid0IHJlYWxpc3Rp");
    sb.append("Y2FsbHkgaGFwcGVuIFRPRE86IHZhbGlkYXRlIDwtIHRydXRoCiAgICAgICAgY28uc2V0X2Nvbm5lY3Rl");
    sb.append("ZChmYWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVu");
    sb.append("Y3Rpb24gKHJlYXNvbikgewogICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBmYWlsdXJlCiAgICAgICAgY28u");
    sb.append("c2V0X2Nvbm5lY3RlZChmYWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgICBpZiAocmVh");
    sb.append("c29uID09IDQwMzQwMyB8fCByZWFzb24gPT0gNDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAg");
    sb.append("ICAgICAgIGNsZWFudXAoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gaXMg");
    sb.append("aXQgYW4gZXhwZWN0ZWQgZXJyb3IgdGhhdCB3aWxsIGhhcHBlbiBhIGJ1bmNoPwogICAgICAgIHZhciBl");
    sb.append("eHBlY3RlZF9lcnJvciA9IHJlYXNvbiA9PSA5OTk7CiAgICAgICAgLy8gZG8gd2Ugbm90IGtub3cgYWJv");
    sb.append("dXQgYW4gZXJyb3IgdGhhdCBoYXBwZW5zIGEgYnVuY2g/IGlmIHNvLCB0aGVuIGxldCdzIGF0IGxlYXN0");
    sb.append("IHRyeSBhZ2FpbiBhIG51bWJlciBvZiBmaW5pdGUgdGltZXMuCiAgICAgICAgdmFyIGJsaW5kX3JldHJ5");
    sb.append("ID0gcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPCAxMDsKICAgICAgICBpZiAoYmxpbmRfcmV0cnkp");
    sb.append("IHsKICAgICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzKys7CiAgICAgICAgfQogICAgICAg");
    sb.append("IC8vIHJldHJ5IG9uIGVpdGhlciBjYXNlCiAgICAgICAgaWYgKGV4cGVjdGVkX2Vycm9yIHx8IGJsaW5k");
    sb.append("X3JldHJ5KSB7CiAgICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gTWF0aC5jZWlsKE1hdGgubWluKHJl");
    sb.append("dHJ5X3NtLmJhY2tvZmYgKyBNYXRoLnJhbmRvbSgpICogcmV0cnlfc20uYmFja29mZiArIChibGluZF9y");
    sb.append("ZXRyeSA/IDEwMCA6IDEpLCAxMDAwKSk7CiAgICAgICAgICBjb25zb2xlLmxvZygiY29ubmVjdC1mYWls");
    sb.append("dXJlfHJldHJ5aW5nLi4uICgiICsgcmV0cnlfc20uYmFja29mZiArICIpOyByZWFzb249IiArIHJlYXNv");
    sb.append("biArIChibGluZF9yZXRyeSA/ICIgW2JsaW5kXSIgOiAiIikpOwogICAgICAgICAgLy8gVE9ETzogbmVl");
    sb.append("ZCBhIGRpZmZlcmVudCBmZWVkYmFjayBtZWNoYW5pc20gKG1heWJlIGEgbnVtYmVyIHVuZGVyIHRoZSB3");
    sb.append("aWZpIGljb24/KQogICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAg");
    sb.append("ICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgICAgICB9LCByZXRyeV9zbS5iYWNrb2ZmKTsKICAgICAgICB9");
    sb.append("IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImdhdmUgdXAgY29ubmVjdGlvbjsiICsgY28ubGFi");
    sb.append("ZWwgKyAiOyByZWFzb249IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAg");
    sb.append("dmFyIHNldHVwX2NvID0gZnVuY3Rpb24oZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSkgewogICAgY28u");
    sb.append("dmlld3N0YXRldHJlZSA9IHN0YXRlLnZpZXcudHJlZTsKICAgIHZhciBzeW5jX3RyZWUgPSBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIC8vIGxldCdzIGNvcHkgb3V0IHRoZSB0cmVlIGZyb20gdGhlIHZpZXdzdGF0ZQog");
    sb.append("ICAgICB2YXIgbmV3X3RyZWUgPSBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRyZWUuY29weSgpKTsKCiAg");
    sb.append("ICAgIC8vIGlmIHdlIGhhdmUgZ290IGEgZmlsdGVyIGZyb20gdGhlIHNlcnZlciwgdGhlbiBsZXQncyBm");
    sb.append("aWx0ZXIKICAgICAgaWYgKGNvLmhhc19maWx0ZXIpIHsKICAgICAgICAvLyByZWNvbnN0cnVjdCB0aGUg");
    sb.append("bmV3IHZpZXcgYmFzZWQgb24gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgZmlsdGVyIGFuZCB0aGUgbmV3");
    sb.append("IHN0YXRlCiAgICAgICAgdmFyIGZpbHRlcmVkID0ge307CiAgICAgICAgZm9yICh2YXIgayBpbiBuZXdf");
    sb.append("dHJlZSkgewogICAgICAgICAgaWYgKGNvLmZpbHRlcltrXSkgewogICAgICAgICAgICBmaWx0ZXJlZFtr");
    sb.append("XSA9IG5ld190cmVlW2tdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBhc3N1bWUgdGhl");
    sb.append("IG5ldyB0cmVlCiAgICAgICAgbmV3X3RyZWUgPSBmaWx0ZXJlZDsKICAgICAgfQogICAgICAvLyBpZiB0");
    sb.append("aGUgY2xvbmUgKGkuZS4gc3RyaW5naWZpZWQgdmVyc2lvbikgaXMgdGhlIHNhbWUgYXMgd2hhdCB3ZSBs");
    sb.append("YXN0IHNlbnQsIHRoZW4gZG9uJ3Qgc2VuZCBhbnl0aGluZwogICAgICB2YXIgcHJpb3JfY2xvbmUgPSBK");
    sb.append("U09OLnN0cmluZ2lmeShuZXdfdHJlZSk7CiAgICAgIGlmIChwcmlvcl9jbG9uZSA9PSBjby52aWV3c3Rh");
    sb.append("dGVfY2xvbmUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28udmlld3N0YXRlX3NlbnQg");
    sb.append("PSBmYWxzZTsKICAgICAgY28udnNzZXErKzsKICAgICAgY28uc3luYygpOwogICAgICB2YXIgc3luY2Vk");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChjby52c3NlcSA9PSB0aGlzLmJvdW5kKSB7CiAgICAg");
    sb.append("ICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgICAgICBjby5zeW5jKCk7CiAgICAgICAg");
    sb.append("fQogICAgICB9LmJpbmQoeyBib3VuZDogY28udnNzZXEgfSk7CiAgICAgIGNvLnZpZXdzdGF0ZV9jbG9u");
    sb.append("ZSA9IEpTT04uc3RyaW5naWZ5KG5ld190cmVlKTsKICAgICAgY28ucHRyLnVwZGF0ZShuZXdfdHJlZSwg");
    sb.append("eyBzdWNjZXNzOiBzeW5jZWQsIGZhaWx1cmU6IHN5bmNlZCB9KTsKICAgIH07CiAgICB2YXIgYmluZCA9");
    sb.append("IGZ1bmN0aW9uIChzZW5kTm93KSB7CiAgICAgIHVuc3ViLnZpZXcgPSBzdGF0ZS52aWV3LnRyZWUuc3Vi");
    sb.append("c2NyaWJlKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY28ucHRyID09IG51bGwpIHsKICAgICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgICB9CiAgICAgICAgc3luY190cmVlKCk7CiAgICAgIH0pOwogICAgICBpZiAo");
    sb.append("c2VuZE5vdykgewogICAgICAgIHN5bmNfdHJlZSgpOwogICAgICB9CiAgICB9OwogICAgaWYgKGNvLnB0");
    sb.append("ciAhPSBudWxsICYmIGNvLmJvdW5kID09IGRlc2lyZWQpIHsKICAgICAgYmluZCh0cnVlKTsKICAgICAg");
    sb.append("cmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7CiAgICAgIGNvLnB0ci5l");
    sb.append("bmQoeyBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7IH0sIGZhaWx1cmU6IGZ1bmN0aW9uICgpIHsgfSB9KTsK");
    sb.append("ICAgICAgY28ucHRyID0gbnVsbDsKICAgIH0KICAgIHJldHVybiBiaW5kOwogIH07CgogIC8vIDxjb25u");
    sb.append("ZWN0aW9uIGJpbGxpbmcgLi4uPgogIHNlbGYuQkNPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2Jq");
    sb.append("KSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAg");
    sb.append("fTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoISgnbmFt");
    sb.append("ZScgaW4gcnhvYmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9");
    sb.append("IHNlbGYuSUQocnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0");
    sb.append("OyB9KTsKICAgICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRlc2ly");
    sb.append("ZWQgPSAiOmJpbGxpbmc6IiArIGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgYmluZCA9IHNldHVw");
    sb.append("X2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsK");
    sb.append("ICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVkOwogICAgICB2YXIg");
    sb.append("aWRlbnRpdHkgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5j");
    sb.append("bGVhbnVwOwogICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAg");
    sb.append("ICAgIGNvLmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAg");
    sb.append("Y28ubGFiZWwgPSAiQmlsbGluZyBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfYmls");
    sb.append("bGluZyA9IHRydWU7CiAgICAgIGNvLnZpYV9kb21haW4gPSBmYWxzZTsKICAgICAgdmFyIHJldHJ5X3Nt");
    sb.append("ID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVzcG9uZGVyKGNvLCBjbGVhbnVw");
    sb.append("LCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gYmlh");
    sb.append("cyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9ICJ7fSI7CiAgICAgICAg");
    sb.append("Y28ucHRyID0gY29ubmVjdGlvbi5CaWxsaW5nQ29ubmVjdGlvbkNyZWF0ZShpZGVudGl0eSwgcmV0cnlf");
    sb.append("c20ucmVzcG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgY28udHJlZS51");
    sb.append("cGRhdGUoe30pOwogICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07CgogIHNlbGYuZG9tYWluID0g");
    sb.append("bG9jYXRpb24uaG9zdG5hbWU7CiAgc2VsZi5ob3N0ID0gbG9jYXRpb24uaG9zdDsKICBzZWxmLnByb3Rv");
    sb.append("Y29sID0gbG9jYXRpb24ucHJvdG9jb2w7CgogIHNlbGYubW9iaWxlSW5pdCA9IGZ1bmN0aW9uKG92ZXJy");
    sb.append("aWRlRG9tYWluKSB7CiAgICBzZWxmLmRvbWFpbiA9IG92ZXJyaWRlRG9tYWluOwogICAgc2VsZi5ob3N0");
    sb.append("ID0gb3ZlcnJpZGVEb21haW47CiAgICBzZWxmLnByb3RvY29sID0gImh0dHBzIjsKICB9OwoKICAvLyA8");
    sb.append("Y29ubmVjdGlvbiB1c2UtZG9tYWluIC4uLj4KICBzZWxmLkRDT05ORUNUID0gZnVuY3Rpb24gKHN0YXRl");
    sb.append("LCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYg");
    sb.append("KCEoJ25hbWUnIGluIHJ4b2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaWRM");
    sb.append("b29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5y");
    sb.append("ZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICAgIHJldHVybjsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9vYmoocnhvYmoubmFtZSk7CiAgICAgIHZh");
    sb.append("ciBkb21haW4gPSBzZWxmLmRvbWFpbjsKICAgICAgdmFyIGRlc2lyZWQgPSBkb21haW4gKyBpZExvb2t1");
    sb.append("cC5pZGVudGl0eTsKICAgICAgdmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0");
    sb.append("YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKCiAgICAgIHZhciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50");
    sb.append("aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlkTG9va3VwLmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXco");
    sb.append("KTsKICAgICAgY28uaWRlbnRpdHkgPSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7fTsKICAg");
    sb.append("ICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICBjby5sYWJlbCA9ICJEb21haW46IiArIGRv");
    sb.append("bWFpbiArICIgWyAiICsgcnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9IHRydWU7");
    sb.append("CiAgICAgIGNvLnZpYV9iaWxsaW5nID0gZmFsc2U7CiAgICAgIGNvLmRvbWFpbiA9IGRvbWFpbjsKICAg");
    sb.append("ICAgdmFyIHJldHJ5X3NtID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVzcG9u");
    sb.append("ZGVyKGNvLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24oKSB7");
    sb.append("CiAgICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9");
    sb.append("ICJ7fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVjdGlvbi5Db25uZWN0aW9uQ3JlYXRlVmlhRG9tYWlu");
    sb.append("KGlkZW50aXR5LCBkb21haW4sIHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJlZS5jb3B5KCkpLCByZXRy");
    sb.append("eV9zbS5yZXNwb25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVl");
    sb.append("LnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgLy8gPGNvbm5lY3Rp");
    sb.append("b24gLi4uPgogIHNlbGYuQ09OTkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1");
    sb.append("bnN1YiA9IHsKICAgICAgdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmou");
    sb.append("X18gPSBkZWJvdW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWxpZCA9ICdrZXknIGluIHJ4");
    sb.append("b2JqICYmICdzcGFjZScgaW4gcnhvYmogJiYgJ25hbWUnIGluIHJ4b2JqOwogICAgICBpZiAoIXZhbGlk");
    sb.append("KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQocnhv");
    sb.append("YmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAgICAg");
    sb.append("aWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbyA9");
    sb.append("IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRlc2lyZWQgPSByeG9iai5z");
    sb.append("cGFjZSArICIvIiArIHJ4b2JqLmtleSArICIvIiArIGlkTG9va3VwLmlkZW50aXR5OyAvLyBUT0RPOiBu");
    sb.append("ZWVkIHNvbWUga2luZCBvZiBoYXNoaW5nIGZ1bmN0aW9uIGhlcmUKICAgICAgdmFyIGJpbmQgPSBzZXR1");
    sb.append("cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKCiAgICAgIHZh");
    sb.append("ciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlkTG9va3Vw");
    sb.append("LmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uc3BhY2UgPSByeG9iai5zcGFjZTsK");
    sb.append("ICAgICAgY28ua2V5ID0gcnhvYmoua2V5OwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAg");
    sb.append("ICBjby5oYW5kbGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNv");
    sb.append("LmxhYmVsID0gY28uc3BhY2UgKyAiLyIgKyBjby5rZXkgKyAiIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7");
    sb.append("CiAgICAgIGNvLnZpYV9kb21haW4gPSBmYWxzZTsKICAgICAgY28udmlhX2JpbGxpbmcgPSBmYWxzZTsK");
    sb.append("ICAgICAgdmFyIHJldHJ5X3NtID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVz");
    sb.append("cG9uZGVyKGNvLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24o");
    sb.append("KSB7CiAgICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9u");
    sb.append("ZSA9ICJ7fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVjdGlvbi5Db25uZWN0aW9uQ3JlYXRlKGlkZW50");
    sb.append("aXR5LCByeG9iai5zcGFjZSwgcnhvYmoua2V5LCBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRyZWUuY29w");
    sb.append("eSgpKSwgcmV0cnlfc20ucmVzcG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28oKTsKICAg");
    sb.append("ICAgY28udHJlZS51cGRhdGUoe30pOwogICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07CgogIHNl");
    sb.append("bGYuSU5URVJOQUwgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgc2Vy");
    sb.append("dmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNlLAogICAgICBkYXRhOiB7IGNvbm5lY3Rpb246IG51bGwsIHRy");
    sb.append("ZWU6IG5ldyBBZGFtYVRyZWUoKSwgZGVsdGE6IHt9LCBwYXJlbnQ6IG51bGwsIHBhdGg6IG51bGwgfSwK");
    sb.append("ICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDog");
    sb.append("ImRhdGEiCiAgICB9OwogIH07CgogIHZhciByZWNhbGxfZW1haWwgPSBmdW5jdGlvbiAoZWwpIHsKICAg");
    sb.append("IGlmIChlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIklOUFVUIikgewogICAgICBpZiAoImVtYWls");
    sb.append("IiA9PSBlbC50eXBlICYmICJlbWFpbCIgPT0gZWwubmFtZSkgewogICAgICAgIGVsLnZhbHVlID0gbG9j");
    sb.append("YWxTdG9yYWdlLmdldEl0ZW0oImVtYWlsX3JlbWVtYmVyIik7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwog");
    sb.append("ICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsr");
    sb.append("KykgewogICAgICAgICAgcmVjYWxsX2VtYWlsKGVsLmNoaWxkcmVuW2tdKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgIH0KICB9OwoKICBzZWxmLmFVUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlO");
    sb.append("YW1lLCByeG9iaikgewogICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChpZGVudGl0eU5hbWUsIGZ1bmN0");
    sb.append("aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4X2ZvcndhcmQ7IH0pOyAvLyBUT0RPOiBtYWtlIHJ4dmFyCiAg");
    sb.append("ICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgZm9ybS5hY3Rpb24g");
    sb.append("PSAiaHR0cHM6Ly8iICsgQWRhbWEuUHJvZHVjdGlvbiArICIvfnVwbG9hZCI7CiAgICBmb3JtLm1ldGhv");
    sb.append("ZCA9ICJwb3N0IjsKICAgIGZvcm0uZW5jdHlwZSA9ICJtdWx0aXBhcnQvZm9ybS1kYXRhIjsKICAgIHZh");
    sb.append("ciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgIGlkZW50");
    sb.append("aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgaWRlbnRpdHlJbnB1dC5uYW1lID0gImlkZW50aXR5");
    sb.append("IjsKICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgIGZvcm0uYXBw");
    sb.append("ZW5kQ2hpbGQoaWRlbnRpdHlJbnB1dCk7CiAgICB2YXIgaWZyYW1lVGFyZ2V0ID0gZG9jdW1lbnQuY3Jl");
    sb.append("YXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICBpZnJhbWVUYXJnZXQubmFtZSA9ICJVUExPQURfIiArIE1h");
    sb.append("dGgucmFuZG9tKCk7CiAgICBpZnJhbWVUYXJnZXQud2lkdGggPSAiMSI7CiAgICBpZnJhbWVUYXJnZXQu");
    sb.append("aGVpZ2h0ID0gIjEiOwoKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFyZ2V0KTsKICAgIGZvcm0u");
    sb.append("dGFyZ2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAgc2VsZi5hRFVQID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklE");
    sb.append("KGlkZW50aXR5TmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucnhfZm9yd2FyZDsgfSk7IC8v");
    sb.append("IFRPRE86IG1ha2Ugcnh2YXIKICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICByZXR1cm47CiAg");
    sb.append("ICB9CiAgICBmb3JtLmFjdGlvbiA9IHNlbGYucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0ICsgIi9+");
    sb.append("dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5lbmN0eXBlID0gIm11bHRp");
    sb.append("cGFydC9mb3JtLWRhdGEiOwogICAgewogICAgICB2YXIgaWRlbnRpdHlJbnB1dCA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGlkZW50aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwog");
    sb.append("ICAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgICBpZGVudGl0eUlucHV0LnZh");
    sb.append("bHVlID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWRlbnRpdHlJbnB1");
    sb.append("dCk7CiAgICB9CiAgICB7CiAgICAgIHZhciBkb21haW5JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoImlucHV0Iik7CiAgICAgIGRvbWFpbklucHV0LnR5cGUgPSAiaGlkZGVuIjsKICAgICAgZG9tYWlu");
    sb.append("SW5wdXQubmFtZSA9ICJkb21haW4iOwogICAgICBkb21haW5JbnB1dC52YWx1ZSA9IHNlbGYuZG9tYWlu");
    sb.append("OwogICAgICBmb3JtLmFwcGVuZENoaWxkKGRvbWFpbklucHV0KTsKICAgIH0KICAgIHZhciBpZnJhbWVU");
    sb.append("YXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgIGlmcmFtZVRhcmdldC5u");
    sb.append("YW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFtZVRhcmdldC53aWR0aCA9ICIx");
    sb.append("IjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFt");
    sb.append("ZVRhcmdldCk7CiAgICBmb3JtLnRhcmdldCA9IGlmcmFtZVRhcmdldC5uYW1lOwogIH07CgogIC8vIFJV");
    sb.append("TlRJTUUgfCByeDphY3Rpb249ZG9tYWluOnNpZ24taW4KICBzZWxmLmFkRFNPID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewog");
    sb.append("ICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgY29uc29sZS5sb2coIlRyeWluZyB0byBzdWJt");
    sb.append("aXQgYSBmb3JtIik7CgogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIHZh");
    sb.append("ciBzbSA9IHthdHRlbXB0czowfTsKICAgICAgc20ucmVzcG9uZGVyID0gewogICAgICAgIHN1Y2Nlc3M6");
    sb.append("IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBw");
    sb.append("YXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIg");
    sb.append("KyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgLy8gVE9ETzogYmxvdyBh");
    sb.append("d2F5IGNvbm5lY3Rpb25zCiAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCwgZmFsc2Up");
    sb.append("OwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTog");
    sb.append("ZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2ln");
    sb.append("bmluZyBpbnRvIGRvY3VtZW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY29u");
    sb.append("bmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZURvbWFpbihzZWxmLmRvbWFpbiwgcmVxLnVzZXJuYW1lLCBy");
    sb.append("ZXEucGFzc3dvcmQsIHNtLnJlc3BvbmRlcik7CiAgICB9LCB0cnVlKTsKICB9CgogIC8vIFJVTlRJTUUg");
    sb.append("fCByeDphY3Rpb249ZG9jdW1lbnQ6c2lnbi1pbgogIHNlbGYuYURTTyA9IGZ1bmN0aW9uIChmb3JtLCBz");
    sb.append("dGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07");
    sb.append("CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAg");
    sb.append("ZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsK");
    sb.append("ICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZShyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51");
    sb.append("c2VybmFtZSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQp");
    sb.append("IHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAg");
    sb.append("ICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5");
    sb.append("bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMKICAg");
    sb.append("ICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICBmaXJlX3N1");
    sb.append("Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7");
    sb.append("CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6");
    sb.append("IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUpOwogIH07CgoKICAvLyBS");
    sb.append("VU5USU1FIHwgcng6YWN0aW9uPWRvbWFpbjpzaWduLWluLXJlc2V0CiAgc2VsZi5hZERTT3IgPSBmdW5j");
    sb.append("dGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVu");
    sb.append("Y3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAo");
    sb.append("ZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0o");
    sb.append("Zm9ybSwgdHJ1ZSk7CiAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemVEb21haW5XaXRoUmVz");
    sb.append("ZXQoc2VsZi5kb21haW4sIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCByZXEubmV3X3Bhc3N3b3Jk");
    sb.append("LHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGll");
    sb.append("c1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5z");
    sb.append("ZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAg");
    sb.append("ICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2Jq");
    sb.append("LnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9");
    sb.append("LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVy");
    sb.append("ZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9");
    sb.append("CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfQoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvY3Vt");
    sb.append("ZW50OnNpZ24taW4tcmVzZXQKICBzZWxmLmFEU09yID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVu");
    sb.append("dGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0u");
    sb.append("YWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVu");
    sb.append("dERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBjb25u");
    sb.append("ZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplV2l0aFJlc2V0KHJlcS5zcGFjZSwgcmVxLmtleSwgcmVxLnVz");
    sb.append("ZXJuYW1lLCByZXEucGFzc3dvcmQsIHJlcS5uZXdfcGFzc3dvcmQsewogICAgICAgIHN1Y2Nlc3M6IGZ1");
    sb.append("bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXls");
    sb.append("b2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBp");
    sb.append("ZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgLy8gVE9ETzogYmxvdyBhd2F5");
    sb.append("IGNvbm5lY3Rpb25zCiAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCwgZmFsc2UpOwog");
    sb.append("ICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVu");
    sb.append("Y3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2lnbmlu");
    sb.append("ZyBpbnRvIGRvY3VtZW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSwgdHJ1ZSk7CiAgICB9");
    sb.append("KTsKICB9OwoKICBzZWxmLmF1dG9nZW5pZCA9IDE7CiAgc2VsZi5YID0gZnVuY3Rpb24oKSB7CiAgICBz");
    sb.append("ZWxmLmF1dG9nZW5pZCsrOwogICAgcmV0dXJuICd4JyArIHNlbGYuYXV0b2dlbmlkOwogIH07CgogIHZh");
    sb.append("ciB0cmFuc2Zvcm1zID0ge307CiAgdHJhbnNmb3Jtc1sncHJpbmNpcGFsLmFnZW50J10gPSBmdW5jdGlv");
    sb.append("bih4KSB7IHJldHVybiB4LmFnZW50OyB9OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBhbC5hdXRob3JpdHkn");
    sb.append("XSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHguYXV0aG9yaXR5OyB9OwogIHRyYW5zZm9ybXNbJ3RyaW0n");
    sb.append("XSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRyaW0oKTsgfTsKICB0cmFuc2Zvcm1zWyd1");
    sb.append("cHBlciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9VcHBlckNhc2UoKTsgfTsKICB0");
    sb.append("cmFuc2Zvcm1zWydsb3dlciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9Mb3dlckNh");
    sb.append("c2UoKTsgfTsKICB0cmFuc2Zvcm1zWydpc19lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJu");
    sb.append("IHggPT0gIiI7IH07CiAgdHJhbnNmb3Jtc1snaXNfbm90X2VtcHR5X3N0ciddID0gZnVuY3Rpb24oeCkg");
    sb.append("eyByZXR1cm4geCAhPSAiIjsgfTsKICB0cmFuc2Zvcm1zWydqc29uaWZ5J10gPSBmdW5jdGlvbih4KSB7");
    sb.append("IHJldHVybiBKU09OLnN0cmluZ2lmeSh4KTsgfTsKICB0cmFuc2Zvcm1zWyd0aW1lX25vdyddID0gZnVu");
    sb.append("Y3Rpb24oeCkgeyByZXR1cm4gRGF0ZS5ub3coKSArICIiOyB9OwogIHRyYW5zZm9ybXNbJ3NpemVfYnl0");
    sb.append("ZXMnXSA9IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4wOwogICAgaWYgKHR5cGVvZih4cmF3");
    sb.append("KSA9PSAnbnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0gZWxzZSB7CiAgICAgIHRyeSB7CiAg");
    sb.append("ICAgICAgeCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0Y2ggKGV4KSB7CgogICAgICB9CiAg");
    sb.append("ICB9CiAgICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICBpZiAoaXZhbCA8IDEwMjQpIHsKICAg");
    sb.append("ICAgcmV0dXJuIGl2YWwgKyAiIEIiOwogICAgfQogICAgaXZhbCAvPSAxMDI0OwogICAgaWYgKGl2YWwg");
    sb.append("PCAxMDI0KSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGl2YWwgKiAxMCkgLyAxMC4wICsgIiBLQiI7");
    sb.append("CiAgICB9CiAgICBpdmFsIC89IDEwMjQ7CiAgICBpZiAoaXZhbCA8IDEwMjQpIHsKICAgICAgcmV0dXJu");
    sb.append("IE1hdGgucm91bmQoaXZhbCAqIDEwKSAvIDEwLjAgKyAiIE1CIjsKICAgIH0KICAgIGl2YWwgLz0gMTAy");
    sb.append("NDsKICAgIGlmIChpdmFsIDwgMTAyNCkgewogICAgICByZXR1cm4gTWF0aC5yb3VuZChpdmFsICogMTAp");
    sb.append("IC8gMTAuMCArICIgR0IiOwogICAgfQogIH0KICB0cmFuc2Zvcm1zWyd2dWxnYXJfZnJhY3Rpb24nXSA9");
    sb.append("IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4wOwogICAgaWYgKHR5cGVvZih4cmF3KSA9PSAn");
    sb.append("bnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0gZWxzZSB7CiAgICAgIHRyeSB7CiAgICAgICAg");
    sb.append("eCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0Y2ggKGV4KSB7CgogICAgICB9CiAgICB9CiAg");
    sb.append("ICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICB2YXIgY2hhbmdlID0geCAtIGl2YWw7CiAgICB2");
    sb.append("YXIgc3VmZml4ID0gIiI7CiAgICBpZiAoY2hhbmdlIDw9IDAuMDYyNSkgewogICAgICAvLyAwCiAgICB9");
    sb.append("IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjE4NzUpIHsKICAgICAgc3VmZml4ID0gIuKFmyI7CiAgICB9IGVs");
    sb.append("c2UgaWYgKGNoYW5nZSA8PSAwLjMxMjUpIHsKICAgICAgc3VmZml4ID0gIsK8IjsKICAgIH0gZWxzZSBp");
    sb.append("ZiAoY2hhbmdlIDw9IDAuNDM3NSkgewogICAgICBzdWZmaXggPSAi4oWcIjsKICAgIH0gZWxzZSBpZiAo");
    sb.append("Y2hhbmdlIDw9IDAuNTYyNSkgewogICAgICBzdWZmaXggPSAiwr0iOwogICAgfSBlbHNlIGlmIChjaGFu");
    sb.append("Z2UgPD0gMC42ODc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ0iOwogICAgfSBlbHNlIGlmIChjaGFuZ2Ug");
    sb.append("PD0gMC44MTI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCviI7IC8vIDMvNAogICAgfSBlbHNlIGlmIChjaGFu");
    sb.append("Z2UgPD0gMC45Mzc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ4iOwogICAgfSAvLyBlbHNlIDEKICAgIHJl");
    sb.append("dHVybiBpdmFsICsgc3VmZml4OwogIH0KICB0cmFuc2Zvcm1zWyd0aW1lX2FnbyddID0gZnVuY3Rpb24o");
    sb.append("ZHQpIHsKICAgIC8vIG9ubHkgdHJhbnNmb3JtIHN0cmluZ3MKICAgIGlmICh0eXBlb2YgKGR0KSA9PSAi");
    sb.append("c3RyaW5nIikgewogICAgICAvLyBsZXQncyBzdHJpcCBvdXQgZXZlcnl0aGluZyBhZnRlciB0aGUgYnJh");
    sb.append("Y2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAgICAgdmFyIGsgPSBzLmluZGV4T2YoJ1snKTsKICAgICAg");
    sb.append("aWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBrKTsKICAgICAgfQogICAgICB2");
    sb.append("YXIgZCA9IERhdGUucGFyc2Uocyk7CiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZCkpIHsKICAgICAgICAv");
    sb.append("LyBpdCBpc24ndCBhIG51bWJlciwgc28gd2UgZGlkbid0IGdldCBhIGRhdGUgc3RhbXA7IGRlZmF1bHQg");
    sb.append("dG8gdGhlIGlucHV0CiAgICAgICAgcmV0dXJuIGR0OwogICAgICB9CiAgICAgIC8vIHdlIGFyZSBpbnRl");
    sb.append("cmVzdGVkIGluIHByb2R1Y2luZyBhIHN0cmluZyBsaWtlICJYIG1pbnV0ZXMgYWdvIiwgc28gc3RhcnQg");
    sb.append("d2l0aCBzZWNvbmRzCiAgICAgIHZhciBkZWx0YSA9IChEYXRlLm5vdygpIC0gZCkvMTAwMDsgLy8gc2Vj");
    sb.append("b25kczsKICAgICAgaWYgKGRlbHRhIDwgNjApIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkZWx0");
    sb.append("YSkgKyAiIHNlY29uZHMgYWdvIjsKICAgICAgfQogICAgICAvLyBpdCB3YXNuJ3QgOTAgc2Vjb25kcyBh");
    sb.append("Z28gb3IgbGVzcywgc28gbGV0J3MgcmVmaW5lIHRvd2FyZHMgbWludXRlcwogICAgICBkZWx0YSAvPSA2");
    sb.append("MDsgLy8gbm93IGl0IGlzIG1pbnV0ZXMKICAgICAgaWYgKGRlbHRhIDwgNjApIHsKICAgICAgICByZXR1");
    sb.append("cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIG1pbnV0ZXMgYWdvIjsKICAgICAgfQogICAgICBpZiAoZGVs");
    sb.append("dGEgPiAyLjYyOGUrNykgewogICAgICAgIHJldHVybiAiTmV2ZXIiOwogICAgICB9CiAgICAgIC8vIGl0");
    sb.append("IHdhc24ndCA5MCBtaW51dGVzIGFnbywgc28gbGV0J3MganVzdCBwdXQgdGhlIHRpbWUgc3RhbXAgdXAK");
    sb.append("ICAgICAgdmFyIGR0aGVuID0gbmV3IERhdGUoZCk7CiAgICAgIHZhciBkbm93ID0gbmV3IERhdGUoKTsK");
    sb.append("ICAgICAgaWYgKGR0aGVuLnRvTG9jYWxlRGF0ZVN0cmluZygpICE9IGRub3cudG9Mb2NhbGVEYXRlU3Ry");
    sb.append("aW5nKCkpIHsKICAgICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBk");
    sb.append("dGhlbi50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgfQogICAgICByZXR1cm4gZHRoZW4udG9Mb2Nh");
    sb.append("bGVUaW1lU3RyaW5nKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVy");
    sb.append("biBkdDsKICAgIH0KICB9OwogIAogIHRyYW5zZm9ybXNbJ3RpbWUnXSA9IGZ1bmN0aW9uKGR0KSB7CiAg");
    sb.append("ICAgICAgLy8gb25seSB0cmFuc2Zvcm0gc3RyaW5ncwogICAgaWYgKHR5cGVvZiAoZHQpID09ICJzdHJp");
    sb.append("bmciKSB7CiAgICAgIC8vIGxldCdzIHN0cmlwIG91dCBldmVyeXRoaW5nIGFmdGVyIHRoZSBicmFja2V0");
    sb.append("cwogICAgICB2YXIgcyA9IGR0OwogICAgICB2YXIgayA9IHMuaW5kZXhPZignWycpOwogICAgICBpZiAo");
    sb.append("ayA+PSAwKSB7CiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIGspOwogICAgICB9CgogICAgICAvLyBD");
    sb.append("b252ZXJ0IHN0cmluZyB0byB0aW1lIGZvcm1hdAogICAgICB2YXIgdCA9IGR0LmluZGV4T2YoIjoiKTsK");
    sb.append("ICAgICAgaWYgKHQgPCAwKSB7CiAgICAgICAgcmV0dXJuIGR0OwogICAgICB9CiAgICAgIHZhciBoID0g");
    sb.append("ZHQuc3BsaXQoIjoiKVswXTsKICAgICAgdmFyIGhvdXJzID0gaDsKICAgICAgaWYgKGgubGVuZ3RoID4g");
    sb.append("MikgewogICAgICAgIGhvdXJzID0gaC5zdWJzdHJpbmcoaC5sZW5ndGggLSAyLCBoLmxlbmd0aCk7IC8v");
    sb.append("IHRyaW0gbGVmdCBpbiBjYXNlIG9mIGRhdGV0aW1lCiAgICAgIH0KICAgICAgdmFyIEFtT3JQbSA9IGhv");
    sb.append("dXJzID49IDEyID8gJ3BtJyA6ICdhbSc7CiAgICAgIGhvdXJzID0gKGhvdXJzICUgMTIpIHx8IDEyOwog");
    sb.append("ICAgICB2YXIgbSA9IGR0LnNwbGl0KCI6IilbMV0KICAgICAgdmFyIG1pbnV0ZXMgPSBtOwogICAgICBp");
    sb.append("ZiAobS5sZW5ndGggPiAyKSB7CiAgICAgICAgbWludXRlcyA9IG0uc3Vic3RyaW5nKDAsMik7IC8vIHRy");
    sb.append("aW0gcmlnaHQgaW4gY2FzZSBvZiBkYXRldGltZQogICAgICB9CgogICAgICByZXR1cm4gaG91cnMgKyAi");
    sb.append("OiIgKyBtaW51dGVzICsgIiAiICsgQW1PclBtOyAKICAgIH0gZWxzZSB7CiAgICAgIC8vIGRvIG5vdGhp");
    sb.append("bmcKICAgICAgcmV0dXJuIGR0OwogICAgfQogIH07CgogIHNlbGYuUlRSID0gZnVuY3Rpb24obmFtZSwg");
    sb.append("dHJhbnNmb3JtKSB7CiAgICB0cmFuc2Zvcm1zW25hbWVdID0gdHJhbnNmb3JtOwogIH07CiAgc2VsZi5y");
    sb.append("ZWdpc3RlclRyYW5zZm9ybSA9IHNlbGYuUlRSOwoKICAvLyB7YmxhaHxuYW1lfQogIHNlbGYuVFIgPSBm");
    sb.append("dW5jdGlvbihuYW1lKSB7CiAgICBpZiAobmFtZSBpbiB0cmFuc2Zvcm1zKSB7CiAgICAgIHJldHVybiB0");
    sb.append("cmFuc2Zvcm1zW25hbWVdOwogICAgfQogICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHg7IH07");
    sb.append("CiAgfTsKCiAgLy8gVE9ETwogIHZhciB2YWxpZGF0b3JzID0ge307CiAgc2VsZi5SViA9IGZ1bmN0aW9u");
    sb.append("KG5hbWUsIHZhbGlkYXRvcikgewogICAgdmFsaWRhdG9yc1tuYW1lXSA9IHZhbGlkYXRvcjsKICB9Owog");
    sb.append("IHNlbGYucmVnaXN0ZXJWYWxpZGF0b3IgPSBzZWxmLlJWOwoKICB2YXIgY29tbW9uUHV0ID0gZnVuY3Rp");
    sb.append("b24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCB1cmxmYWN0b3J5KSB7CiAgICAvLyBX");
    sb.append("SVAKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVy");
    sb.append("KCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAg");
    sb.append("ICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICAvLyBUT0RPOiB0aGlzIGFzc3Vt");
    sb.append("ZXMgZXhhY3RseSBvbmUgcGFzc3dvcmQgaW4gdGhlIHJvb3QgbWVzc2FnZQogICAgICB2YXIgcHdzID0g");
    sb.append("Z2V0X3Bhc3N3b3JkKGZvcm0pOwoKICAgICAgdmFyIG5leHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("dmFyIHVybCA9IHVybGZhY3RvcnkocnhvYmopOwogICAgICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRw");
    sb.append("UmVxdWVzdCgpOwogICAgICAgIHhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICAgICAgICBpZiAodGhpcy5z");
    sb.append("dGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldFJlc3BvbnNlSGVh");
    sb.append("ZGVyKCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgICAgICBpZiAodHlwZSA9PSAidGV4dC9lcnJvciIp");
    sb.append("IHsKICAgICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCB0aGlzLnJlc3BvbnNlVGV4dCk7CiAg");
    sb.append("ICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJhcHBs");
    sb.append("aWNhdGlvbi9qc29uIikgewogICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKHRo");
    sb.append("aXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIGlmICgnaWRlbnRpdHknIGluIHBheWxvYWQp");
    sb.append("IHsKICAgICAgICAgICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVu");
    sb.append("dGl0eTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBp");
    sb.append("ZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCwgZmFsc2UpOwogICAg");
    sb.append("ICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICAgICAgICBmb3JtLmRpc3BhdGNoRXZl");
    sb.append("bnQobmV3IEV2ZW50KCJzdWJtaXR0ZWQiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg");
    sb.append("ICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gY29tbXVuaWNhdGUgdG8gc2VydmVyIik7CiAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHhodHRwLm9wZW4oIlBVVCIs");
    sb.append("IHVybCwgdHJ1ZSk7CiAgICAgICAgeGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICB4");
    sb.append("aHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KHJlcSkpOwogICAgICB9OwoKICAgICAgaWYgKHB3cyAhPT0g");
    sb.append("bnVsbCkgewogICAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHB3c1sxXSwgewog");
    sb.append("ICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICByZXFbcHdz");
    sb.append("WzBdXSA9IGhhc2hlZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAg");
    sb.append("IH0sCiAgICAgICAgICBmYWlsZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmlyZV9mYWlsdXJl");
    sb.append("KGZvcm0sICJGYWlsZWQgdG8gaGFzaCBwYXNzd29yZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwog");
    sb.append("ICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgfQoKICAv");
    sb.append("LyBSVU5USU1FIHwgcng6YWN0aW9uPWRvbWFpbjpwdXQKICBzZWxmLmFkRFBVVCA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9uUHV0KGZvcm0sIHN0YXRl");
    sb.append("LCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbiAocnhvYmopIHsgcmV0dXJuIHNlbGYucHJvdG9j");
    sb.append("b2wgKyAiLy8iICsgc2VsZi5ob3N0ICsgIi8iICsgcnhvYmoucGF0aDsgfSkKICB9OwoKICAvLyBSVU5U");
    sb.append("SU1FIHwgcng6YWN0aW9uPWRvY3VtZW50OnB1dAogIHNlbGYuYURQVVQgPSBmdW5jdGlvbiAoZm9ybSwg");
    sb.append("c3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIGNvbW1vblB1dChmb3JtLCBzdGF0ZSwgaWRl");
    sb.append("bnRpdHlOYW1lLCByeG9iaiwgZnVuY3Rpb24gKHJ4b2JqKSB7IHJldHVybiAiaHR0cHM6Ly8iICsgY29u");
    sb.append("bmVjdGlvbi5ob3N0ICsgIi8iICsgcnhvYmouc3BhY2UgKyAiLyIgKyByeG9iai5rZXkgKyAiLyIgKyBy");
    sb.append("eG9iai5wYXRoOyB9KQogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2lnbi1pbgog");
    sb.append("IHNlbGYuYVNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAg");
    sb.append("ICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgcmVjYWxsX2VtYWlsKGZvcm0pOwogICAgfSwgMSk7CiAgICAvLyBUT0RPOiBwdWxs");
    sb.append("IGVtYWlsIG91dCBvZiB0aGluIGFpcgogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBm");
    sb.append("dW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0g");
    sb.append("Z2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGlmIChyZXEucmVtZW1iZXIpIHsKICAgICAgICBsb2Nh");
    sb.append("bFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWxfcmVtZW1iZXIiLCByZXEuZW1haWwpOwogICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsICIiKTsKICAgICAg");
    sb.append("fQogICAgICBjb25uZWN0aW9uLkFjY291bnRMb2dpbihyZXEuZW1haWwsIHJlcS5wYXNzd29yZCwgewog");
    sb.append("ICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lk");
    sb.append("ZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0");
    sb.append("ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAg");
    sb.append("c2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhm");
    sb.append("b3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAg");
    sb.append("ICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiQWNjb3VudExvZ2luIEZhaWxlZDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlv");
    sb.append("bj1hZGFtYTpzaWduLXVwCiAgc2VsZi5hU1UgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndhcmRU");
    sb.append("bykgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAg");
    sb.append("ICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSk7CiAg");
    sb.append("ICAgIGNvbm5lY3Rpb24uSW5pdFNldHVwQWNjb3VudChyZXEuZW1haWwsIHsKICAgICAgICBzdWNjZXNz");
    sb.append("OiBmdW5jdGlvbiAoLyogcGF5bG9hZCAqLykgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0o");
    sb.append("ImVtYWlsIiwgcmVxLmVtYWlsKTsKICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJkVG8sIGZhbHNlKTsK");
    sb.append("ICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1");
    sb.append("bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiSW5pdFNldHVwQWNj");
    sb.append("b3VudCBGYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUpOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2V0LXBhc3N3b3JkCiAgc2VsZi5hU1Ag");
    sb.append("PSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndhcmRUbykgewogICAgZm9ybS5hZGRFdmVudExpc3Rl");
    sb.append("bmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwog");
    sb.append("ICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGlmICghKCJlbWFpbCIgaW4g");
    sb.append("cmVxKSkgewogICAgICAgIHJlcS5lbWFpbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbCIpOwog");
    sb.append("ICAgICB9CiAgICAgIGNvbm5lY3Rpb24uSW5pdENvbXBsZXRlQWNjb3VudChyZXEuZW1haWwsIGZhbHNl");
    sb.append("LCByZXEuY29kZSwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChpbml0KSB7CiAgICAgICAgICB2");
    sb.append("YXIgaWRlbnRpdHkgPSBpbml0LmlkZW50aXR5OwogICAgICAgICAgY29ubmVjdGlvbi5BY2NvdW50U2V0");
    sb.append("UGFzc3dvcmQoaW5pdC5pZGVudGl0eSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlf");
    sb.append("ZGVmYXVsdCIsIGlkZW50aXR5KTsKICAgICAgICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvLCBmYWxz");
    sb.append("ZSk7CiAgICAgICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAgICB9LAogICAgICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgZmlyZV9mYWlsdXJl");
    sb.append("KGZvcm0sICJGYWlsZWQgQWNjb3VudFNldFBhc3N3b3JkOiIgKyByZWFzb24pOwogICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24p");
    sb.append("IHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIEluaXRDb21wbGV0ZUFjY291bnQ6");
    sb.append("IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUpOwogIH07CgoKICB2YXIg");
    sb.append("aHlkcmF0ZV9mb3JtID0gZnVuY3Rpb24oZWwsIGlucHV0KSB7CiAgICB2YXIgdGFnID0gZWwudGFnTmFt");
    sb.append("ZS50b1VwcGVyQ2FzZSgpOwogICAgdmFyIGlzU2V0dGFibGUgPSB0YWcgPT0gIlNFTEVDVCIgfHwgdGFn");
    sb.append("ID09ICJJTlBVVCIgfHwgdGFnID09ICJISURERU4iOwogICAgaWYgKCduYW1lJyBpbiBlbCAmJiBpc1Nl");
    sb.append("dHRhYmxlKSB7CiAgICAgIHZhciBuYW1lID0gZWwubmFtZTsKICAgICAgdmFyIHBheWxvYWQgPSBpbnB1");
    sb.append("dDsKICAgICAgdmFyIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFt");
    sb.append("ZS5pbmRleE9mKCcvJykpOwogICAgICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAgdmFy");
    sb.append("IGl0ZW0gPSBuYW1lLnN1YnN0cmluZygwLCBrRG90T3JTbGFzaCk7CiAgICAgICAgbmFtZSA9IG5hbWUu");
    sb.append("c3Vic3RyaW5nKGtEb3RPclNsYXNoICsgMSk7CiAgICAgICAgaWYgKGl0ZW0gaW4gcGF5bG9hZCkgewog");
    sb.append("ICAgICAgICAgcGF5bG9hZCA9IHBheWxvYWRbaXRlbV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgICB9CiAgICAgICAga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5k");
    sb.append("ZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIH0KICAgICAgaWYgKG5hbWUgaW4gcGF5");
    sb.append("bG9hZCkgewogICAgICAgIHZhciB0eXBlID0gZWwudHlwZS50b1VwcGVyQ2FzZSgpOwogICAgICAgIGlm");
    sb.append("ICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAgICAgICAgIGVsLmNoZWNrZWQgPSBwYXlsb2FkW25hbWVd");
    sb.append("ID09ICJ0cnVlIiB8fCBwYXlsb2FkW25hbWVdID09PSB0cnVlID8gdHJ1ZSA6IGZhbHNlOwogICAgICAg");
    sb.append("IH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAgICAgICBpZiAocGF5bG9hZFtuYW1lXSA9");
    sb.append("PSBlbC52YWx1ZSkgewogICAgICAgICAgICBlbC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgIH0KICAg");
    sb.append("ICAgICB9IGVsc2UgewogICAgICAgICAgZWwudmFsdWUgPSBwYXlsb2FkW25hbWVdOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgfQogICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgdmFyIGFyciA9IGVs");
    sb.append("LmNoaWxkcmVuOwogICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgIGZvciAodmFyIGsgPSAwOyBr");
    sb.append("IDwgbjsgaysrKSB7CiAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgaHlkcmF0");
    sb.append("ZV9mb3JtKGNoLCBpbnB1dCk7CiAgICAgIH0KICAgIH0KICB9CgoKICAvLyBSVU5USU1FIHwgcng6YWN0");
    sb.append("aW9uOmNvcHktZm9ybTokdGFyZ2V0LWlkCiAgc2VsZi5hQ0YgPSBmdW5jdGlvbihmb3JtLCB0YXJnZXRG");
    sb.append("b3JtSWQpIHsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZXZ0KSB7");
    sb.append("CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgaW5wdXQgPSBnZXRfZm9ybShmb3Jt");
    sb.append("LCBmYWxzZSk7CiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRG");
    sb.append("b3JtSWQpOwogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgaHlkcmF0ZV9mb3JtKHRhcmdldCwgaW5w");
    sb.append("dXQpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKQogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVf");
    sb.append("ZmFpbHVyZShmb3JtLCAiZmFpbGVkIHRvIGZpbmQgZm9ybSBieSBpZCAnIiArIHRhcmdldEZvcm1JZCAr");
    sb.append("ICInIik7CiAgICAgIH0KICAgIH0sIHRydWUpOwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249");
    sb.append("c2VuZDokY2hhbm5lbAogIHNlbGYuYVNEID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBjaGFubmVsKSB7");
    sb.append("CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAg");
    sb.append("ZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBtc2cgPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7");
    sb.append("CiAgICAgIGlmIChldnQuc3VibWl0dGVyKSB7CiAgICAgICAgdmFyIHMgPSBldnQuc3VibWl0dGVyOwog");
    sb.append("ICAgICAgIGlmIChzLm5hbWUgJiYgcy52YWx1ZSkgewogICAgICAgICAgaWYgKHMudmFsdWUgPT0gInRy");
    sb.append("dWUiKSB7IHMudmFsdWUgPSB0cnVlOyB9CiAgICAgICAgICBlbHNlIGlmIChzLnZhbHVlID09ICJmYWxz");
    sb.append("ZSIpIHsgcy52YWx1ZSA9IGZhbHNlOyB9CiAgICAgICAgICBtc2dbcy5uYW1lXSA9IHMudmFsdWU7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICAgIC8vIFRPRE86IHBhc3MgdGhyb3VnaCB0aGUgZGVidWdnZXIKICAg");
    sb.append("ICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIG1zZywgewogICAgICAgIHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uICgvKiBwYXlsb2FkICovKSB7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9y");
    sb.append("bSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAg");
    sb.append("ICBmaXJlX2ZhaWx1cmUoZm9ybSwgIlNlbmQgZmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAg");
    sb.append("ICAgfSk7CiAgICB9LCB0cnVlKTsKICB9OwogIC8vIDx0b2RvdGFzaz5kZXNjcmlwdGlvbjwvdG9kb3Rh");
    sb.append("c2s+CiAgc2VsZi5UQVNLID0gZnVuY3Rpb24ocGRvbSwgaWQsIHNlY3Rpb24sIGRlc2NyaXB0aW9uKSB7");
    sb.append("CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZWxlbWVu");
    sb.append("dC5pbm5lckhUTUwgPSAiJiM5NzQ0OyAiICsgZGVzY3JpcHRpb24gKyAiICggIiArIHNlY3Rpb24gKyAi");
    sb.append("KSA8YnIgLz4iOwogICAgcGRvbS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICB9OwogIC8vIFJVTlRJTUU6");
    sb.append("IHByZS1jb21wcmVzc2lvbiBmb3Igc2V0dGluZyBhbiBhdHRyaWJ1dGUKICAvLyAiZC5zZXRBdHRyaWJ1");
    sb.append("dGUoYSx2KTsiIC0tPgogIC8vICQuU0EoZCxhLHYpOyIKICBzZWxmLlNBID0gZnVuY3Rpb24oZG9tLCBh");
    sb.append("dHRyLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7CiAgfTsKICAvLyBm");
    sb.append("b3Igc2VsZWN0cwogIC8vIGQudmFsdWU9JHZhbHVlOwogIC8vICQuU1YoZCwkdmFsdWUpOwogIHNlbGYu");
    sb.append("U1YgPSBmdW5jdGlvbihkb20sIHZhbHVlKSB7CiAgICBkb20udmFsdWUgPSB2YWx1ZTsKICAgIGRvbS5y");
    sb.append("eHZhbHVlID0gdmFsdWU7CiAgfTsKICBzZWxmLm1lcmdlR290byA9IGZ1bmN0aW9uKGhyZWYsIHN0YXRl");
    sb.append("KSB7CiAgICB2YXIgcGFydHMgPSAoaHJlZi5zdGFydHNXaXRoKCIvIikgPyBocmVmLnN1YnN0cmluZygx");
    sb.append("KSA6IGhyZWYpLnNwbGl0KCIvIik7CiAgICB2YXIgbWVyZ2VJbml0ID0ge307CiAgICBpZiAocm91dGUo");
    sb.append("cGFydHMsIDAsIHJvdXRlciwgbWVyZ2VJbml0KSkgewogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRl");
    sb.append("KG1lcmdlSW5pdCk7CiAgICB9CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBocmVmPSIiIC4uLj4KICBz");
    sb.append("ZWxmLkhSRUYgPSBmdW5jdGlvbiAoZG9tLCBzdGF0ZSwgaHJlZiwgbWVyZ2UpIHsKICAgIGRvbS5zZXRB");
    sb.append("dHRyaWJ1dGUoImhyZWYiLCBmaXhIcmVmKGhyZWYpKTsKICAgIGRvbS5vbmNsaWNrID0gZnVuY3Rpb24g");
    sb.append("KGV2dCkgewogICAgICB2YXIgcGFydHMgPSAoaHJlZi5zdGFydHNXaXRoKCIvIikgPyBocmVmLnN1YnN0");
    sb.append("cmluZygxKSA6IGhyZWYpLnNwbGl0KCIvIik7CiAgICAgIHZhciBtZXJnZUluaXQgPSB7fTsKICAgICAg");
    sb.append("aWYgKHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIG1lcmdlSW5pdCkpIHsKICAgICAgICBldnQucHJldmVu");
    sb.append("dERlZmF1bHQoKTsKICAgICAgICBpZiAobWVyZ2UpIHsKICAgICAgICAgIHN0YXRlLnZpZXcudHJlZS51");
    sb.append("cGRhdGUobWVyZ2VJbml0KTsKICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7bWVyZ2U6");
    sb.append("dHJ1ZX0sICIiLCBmaXhIcmVmKGhyZWYpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZi5n");
    sb.append("b3RvKGhyZWYsIHRydWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAg");
    sb.append("ICAgcmV0dXJuIHRydWU7CiAgICB9OwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4gY2xhc3M9IiIgLi4u");
    sb.append("PgogIHNlbGYuQUMgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZSgi");
    sb.append("Y2xhc3MiLCB2YWx1ZSk7CiAgfTsKICBzZWxmLkFDTEFTUyA9IGZ1bmN0aW9uIChkb20sIHZhbHVlKSB7");
    sb.append("IC8vIHRvIGRlcHJlY2F0ZSBpbiB0aGUgZnV0dXJlCiAgICBkb20uc2V0QXR0cmlidXRlKCJjbGFzcyIs");
    sb.append("IHZhbHVlKTsKICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIHNyYz0iIiAuLi4+CiAgc2VsZi5BU1JDID0g");
    sb.append("ZnVuY3Rpb24gKGRvbSwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoInNyYyIsIHZhbHVlKTsK");
    sb.append("ICB9OwogIHdpbmRvdy5yeGh0bWwgPSBzZWxmOwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5jYWxsYmFja3Muc2V0KHJlcXVlc3QuaWQs");
    sb.append("IGNhbGxiYWNrKTsKICAgIHRoaXMuc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkpOwog");
    sb.append("ICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiogYXBpOiB3YWl0IGZvciBhIGNvbm5lY3Rpb24gKi8KICBh");
    sb.append("c3luYyB3YWl0X2Nvbm5lY3RlZCgpIHsKICAgIGlmICh0aGlzLmNvbm5lY3RlZCkgewogICAgICByZXR1");
    sb.append("cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAgICAgICBnb29kKHRydWUpOwogICAgICB9");
    sb.append("KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHByaW9yID0gdGhp");
    sb.append("cy5vbnN0YXR1c2NoYW5nZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChnb29kKSB7");
    sb.append("CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9uIChzdGF0dXMpIHsKICAgICAgICAg");
    sb.append("IHByaW9yKHN0YXR1cyk7CiAgICAgICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgICAgIGdvb2QodHJ1");
    sb.append("ZSk7CiAgICAgICAgICAgIHNlbGYub25zdGF0dXNjaGFuZ2UgPSBwcmlvcjsKICAgICAgICAgIH0KICAg");
    sb.append("ICAgICB9OwogICAgICB9KTsKICAgIH0KICB9CgogIF9yZWNvbm5lY3QoKSB7CiAgICB0aGlzLm9ucmVj");
    sb.append("b25uZWN0LmZvckVhY2goZnVuY3Rpb24gKHNtLCBpZCkgewogICAgICBzbS5fX3JldHJ5KCk7CiAgICB9");
    sb.append("KTsKICB9CgogIC8qKiBleGVjdXRlIGEgcmVxdWVzZSByZXNwb25zZSB3aXRoIHRoZSBnaXZlbiBzdGF0");
    sb.append("ZSBtYWNoaW5lICovCiAgX19leGVjdXRlX3JyKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBz");
    sb.append("bS5maXJzdCA9IHRydWU7CiAgICBpZiAoIXNlbGYuX3dyaXRlKHNtLnJlcXVlc3QsIGZ1bmN0aW9uIChy");
    sb.append("ZXNwb25zZSkgewogICAgICBpZiAoc20uZmlyc3QpIHsKICAgICAgICBzbS5maXJzdCA9IGZhbHNlOwog");
    sb.append("ICAgICAgIGlmICgiZmFpbHVyZSIgaW4gcmVzcG9uc2UpIHsKICAgICAgICAgIGlmICgnZmFpbHVyZScg");
    sb.append("aW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICAgIHNtLnJlc3BvbmRlci5mYWlsdXJlKHJlc3BvbnNl");
    sb.append("LnJlYXNvbik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICgnc3VjY2Vz");
    sb.append("cycgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICAgIHNtLnJlc3BvbmRlci5zdWNjZXNzKHJlc3Bv");
    sb.append("bnNlLnJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2VsZi5vbnJl");
    sb.append("Y29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgfSkpIHsKICAgICAgc2VsZi5vbnJlY29ubmVjdC5zZXQo");
    sb.append("c20uaWQsIHNtKTsKICAgICAgc20uX19yZXRyeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycihzbSk7CiAgICAgIH07CiAgICAgIHJldHVybiBzbTsKICAgIH0KICAgIHJldHVybiBu");
    sb.append("dWxsOwogIH0KCiAgLyoqIGV4ZWN1dGUgYSBzdHJlYW0gcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBzdGF0");
    sb.append("ZSBtYWNoaW5lICovCiAgX19leGVjdXRlX3N0cmVhbShzbSkgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgc2VsZi5fd3JpdGUoc20ucmVxdWVzdCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmICgi");
    sb.append("ZmFpbHVyZSIgaW4gcmVzcG9uc2UpIHsKICAgICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRl");
    sb.append("cikgewogICAgICAgICAgc20ucmVzcG9uZGVyLmZhaWx1cmUocmVzcG9uc2UucmVhc29uKTsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgfQogICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICBpZiAoJ25leHQnIGlu");
    sb.append("IHNtLnJlc3BvbmRlcikgewogICAgICAgICAgc20ucmVzcG9uZGVyLm5leHQocmVzcG9uc2UucmVzcG9u");
    sb.append("c2UpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAocmVzcG9uc2UuZG9uZSkgewogICAgICAgIGlm");
    sb.append("ICgnY29tcGxldGUnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgc20ucmVzcG9uZGVyLmNvbXBs");
    sb.append("ZXRlKCk7CiAgICAgICAgfQogICAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRlKHNtLmlkKTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgICBzZWxmLm9ucmVjb25uZWN0LnNldChzbS5pZCwgc20pOwogICAgc20uX19y");
    sb.append("ZXRyeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHNtKTsKICAgIH07");
    sb.append("CiAgICByZXR1cm4gc207CiAgfQoKICBfX2lkKCkgewogICAgdGhpcy5uZXh0SWQrKzsKICAgIHJldHVy");
    sb.append("biB0aGlzLm5leHRJZDsKICB9CgogIC8qKltCRUdJTi1JTlZPS0VdKiovCiAgSW5pdFNldHVwQWNjb3Vu");
    sb.append("dChlbWFpbCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9z");
    sb.append("ZXR1cC1hY2NvdW50IiwgImlkIjpwYXJJZCwgImVtYWlsIjogZW1haWx9CiAgICB9KTsKICB9CiAgSW5p");
    sb.append("dENvbnZlcnRHb29nbGVVc2VyKGFjY2Vzc1Rva2VuLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJpbml0L2NvbnZlcnQtZ29vZ2xlLXVzZXIiLCAiaWQiOnBhcklkLCAiYWNj");
    sb.append("ZXNzLXRva2VuIjogYWNjZXNzVG9rZW59CiAgICB9KTsKICB9CiAgSW5pdENvbXBsZXRlQWNjb3VudChl");
    sb.append("bWFpbCwgcmV2b2tlLCBjb2RlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJpbml0L2NvbXBsZXRlLWFjY291bnQiLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbCwgInJl");
    sb.append("dm9rZSI6IHJldm9rZSwgImNvZGUiOiBjb2RlfQogICAgfSk7CiAgfQogIERlaW5pdChpZGVudGl0eSwg");
    sb.append("cmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZGVpbml0IiwgImlkIjpw");
    sb.append("YXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQWNjb3VudFNldFBhc3N3b3Jk");
    sb.append("KGlkZW50aXR5LCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiYWNjb3VudC9zZXQtcGFzc3dvcmQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0");
    sb.append("eSwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgQWNjb3VudEdldFBheW1lbnRQbGFu");
    sb.append("KGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhY2Nv");
    sb.append("dW50L2dldC1wYXltZW50LXBsYW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAg");
    sb.append("IH0pOwogIH0KICBBY2NvdW50TG9naW4oZW1haWwsIHBhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhY2NvdW50L2xvZ2luIiwgImlkIjpwYXJJZCwgImVtYWls");
    sb.append("IjogZW1haWwsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIFByb2JlKGlkZW50aXR5");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJwcm9iZSIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIFN0YXRzKHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzdGF0cyIsICJpZCI6cGFySWR9CiAg");
    sb.append("ICB9KTsKICB9CiAgSWRlbnRpdHlIYXNoKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJpZGVudGl0eS9oYXNoIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHl9CiAgICB9KTsKICB9CiAgSWRlbnRpdHlTdGFzaChpZGVudGl0eSwgbmFtZSwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVy");
    sb.append("OiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaWRlbnRpdHkvc3Rhc2giLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgIm5hbWUiOiBuYW1lfQogICAgfSk7CiAgfQogIEF1");
    sb.append("dGhvcml0eUNyZWF0ZShpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoiYXV0aG9yaXR5L2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5");
    sb.append("fQogICAgfSk7CiAgfQogIEF1dGhvcml0eVNldChpZGVudGl0eSwgYXV0aG9yaXR5LCBrZXlTdG9yZSwg");
    sb.append("cmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L3NldCIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5LCAi");
    sb.append("a2V5LXN0b3JlIjoga2V5U3RvcmV9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5R2V0KGlkZW50aXR5LCBh");
    sb.append("dXRob3JpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhv");
    sb.append("cml0eS9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1");
    sb.append("dGhvcml0eX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlMaXN0KGlkZW50aXR5LCByZXNwb25kZXIpIHsK");
    sb.append("ICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJu");
    sb.append("IHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiBy");
    sb.append("ZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2xpc3QiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlEZXN0cm95KGlk");
    sb.append("ZW50aXR5LCBhdXRob3JpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBp");
    sb.append("ZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhv");
    sb.append("ZCI6ImF1dGhvcml0eS9kZXN0cm95IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJh");
    sb.append("dXRob3JpdHkiOiBhdXRob3JpdHl9CiAgICB9KTsKICB9CiAgU3BhY2VDcmVhdGUoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCB0ZW1wbGF0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2UvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNw");
    sb.append("YWNlLCAidGVtcGxhdGUiOiB0ZW1wbGF0ZX0KICAgIH0pOwogIH0KICBTcGFjZUdlbmVyYXRlS2V5KGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2UvZ2VuZXJhdGUta2V5IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFj");
    sb.append("ZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlR2V0KGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiBy");
    sb.append("ZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvZ2V0IiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0");
    sb.append("KGlkZW50aXR5LCBzcGFjZSwgcGxhbiwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoic3BhY2Uvc2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFj");
    sb.append("ZSI6IHNwYWNlLCAicGxhbiI6IHBsYW59CiAgICB9KTsKICB9CiAgU3BhY2VSZWRlcGxveUtpY2soaWRl");
    sb.append("bnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBh");
    sb.append("cklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJz");
    sb.append("cGFjZS9yZWRlcGxveS1raWNrIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFj");
    sb.append("ZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0UnhodG1sKGlkZW50aXR5LCBzcGFjZSwgcnho");
    sb.append("dG1sLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQt");
    sb.append("cnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAi");
    sb.append("cnhodG1sIjogcnhodG1sfQogICAgfSk7CiAgfQogIFNwYWNlR2V0UnhodG1sKGlkZW50aXR5LCBzcGFj");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAg");
    sb.append("cmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvZ2V0LXJ4");
    sb.append("aHRtbCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAg");
    sb.append("IH0pOwogIH0KICBTcGFjZVNldFBvbGljeShpZGVudGl0eSwgc3BhY2UsIGFjY2Vzc1BvbGljeSwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uvc2V0LXBvbGljeSIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImFjY2Vzcy1w");
    sb.append("b2xpY3kiOiBhY2Nlc3NQb2xpY3l9CiAgICB9KTsKICB9CiAgU3BhY2VHZXRQb2xpY3koaWRlbnRpdHks");
    sb.append("IHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9n");
    sb.append("ZXQtcG9saWN5IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNl");
    sb.append("fQogICAgfSk7CiAgfQogIFNwYWNlTWV0cmljcyhpZGVudGl0eSwgc3BhY2UsIHByZWZpeCwgbWV0cmlj");
    sb.append("UXVlcnksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL21l");
    sb.append("dHJpY3MiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJw");
    sb.append("cmVmaXgiOiBwcmVmaXgsICJtZXRyaWMtcXVlcnkiOiBtZXRyaWNRdWVyeX0KICAgIH0pOwogIH0KICBT");
    sb.append("cGFjZURlbGV0ZShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlz");
    sb.append("OwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0");
    sb.append("OiB7Im1ldGhvZCI6InNwYWNlL2RlbGV0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5");
    sb.append("LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVNldFJvbGUoaWRlbnRpdHksIHNwYWNl");
    sb.append("LCBlbWFpbCwgcm9sZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2Uvc2V0LXJvbGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJlbWFpbCI6IGVtYWlsLCAicm9sZSI6IHJvbGV9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0");
    sb.append("RGV2ZWxvcGVycyhpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlz");
    sb.append("OwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3Ry");
    sb.append("ZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJzcGFjZS9saXN0LWRldmVsb3BlcnMiLCAiaWQiOnBhcklkLCAiaWRlbnRp");
    sb.append("dHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VSZWZsZWN0KGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwga2V5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJzcGFjZS9yZWZsZWN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFj");
    sb.append("ZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIFNwYWNlTGlzdChpZGVudGl0eSwgbWFy");
    sb.append("a2VyLCBsaW1pdCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("InNwYWNlL2xpc3QiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgIm1hcmtlciI6IG1h");
    sb.append("cmtlciwgImxpbWl0IjogbGltaXR9CiAgICB9KTsKICB9CiAgUHVzaFJlZ2lzdGVyKGlkZW50aXR5LCBk");
    sb.append("b21haW4sIHN1YnNjcmlwdGlvbiwgZGV2aWNlSW5mbywgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoicHVzaC9yZWdpc3RlciIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAic3Vic2NyaXB0aW9uIjogc3Vic2NyaXB0aW9uLCAiZGV2");
    sb.append("aWNlLWluZm8iOiBkZXZpY2VJbmZvfQogICAgfSk7CiAgfQogIERvbWFpbk1hcChpZGVudGl0eSwgZG9t");
    sb.append("YWluLCBzcGFjZSwgY2VydGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvbWFpbi9tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRv");
    sb.append("bWFpbiI6IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJjZXJ0aWZpY2F0ZSI6IGNlcnRpZmljYXRlfQog");
    sb.append("ICAgfSk7CiAgfQogIERvbWFpblJlZmxlY3QoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3JlZmxlY3QiLCAiaWQiOnBhcklkLCAi");
    sb.append("aWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0KICBEb21haW5N");
    sb.append("YXBEb2N1bWVudChpZGVudGl0eSwgZG9tYWluLCBzcGFjZSwga2V5LCByb3V0ZSwgY2VydGlmaWNhdGUs");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9tYXAtZG9j");
    sb.append("dW1lbnQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbiwg");
    sb.append("InNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJyb3V0ZSI6IHJvdXRlLCAiY2VydGlmaWNhdGUiOiBj");
    sb.append("ZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0KGlkZW50aXR5LCByZXNwb25kZXIpIHsK");
    sb.append("ICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJu");
    sb.append("IHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiBy");
    sb.append("ZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2xpc3QiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0QnlTcGFjZShpZGVu");
    sb.append("dGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJkb21haW4vbGlzdC1ieS1zcGFjZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("c3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBEb21haW5HZXRWYXBpZFB1YmxpY0tleShpZGVudGl0");
    sb.append("eSwgZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21h");
    sb.append("aW4vZ2V0LXZhcGlkLXB1YmxpYy1rZXkiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("ImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0KICBEb21haW5Vbm1hcChpZGVudGl0eSwgZG9tYWlu");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vdW5tYXAi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0p");
    sb.append("OwogIH0KICBEb21haW5HZXQoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplKHNw");
    sb.append("YWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJZCwgInNwYWNlIjogc3Bh");
    sb.append("Y2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0K");
    sb.append("ICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4sIHVzZXJuYW1lLCBwYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQv");
    sb.append("YXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6");
    sb.append("IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhv");
    sb.append("cml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNzd29yZCwg");
    sb.append("cmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9y");
    sb.append("aXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInVz");
    sb.append("ZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3");
    sb.append("X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJlc2V0KGRv");
    sb.append("bWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFy");
    sb.append("IHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5f");
    sb.append("X2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAog");
    sb.append("ICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4td2l0aC1yZXNl");
    sb.append("dCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFz");
    sb.append("c3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0pOwogIH0K");
    sb.append("ICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9weSwgYXJnLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9jcmVhdGUiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJl");
    sb.append("bnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBEb2N1bWVudERlbGV0ZShp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJz");
    sb.append("cGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3VtZW50TGlzdChpZGVudGl0");
    sb.append("eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFt");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1pdH0KICAgIH0p");
    sb.append("OwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtleSwgY2hhbm5lbCwgbWVz");
    sb.append("c2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVzc2FnZS9k");
    sb.append("aXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFj");
    sb.append("ZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9");
    sb.append("KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFjZSwga2V5LCBkZWR1cGUs");
    sb.append("IGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBp");
    sb.append("ZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhv");
    sb.append("ZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRlZHVwZSwgImNoYW5uZWwi");
    sb.append("OiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgQ29ubmVjdGlvbkNyZWF0");
    sb.append("ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQsICJp");
    sb.append("ZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInZpZXdlci1zdGF0");
    sb.append("ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3Vi");
    sb.append("UmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5f");
    sb.append("X2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJS");
    sb.append("ZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlk");
    sb.append("OiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjog");
    sb.append("bWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJu");
    sb.append("YW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3Vi");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDog");
    sb.append("c3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6");
    sb.append("IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBh");
    sb.append("cklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dv");
    sb.append("cmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5j");
    sb.append("dGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBz");
    sb.append("dWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlk");
    sb.append("OiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVz");
    sb.append("dDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24i");
    sb.append("OnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVz");
    sb.append("c2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNw");
    sb.append("b25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3Bv");
    sb.append("bmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwg");
    sb.append("aWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0");
    sb.append("dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RN");
    sb.append("ZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAg");
    sb.append("ICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDog");
    sb.append("ImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1p");
    sb.append("ZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29udGVudFR5");
    sb.append("cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0Ijog");
    sb.append("ZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZp");
    sb.append("ZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICBy");
    sb.append("ZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVj");
    sb.append("dGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6");
    sb.append("IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJl");
    sb.append("c3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVz");
    sb.append("cG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBz");
    sb.append("dWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9CiAg");
    sb.append("Q29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2aWV3ZXJTdGF0ZSwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5lY3Rpb24vY3Jl");
    sb.append("YXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6");
    sb.append("IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24o");
    sb.append("Y2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAg");
    sb.append("ICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDog");
    sb.append("ImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6");
    sb.append("IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFz");
    sb.append("c3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25k");
    sb.append("ZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRl");
    sb.append("ciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBz");
    sb.append("dWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjog");
    sb.append("cGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0s");
    sb.append("CiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3Bv");
    sb.append("bmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9u");
    sb.append("ZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlk");
    sb.append("OiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBk");
    sb.append("ZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0");
    sb.append("YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAg");
    sb.append("ICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29u");
    sb.append("bmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAg");
    sb.append("fSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRl");
    sb.append("bnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAg");
    sb.append("ICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAg");
    sb.append("ICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVj");
    sb.append("dGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29u");
    sb.append("dGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RN");
    sb.append("ZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAg");
    sb.append("ICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIg");
    sb.append("c3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBp");
    sb.append("ZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVl");
    sb.append("c3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpw");
    sb.append("YXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAg");
    sb.append("ICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJj");
    sb.append("b25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwog");
    sb.append("ICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3JkLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudHMvaGFzaC1wYXNzd29y");
    sb.append("ZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIEJpbGxpbmdD");
    sb.append("b25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVh");
    sb.append("bSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVu");
    sb.append("dGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3Vi");
    sb.append("UmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5f");
    sb.append("X2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJS");
    sb.append("ZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlk");
    sb.append("OiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjog");
    sb.append("bWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJu");
    sb.append("YW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3Vi");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDog");
    sb.append("c3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6");
    sb.append("IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBh");
    sb.append("cklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dv");
    sb.append("cmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5j");
    sb.append("dGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBz");
    sb.append("dWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlk");
    sb.append("OiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVz");
    sb.append("dDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24i");
    sb.append("OnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVz");
    sb.append("c2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNw");
    sb.append("b25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3Bv");
    sb.append("bmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwg");
    sb.append("aWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0");
    sb.append("dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RN");
    sb.append("ZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAg");
    sb.append("ICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDog");
    sb.append("ImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1p");
    sb.append("ZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29udGVudFR5");
    sb.append("cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0Ijog");
    sb.append("ZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZp");
    sb.append("ZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICBy");
    sb.append("ZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVj");
    sb.append("dGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6");
    sb.append("IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJl");
    sb.append("c3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVz");
    sb.append("cG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBz");
    sb.append("dWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9CiAg");
    sb.append("Q29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIsICJpZCI6cGFySWR9CiAg");
    sb.append("ICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBmaWxlbmFtZSwg");
    sb.append("Y29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFj");
    sb.append("ZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6");
    sb.append("IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0Qnl0ZXMs");
    sb.append("IHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50L2FwcGVu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwgImJhc2U2");
    sb.append("NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5pc2g6IGZ1");
    sb.append("bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50");
    sb.append("L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0KICAg");
    sb.append("IH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBmaWxlbmFt");
    sb.append("ZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlw");
    sb.append("ZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0Qnl0");
    sb.append("ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAg");
    sb.append("IHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRl");
    sb.append("cjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50L2Fw");
    sb.append("cGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwgImJh");
    sb.append("c2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5pc2g6");
    sb.append("IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2ht");
    sb.append("ZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0K");
    sb.append("ICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFtYSA9IHsKICBQcm9kdWN0");
    sb.append("aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIEJldGE6ICJiZXRhLmFkYW1h");
    sb.append("LXBsYXRmb3JtLmNvbSIsCiAgQ29ubmVjdGlvbjogV2ViU29ja2V0QWRhbWFDb25uZWN0aW9uCn07Cg==");
    return sb.toString();
  }
  public static final String WORKER = new String(Base64.getDecoder().decode(make_worker()), StandardCharsets.UTF_8);
  private static String make_worker() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyogQWRhbWEgd29ya2VyOiBoYW5kbGUgc2ltcGxlIHB1c2ggbm90aWZpY2F0aW9ucyAqLwpzZWxmLmFk");
    sb.append("ZEV2ZW50TGlzdGVuZXIoJ3B1c2gnLCBmdW5jdGlvbihldmVudCkgewogIGlmIChldmVudC5kYXRhKSB7");
    sb.append("CiAgICB2YXIganNvbiA9IGV2ZW50LmRhdGEuanNvbigpOwogICAgaWYgKGpzb24pIHsKICAgICAgdmFy");
    sb.append("IG9wdGlvbnMgPSB7CiAgICAgICAgYm9keToganNvbi5ib2R5ID8ganNvbi5ib2R5IDogIkdlbmVyaWMg");
    sb.append("UHVzaCBCb2R5IiwKICAgICAgfTsKICAgICAgaWYgKGpzb24uaWNvbikgewogICAgICAgIG9wdGlvbnMu");
    sb.append("aWNvbiA9IGpzb24uaWNvbjsKICAgICAgfQogICAgICBldmVudC53YWl0VW50aWwoc2VsZi5yZWdpc3Ry");
    sb.append("YXRpb24uc2hvd05vdGlmaWNhdGlvbihqc29uLnRpdGxlID8ganNvbi50aXRsZSA6ICJHZW5lcmljIFB1");
    sb.append("c2ggVGl0bGUiLCBvcHRpb25zKSk7CiAgICB9CiAgfQp9KTs=");
    return sb.toString();
  }
}
