/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cywgb3B0aW1hbCkgewogICAgaWYgKG9wdGltYWwgJiYg");
    sb.append("cy5sZW5ndGggPT0gMCkgewogICAgICAvLyBubyB2YWx1ZSBpbiBtZXJnaW5nIGFnYWluc3QgYSBmYXV4");
    sb.append("IHRyZWUgd2l0aG91dCBzdWJzY3JpcHRpb25zCiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAodmFy");
    sb.append("IGtleSBpbiBkZWx0YSkgeyAvLyBmb3IgZWFjaCBiaXQgb2YgZGF0YSB3aXRoaW4gdGhlIHRyZWUKICAg");
    sb.append("ICAgdmFyIGVLZXkgPSAiIyIgKyBrZXk7IC8vIGNvbXB1dGUgdGhlIHNlY3JldCBkYXRhIHBhdGgKICAg");
    sb.append("ICAgdmFyIHByaW9yID0gdHJlZVtrZXldOyAvLyBmaW5kIHRoZSBwcmlvciBzdGF0ZSB3aXRoaW4gdGhl");
    sb.append("IHRyZWUKICAgICAgdmFyIG5leHQgPSBkZWx0YVtrZXldOyAvLyBicmluZyB0aGUgY2hhbmdlIHByZXNl");
    sb.append("bnQgZm9yIHRoZSBjdXJyZW50IGtleQogICAgICBpZiAobmV4dCA9PSBudWxsKSB7IC8vIHRoZSBpdGVt");
    sb.append("IGlzIGdvaW5nIHBvb2YKICAgICAgICAvLyB0aGUgcHJpb3IgdmFsdWUgaXMgYW4gYXJyYXksIHNvIHdl");
    sb.append("IG1heSBoYXZlIHNvbWUgc3BlY2lhbCB0aGluZ3MgYXNzb2NpYXRlIHdpdGggaXQKICAgICAgICBpZiAo");
    sb.append("QXJyYXkuaXNBcnJheShwcmlvcikpIHsgLy8gVU5URVNUCiAgICAgICAgICBpZiAoZUtleSBpbiB0cmVl");
    sb.append("KSB7CiAgICAgICAgICAgIGRlbChzdWIocywgZUtleSkpOwogICAgICAgICAgfQogICAgICAgICAgZGVs");
    sb.append("ZXRlIHRyZWVbZUtleV07CiAgICAgICAgfQogICAgICAgIGRlbChzdWIocywga2V5KSk7IC8vIGlzc3Vl");
    sb.append("IGEgZGVsZXRlIGZvciBhbGwgdGhlIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBraWQKICAgICAgICBkZWxl");
    sb.append("dGUgdHJlZVtrZXldOyAvLyBkZWxldGUgdGhlIGRhdGEgaW4gdGhlIHRyZWUKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBpZiAodHlwZW9mIChuZXh0KSA9PSAib2JqZWN0IiAmJiAhQXJyYXkuaXNBcnJheShuZXh0");
    sb.append("KSkgeyAvLyBpZiB0aGUgZGVsdGEgaXMgYW4gb2JqZWN0CiAgICAgICAgICB2YXIgYXJyID0gQXJyYXku");
    sb.append("aXNBcnJheShwcmlvcikgfHwgIkBvIiBpbiBuZXh0IHx8ICJAcyIgaW4gbmV4dDsgLy8gZGV0ZWN0IGlm");
    sb.append("IHdlIG5lZWQgdG8gdXNlIGFycmF5IGxvZ2ljCiAgICAgICAgICBpZiAoYXJyKSB7IC8vIHdlIGhhdmUg");
    sb.append("ZGV0ZWN0ZWQgYW4gYXJyYXkKICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRyZWUpKSB7IC8vIGxldCdz");
    sb.append("IG1ha2Ugc3VyZSB0aGUgdHJlZSBoYXMgYW4gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICB0cmVlW2tl");
    sb.append("eV0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShlS2V5IGluIHRyZWUpKSB7IC8v");
    sb.append("IGxldCdzIG1ha2Ugc3VyZSB0aGUgc2VjcmV0IGRhdGEgZXhpc3RzIGFzIHdlbGwKICAgICAgICAgICAg");
    sb.append("ICB0cmVlW2VLZXldID0ge307CiAgICAgICAgICAgICAgaWYgKCJAbyIgaW4gbmV4dCkgeyAvLyBpZiB3");
    sb.append("ZSBoYXZlIGEgYnVuY2ggb2Yga2V5cywgdGhlbiBsZXQncyBtYWtlIHN1cmUgdG8gcHJlc2VydmUgdGhh");
    sb.append("dCBmb3IgbWFrZV9kZWx0YQogICAgICAgICAgICAgICAgdHJlZVtlS2V5XVsiQG8iXSA9IHRydWU7CiAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyZWVbZUtleV0uX19rZXkgPSBrZXk7IC8vIGFubm90");
    sb.append("YXRlIHRoZSBuZXcgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkKICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("ICB2YXIgZUJhc2UgPSB0cmVlW2VLZXldOyAvLyBnZXQgdGhlIHNlY3JldCAoYW5kIHJlYWwpIGRhdGEg");
    sb.append("Zm9yIHRoZSBvYmplY3QgaW4gcXVlc3Rpb24KICAgICAgICAgICAgdmFyIGVTdWIgPSBzdWIocywga2V5");
    sb.append("KTsgLy8gc2NvcGUgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUga2V5CiAgICAgICAgICAgIHZhciBvcmRl");
    sb.append("cmluZyA9IG51bGw7IC8vIGRldGVjdGlvbiBvZiBpZiB3ZSBoYXZlIEBvIG9yZGVyaW5nIHRvIHJlb3Jk");
    sb.append("ZXIgdGhlIHZhbHVlcwogICAgICAgICAgICB2YXIgcmVzaXplID0gbnVsbDsgLy8gZGV0ZWN0aW9uIG9m");
    sb.append("IGFuIGFycmF5IHdpdGhvdXQgX19rZXkKICAgICAgICAgICAgdmFyIGRlbGF5ID0ge307IC8vIHdlIGRl");
    sb.append("bGF5IGFsbCBldmVudHMgc3VjaCB0aGF0IHRoZSBhcnJheSBjYW4gYmUgYnVpbHQgZm9yIGlubGluZSBt");
    sb.append("YWtlX2RlbHRhIGNhbGxzIHRvIHdvcmsKICAgICAgICAgICAgZm9yICh2YXIgYUtleSBpbiBuZXh0KSB7");
    sb.append("IC8vIGZvciBlYWNoIGZpZWxkIHdpdGhpbiB0aGUgZGlmZmVyZW5jZQogICAgICAgICAgICAgIHZhciB2");
    sb.append("YWwgPSBuZXh0W2FLZXldOwogICAgICAgICAgICAgIGlmIChhS2V5ID09ICJAbyIpIHsgLy8gdGhlIHZh");
    sb.append("bHVlIGlzIGEgbmV3IG9yZGVyaW5nIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgb3JkZXJpbmcg");
    sb.append("PSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhS2V5ID09ICJAcyIpIHsgLy8gdGhlIHZhbHVl");
    sb.append("IGlzIGEgcmVzaXplIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgcmVzaXplID0gdmFsOwogICAg");
    sb.append("ICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IG51bGwpIHsgLy8gZGVsZXRlIHRoZSBlbGVtZW50CiAg");
    sb.append("ICAgICAgICAgICAgICBpZiAoYUtleSBpbiBlQmFzZSkgeyAvLyBpZiBpdCBleGlzdHMgd2l0aGluIHRo");
    sb.append("ZSBzZWNyZXQga2V5CiAgICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsK");
    sb.append("ICAgICAgICAgICAgICAgICAgICBkZWwoc3ViKGVTdWIsIHgpKTsgLy8gaXNzdWUgZGVsZXRlcwogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGV0ZSBlQmFzZVt4XTsgLy8gZGVsZXRlIHRoZSB2YWx1ZQogICAgICAg");
    sb.append("ICAgICAgICAgICAgIGRlbF9rZXkoZVN1YiwgeCk7IC8vIGRlbGV0ZSB0aGUga2V5cyBmcm9tIHRoZSBv");
    sb.append("YmplY3QKICAgICAgICAgICAgICAgICAgICBmaXJlX2RlbChlU3ViLCB4KTsKICAgICAgICAgICAgICAg");
    sb.append("ICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB3ZSBoYXZlIGRh");
    sb.append("dGEKICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZSBkYXRhIGRpZG4n");
    sb.append("dCBleGlzdCwgc28gZmlyZSBhbiBhZGRpdGlvbiB0byBleHRlbmQgdGhlIHN1YnNjcmlwdGlvbnMKICAg");
    sb.append("ICAgICAgICAgICAgICAgZmlyZV9hZGQoZVN1YiwgYUtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgICB2YXIgblZhbCA9IG5leHRbYUtleV07IC8vIGdldCB0aGUgbmV3IHZhbHVlCiAgICAg");
    sb.append("ICAgICAgICAgICBpZiAodHlwZW9mIChuVmFsKSA9PSAib2JqZWN0IikgeyAvLyBpZiB0aGUgbmV3IHZh");
    sb.append("bHVlIGlzIGFuIG9iamVjdAogICAgICAgICAgICAgICAgICBpZiAoIShhS2V5IGluIGVCYXNlKSkgeyAv");
    sb.append("LyB0aGVuIG1ha2Ugc3VyZSB0aGUgbmV3IGl0ZW0gaXMgd2l0aGluIHRoZSBzZWNyZXQgdHJlZQogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGVCYXNlW2FLZXldID0ge307CiAgICAgICAgICAgICAgICAgICAgZUJhc2Vb");
    sb.append("YUtleV0uX19rZXkgPSBhS2V5OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGRl");
    sb.append("bGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICBtZXJnZShlQmFzZVt4");
    sb.append("XSwgbmV4dFt4XSwgc3ViKGVTdWIsIHgpLCBldmVudHMsIG9wdGltYWwpOyAvLyByZWN1cnNlOiBtZXJn");
    sb.append("ZSB0aGUgZGlmZmVyZW5jZSBpbnRvIHRoZSBzZWNyZXQgdHJlZSBhbmQgcHVibGlzaCB0byBhbGwgZWxl");
    sb.append("bWVudCBzdWJzY3JpcHRpb25zCiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVC");
    sb.append("YXNlW3hdLCBldmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IHsgLy8gb3RoZXJ3aXNlLCBzZXQgdGhlIHZhbHVlIGludG8gdGhlIHRyZWUKICAgICAgICAgICAgICAg");
    sb.append("ICAgZUJhc2VbYUtleV0gPSBuVmFsOwogICAgICAgICAgICAgICAgICBkZWxheVthS2V5XSA9IGZ1bmN0");
    sb.append("aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVCYXNlW3hdLCBl");
    sb.append("dmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg");
    sb.append("ICAgLy8gYW5kIHRlbGwgZXZlcnlvbmUgdGhlIG5ldyB2YWx1ZSBmb3IgdGhpcwogICAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYmVmb3JlID0gdHJlZVtrZXldOyAvLyBzdGFz");
    sb.append("aCBhIHBvaW50ZXIgdG8gdGhlIGFycmF5CiAgICAgICAgICAgIHZhciBkZWxheU9yZGVyID0gW107Cgog");
    sb.append("ICAgICAgICAgICBpZiAob3JkZXJpbmcgIT0gbnVsbCkgeyAvLyBhbiBvcmRlcmluZyBjaGFuZ2UgaXMg");
    sb.append("aGFwcGVuaW5nCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107IC8vIHdlIHdpbGwgcmVidWlsZCB0");
    sb.append("aGUgYXJyYXkgaGVyZQogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsgLy8gYW5kIHJlY29yZCB0aGUg");
    sb.append("a2V5cyBoZXJlCiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmRlcmluZy5sZW5ndGg7");
    sb.append("IGsrKykgeyAvLyBmb3IgZWFjaCBvcmRlcmluZyBpbnN0cnVjdGlvbgogICAgICAgICAgICAgICAgdmFy");
    sb.append("IGluc3RyID0gb3JkZXJpbmdba107CiAgICAgICAgICAgICAgICB2YXIgdHlwZV9pbnN0ciA9IHR5cGVv");
    sb.append("ZiAoaW5zdHIpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVfaW5zdHIgPT0gInN0cmluZyIgfHwgdHlw");
    sb.append("ZV9pbnN0ciA9PSAibnVtYmVyIikgeyAvLyBpZiB0aGUgaW5zdHJ1Y3Rpb24gcmVmZXJzIHRvIGFuIGl0");
    sb.append("ZW0KICAgICAgICAgICAgICAgICAgYWZ0ZXIucHVzaChlQmFzZVtpbnN0cl0pOyAvLyBwdXNoIHRoZSBp");
    sb.append("dGVtIGludG8gdGhlIG5ldyBhcnJheQogICAgICAgICAgICAgICAgICBtc2cucHVzaCgiIiArIGluc3Ry");
    sb.append("KTsgLy8gcmVjb3JkIHRoZSBrZXkgb2YgdGhlIGl0ZW0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZSwgdGhlIGluc3RydWN0aW9uIGlzIGEgcmFuZ2UKICAgICAgICAgICAgICAgICAgdmFy");
    sb.append("IHN0YXJ0ID0gaW5zdHJbMF07CiAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBpbnN0clsxXTsKICAg");
    sb.append("ICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDw9IGVuZDsgaisrKSB7IC8vIGl0ZXJh");
    sb.append("dGUgb3ZlciB0aGUgcmFuZ2UgYW5kIGNvcHkKICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlW2pd");
    sb.append("KSB7CiAgICAgICAgICAgICAgICAgICAgICBhZnRlci5wdXNoKGJlZm9yZVtqXSk7IC8vIHRoZSBpdGVt");
    sb.append("cyBmcm9tIHRoZSBwcmV2aW91cyBjb3B5CiAgICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZv");
    sb.append("cmVbal0uX19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgZGVsYXlPcmRlci5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZpcmUo");
    sb.append("c3ViKGVTdWIsICJ+IiksIG1zZywgZXZlbnRzKTsgLy8gdGVsbCBzdWJzY3JpcHRpb25zIGFib3V0IHRo");
    sb.append("ZSBuZXcgb3JkZXJpbmcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSBh");
    sb.append("ZnRlcjsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgIT0gbnVsbCkgeyAvLyBhbHRlcm5hdGl2");
    sb.append("ZWx5LCBhbiBhcnJheSB3aXRob3V0IGtleXMgaXMgYmVpbmcgcmVzaXplZAogICAgICAgICAgICAgIHZh");
    sb.append("ciBhZnRlciA9IFtdOwogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsKICAgICAgICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IHJlc2l6ZTsgaysrKSB7IC8vIHdlIHJlYnVpbGQgdGhlIGFycmF5CiAgICAg");
    sb.append("ICAgICAgICAgICBhZnRlcltrXSA9IGVCYXNlWyIiICsga107CiAgICAgICAgICAgICAgICBtc2cucHVz");
    sb.append("aCgiIiArIGspOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIGZvciAoYUtleSBpbiBkZWxheSkgewogICAgICAgICAgICAgIGRlbGF5W2FLZXldKGFLZXkpOwog");
    sb.append("ICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVsYXlPcmRlci5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICAgICAgICAgIGRlbGF5T3JkZXJba10oKTsKICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICBmaXJlKGVTdWIsIHRyZWVba2V5XSwgZXZlbnRzKTsgLy8gdGVsbCBldmVyeW9uZSBhYm91");
    sb.append("dCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIShrZXkgaW4g");
    sb.append("dHJlZSkgfHwgdHlwZW9mICh0cmVlW2tleV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgdHJl");
    sb.append("ZVtrZXldID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGUgPSBzdWIocywga2V5KTsK");
    sb.append("ICAgICAgICAgICAgbWVyZ2UodHJlZVtrZXldLCBuZXh0LCBlLCBldmVudHMsIG9wdGltYWwpOwogICAg");
    sb.append("ICAgICAgICBmaXJlKGUsIHRyZWVba2V5XSwgZXZlbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVs");
    sb.append("c2UgeyAvLyBub3QgYW4gb2JqZWN0LCBzbyBpdCBpcyBhIHZhbHVlCiAgICAgICAgICB0cmVlW2tleV0g");
    sb.append("PSBuZXh0OyAvLyBzdGFzaCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICBmaXJlKHN1YihzLCBrZXkpLCBu");
    sb.append("ZXh0LCBldmVudHMpOyAvLyBhbmQgdGVsbCBldmVyeW9uZSBhYm91dCBpdAogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogICAgZmlyZShzLCB0cmVlLCBldmVudHMpOwogIH07CgogIHZhciBmaXJlX2V2ZW50cyA9");
    sb.append("IGZ1bmN0aW9uIChldmVudHMpIHsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZlbnRzLmxlbmd0aDsg");
    sb.append("aysrKSB7CiAgICAgIGV2ZW50c1trXSgpOwogICAgfQogIH07CgogIHRoaXMudXBkYXRlX2luX3Byb2dy");
    sb.append("ZXNzID0gZmFsc2U7CiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgIHRoaXMudXBk");
    sb.append("YXRlX2luX3Byb2dyZXNzID0gdHJ1ZTsKICAgIHZhciBhcnIgPSBbXTsgLy8gY29udmVydCB0aGUgc3Vi");
    sb.append("c2NyaXB0aW9ucyBpbnRvIGFuIGFycmF5CiAgICBmb3IgKHZhciBrIGluIGFsbF9zdWJzY3JpcHRpb25z");
    sb.append("KSB7CiAgICAgIGFyci5wdXNoKGFsbF9zdWJzY3JpcHRpb25zW2tdKTsKICAgIH0KICAgIHZhciBldmVu");
    sb.append("dHMgPSBbXTsKICAgIG1lcmdlKHJvb3QsIGRlbHRhLCBhcnIsIGV2ZW50cywgZmFsc2UpOyAvLyBleGVj");
    sb.append("dXRlIHRoZSBtZXJnZSBhbmQgZmlyZSBldmVudHMKICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB3");
    sb.append("aGlsZSAodGhpcy5zdWJzY3JpYmVfZGVsYXkubGVuZ3RoID4gMCkgewogICAgICB2YXIgY29weSA9IHRo");
    sb.append("aXMuc3Vic2NyaWJlX2RlbGF5OwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwogICAgICB2");
    sb.append("YXIgZmxhdCA9IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvcHkubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICBpZiAoIWNvcHlba10uYWJvcnRlZCkgewogICAgICAgICAgZmxhdC5wdXNoKGNvcHlba10u");
    sb.append("c3ViKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZXZlbnRzID0gW107CiAgICAgIG1lcmdlKHt9LCBt");
    sb.append("YWtlX29wdGltYWxfZGVsdGEocm9vdCwgZmxhdCksIGZsYXQsIGV2ZW50cywgdHJ1ZSk7IC8vIGV4ZWN1");
    sb.append("dGUgdGhlIG1lcmdlIGFuZCBmaXJlIGV2ZW50cwogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAg");
    sb.append("fQogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB9OwoKICAvLyBmaXggdGhlIGNh");
    sb.append("bGxiYWNrIHN0cnVjdHVyZSBmcm9tIHRoZSB1c2VyJ3MgaGFwcHkgbGFuZCB0byB0aGUgcmlnb3Igb2Yg");
    sb.append("dGhlIGZvcm1hdCBuZWVkZWQKICB2YXIgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViID0gZnVuY3Rp");
    sb.append("b24gKGNhbGxiYWNrLCBzdWIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrKSkgeyAvLyBp");
    sb.append("ZiB0aGUgY2FsbGJhY2sgaXMgYW4gYXJyYXksIHRoZW4gZmxhdHRlbiB0aGUgYXJyYXkgaW50byB0aGUg");
    sb.append("bmV3IG9iamVjdAogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNrW2tdLCBzdWIpOwogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09ICJvYmplY3QiKSB7IC8vIG9oLCB0");
    sb.append("aGUgY2FsbGJhY2sgaXMgYW4gb2JqZWN0CiAgICAgIGZvciAodmFyIGtleSBpbiBjYWxsYmFjaykgeyAv");
    sb.append("LyBpdGVyYXRlIG92ZXIgZWFjaCBrZXkKICAgICAgICBpZiAoa2V5ID09ICJAZSIpIHsgLy8gZm9yY2Ug");
    sb.append("dGhlIGZ1bmN0aW9ucyB0byBtZXJnZSB0b2dldGhlcgogICAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNr");
    sb.append("X2ludG9fc3ViKGNhbGxiYWNrW2tleV0sIHN1Yik7CiAgICAgICAgfSBlbHNlIHsgLy8gbm9ybWFsIGZs");
    sb.append("b3cKICAgICAgICAgIGlmICghKGtleSBpbiBzdWIpKSB7IC8vIGRpdmUgaW50byB0aGUgb2JqZWN0IGFu");
    sb.append("ZCBtYWtlIHN1cmUgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGZpZWxkCiAgICAgICAgICAgIHN1Yltr");
    sb.append("ZXldID0ge307CiAgICAgICAgICB9CiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIo");
    sb.append("Y2FsbGJhY2tba2V5XSwgc3ViW2tleV0pOyAvLyByZWN1cnNlIGFuZCBwYWlyIHRoZSBldmVudHMgdG8g");
    sb.append("dGhlIG5ldyBzdWJzY3JpcHRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9m");
    sb.append("IChjYWxsYmFjaykgPT0gImZ1bmN0aW9uIikgeyAvLyBpdCdzIGEgZnVuY3Rpb24KICAgICAgaWYgKCEo");
    sb.append("IkBlIiBpbiBzdWIpKSB7IC8vIGxldCdzIGVuc3VyZSB0aGVyZSBpcyBhbiBldmVudCBsaXN0CiAgICAg");
    sb.append("ICAgc3ViWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCBqdXN0");
    sb.append("IGFkZCBpdAogICAgICAgIHN1YlsiQGUiXS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfQogIH07");
    sb.append("CgogIC8vIGNvbnZlcnQgdGhlIHRyZWUgdG8gYSBkZWx0YTsgdGhpcyB0cmVlIGlzIGFzc3VtZWQgdG8g");
    sb.append("aGF2ZSBiZWVuIG1lcmdlZCBhbHJlYWR5CiAgdmFyIG1ha2VfZGVsdGEgPSBmdW5jdGlvbiAoc3QpIHsK");
    sb.append("ICAgIHZhciBkZWx0YSA9IHt9OyAvLyB0aGUgZGVsdGEgdG8gY29uc3RydWN0CiAgICBmb3IgKHZhciBr");
    sb.append("IGluIHN0KSB7IC8vIGZvciBlYWNoIGtleSB3aXRoaW4gdGhlIG9iamVjdAogICAgICBpZiAoa1swXSA9");
    sb.append("PSAiIyIgfHwgayA9PSAiQG8iIHx8IGsgPT0gIl9fa2V5IikgY29udGludWU7IC8vIHNraXAgdGhlc2UK");
    sb.append("ICAgICAgdmFyIHYgPSBzdFtrXTsKICAgICAgaWYgKCgiIyIgKyBrKSBpbiBzdCkgeyAvLyB0aGUgcmVz");
    sb.append("dWx0IGlzIGFuIGFycmF5CiAgICAgICAgdmFyIHB2ID0gc3RbJyMnICsga107CiAgICAgICAgdmFyIGQg");
    sb.append("PSB7fTsKICAgICAgICBpZiAoIkBvIiBpbiBwdikgeyAvLyBhbmQgd2UgaGF2ZSBhIHNwZWNpZmljIG9y");
    sb.append("ZGVyaW5nIHRvIG1lbW9pemUKICAgICAgICAgIHZhciBvID0gW107CiAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsgLy8gY29weSB0aGUgZWxlbWVudHMgZnJvbSB0aGUgYXJy");
    sb.append("YXkKICAgICAgICAgICAgdmFyIHZqID0gdltqXTsKICAgICAgICAgICAgaWYgKHZqKSB7CiAgICAgICAg");
    sb.append("ICAgICAgZFt2ai5fX2tleV0gPSBtYWtlX2RlbHRhKHZqKTsgLy8gdXNpbmcgdGhlIF9fa2V5IGVtYmVk");
    sb.append("ZGVkIGluIHRoZSBvYmplY3QKICAgICAgICAgICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRbIkBvIl0gPSBvOwogICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZTsgcmVjb3JkIHRoZSBzaXplIGFzIHdlIHJlY3Vyc2UKICAgICAgICAgIGZvciAodmFy");
    sb.append("IGogPSAwOyBqIDwgdi5sZW5ndGg7IGorKykgewogICAgICAgICAgICBkWyIiICsgal0gPSBtYWtlX2Rl");
    sb.append("bHRhKHB2W2pdKTsKICAgICAgICAgIH0KICAgICAgICAgIGRbIkBzIl0gPSB2Lmxlbmd0aDsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgZGVsdGFba10gPSBkOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiAodikgPT0gIm9i");
    sb.append("amVjdCIpIHsgLy8gaXQncyBqdXN0IGFuIG9iamVjdCwgc28gcmVjdXJzZSBkaXJlY3RseQogICAgICAg");
    sb.append("IGlmIChBcnJheS5pc0FycmF5KHYpKSB7CiAgICAgICAgICB2YXIgZCA9IHt9OwogICAgICAgICAgZm9y");
    sb.append("ICh2YXIgaiA9IDA7IGogPCB2Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGRbIiIgKyBqXSA9IG1h");
    sb.append("a2VfZGVsdGEodltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJdID0gdi5sZW5ndGg7CiAg");
    sb.append("ICAgICAgICBkZWx0YVtrXSA9IGQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbHRhW2tdID0g");
    sb.append("bWFrZV9kZWx0YSh2KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7IC8vIGZpbmFsbHksIGl0IGlzIGEg");
    sb.append("dmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9IHY7CiAgICAgIH0KICAgIH0KICAg");
    sb.append("IHJldHVybiBkZWx0YTsKICB9OwogIHRoaXMuTWFrZURlbHRhID0gbWFrZV9kZWx0YTsKCiAgdmFyIG1h");
    sb.append("a2Vfb3B0aW1hbF9kZWx0YSA9IGZ1bmN0aW9uKHN0LCBzdWJzKSB7CiAgICB2YXIgZmlsdGVyID0ge307");
    sb.append("CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHN1YnMubGVuZ3RoOyBrKyspIHsKICAgICAgdmFyIHMgPSBz");
    sb.append("dWJzW2tdOwogICAgICBpZiAodHlwZW9mKHMpID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAvLyBmYWxs");
    sb.append("YmFjayB3aGVuIHRoZSBoaWdoIGxldmVsIGlzIGEgZnVuY3Rpb24gKHdlIG5lZWQgaXQgYWxsISkKICAg");
    sb.append("ICAgICByZXR1cm4gbWFrZV9kZWx0YShzdCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHMpID09ICJv");
    sb.append("YmplY3QiKSB7CiAgICAgICAgZm9yICh2YXIgaiBpbiBzKSB7CiAgICAgICAgICBmaWx0ZXJbal0gPSB0");
    sb.append("cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgdmFyIG5ld19zdCA9IHt9OyAvLyB0aGUgZGVs");
    sb.append("dGEgdG8gY29uc3RydWN0CiAgICBmb3IgKHZhciBrIGluIHN0KSB7IC8vIGZvciBlYWNoIGtleSB3aXRo");
    sb.append("aW4gdGhlIG9iamVjdAogICAgICBpZiAoa1swXSA9PSAiIyIgfHwgayA9PSAiQG8iIHx8IGsgPT0gIl9f");
    sb.append("a2V5IikgY29udGludWU7IC8vIHNraXAgdGhlc2UKICAgICAgaWYgKGsgaW4gZmlsdGVyKSB7CiAgICAg");
    sb.append("ICAgbmV3X3N0W2tdID0gc3Rba107CiAgICAgICAgaWYgKCgiIyIgKyBrKSBpbiBzdCkgewogICAgICAg");
    sb.append("ICAgbmV3X3N0WyIjIiArIGtdID0gc3RbIiMiICsga107CiAgICAgICAgfQogICAgICB9CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gbWFrZV9kZWx0YShuZXdfc3QpOwogIH07CgogIHRoaXMuc3Vic2NyaWJlX2RlbGF5ID0g");
    sb.append("W107CgogIC8vIGBzdWJzY3JpYmVgIHRoZSBnaXZlbiBzdHJ1Y3R1cmFsIGNhbGxiYWNrCiAgdGhpcy5z");
    sb.append("dWJzY3JpYmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgIHZhciBzdWIgPSB7fTsKICAgIHRyYW5z");
    sb.append("Zm9ybV9jYWxsYmFja19pbnRvX3N1YihjYWxsYmFjaywgc3ViKTsgIC8vIHRyYW5zZm9ybSB0aGUgY2Fs");
    sb.append("bGJhY2sgaW50byBhIHNhZmUgY2FsbGJhY2sKICAgIHZhciBTID0gIiIgKyBpZCsrOyAvLyBjcmVhdGUg");
    sb.append("YW4gaWQgZm9yIHRoZSBzdWJzY3JpcHRpb24KICAgIGFsbF9zdWJzY3JpcHRpb25zW1NdID0gc3ViOyAv");
    sb.append("LyByZWNvcmQgdGhlIHN1YnNjcmlwdGlvbgogICAgaWYgKHRoaXMudXBkYXRlX2luX3Byb2dyZXNzKSB7");
    sb.append("CiAgICAgIHZhciBzbSA9IHt9OwogICAgICBzbS5zdWIgPSBzdWI7CiAgICAgIHNtLmFib3J0ZWQgPSBm");
    sb.append("YWxzZTsKICAgICAgdGhpcy5zdWJzY3JpYmVfZGVsYXkucHVzaChzbSk7CiAgICAgIHJldHVybiBmdW5j");
    sb.append("dGlvbigpIHsKICAgICAgICBzbS5hYm9ydGVkID0gdHJ1ZTsKICAgICAgICBkZWxldGUgYWxsX3N1YnNj");
    sb.append("cmlwdGlvbnNbU107CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB2YXIgZGVsdGEgPSBtYWtlX29w");
    sb.append("dGltYWxfZGVsdGEocm9vdCwgW3N1Yl0pOwogICAgICB2YXIgZXZlbnRzID0gW107CiAgICAgIG1lcmdl");
    sb.append("KHt9LCBkZWx0YSwgW3N1Yl0sIGV2ZW50cywgdHJ1ZSk7IC8vIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIG5v");
    sb.append("dyBvbiBhIGNhbGxiYWNrIG9mIGFsbCBkYXRhIHRvIGZpcmUgZXZlbnRzIGFuZCBmaWxsIHRoZSBzdWJz");
    sb.append("Y3JpcHRpb24gb2JqZWN0CiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICAgIHJldHVybiBmdW5j");
    sb.append("dGlvbiAoKSB7IC8vIHJldHVybiBhIG1ldGhvZCB0byB1bnN1YnNjcmliZQogICAgICAgIGRlbGV0ZSBh");
    sb.append("bGxfc3Vic2NyaXB0aW9uc1tTXTsKICAgICAgfTsKICAgIH0KICB9Owp9");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKICBzZWxmLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uOwogIHNlbGYu");
    sb.append("YnVtcCA9IGZ1bmN0aW9uKG0pIHsKICAgIGNvbm5lY3Rpb24uYnVtcChtKTsKICB9OwoKICB2YXIgY29u");
    sb.append("bmVjdGlvbk1vbml0b3JEb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb25uZWN0");
    sb.append("aW9uLm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgdmFyIGljb24gPSBmdW5j");
    sb.append("dGlvbiAoY29sb3IpIHsgcmV0dXJuICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9z");
    sb.append("dmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVc");
    sb.append("IiBzdHJva2U9XCIiICsgY29sb3IgKyAiXCIgc3R5bGU9XCJ3aWR0aDoxNnB4OyBoZWlnaHQ6MTZweFwi");
    sb.append("PjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGQ9");
    sb.append("XCJNOC4yODggMTUuMDM4YTUuMjUgNS4yNSAwIDAxNy40MjQgME01LjEwNiAxMS44NTZjMy44MDctMy44");
    sb.append("MDggOS45OC0zLjgwOCAxMy43ODggME0xLjkyNCA4LjY3NGM1LjU2NS01LjU2NSAxNC41ODctNS41NjUg");
    sb.append("MjAuMTUyIDBNMTIuNTMgMTguMjJsLS41My41My0uNTMtLjUzYS43NS43NSAwIDAxMS4wNiAwelwiIC8+");
    sb.append("PC9zdmc+XG4iOyB9OwogICAgaWYgKCFzdGF0dXMpIHsKICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20u");
    sb.append("dGl0bGUgPSAiZGlzY29ubmVjdGVkIjsKICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5uZXJIVE1M");
    sb.append("ID0gaWNvbigicmVkIik7CiAgICAgIGNvbm5lY3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8xLCBfMikg");
    sb.append("eyB9OwogICAgfSBlbHNlIHsKICAgICAgY29ubmVjdGlvbi5vbnBpbmcgPSBmdW5jdGlvbiAoXywgbGF0");
    sb.append("ZW5jeSkgewogICAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImNvbm5lY3RlZDsgbGF0");
    sb.append("ZW5jeT0iICsgbGF0ZW5jeSArICJtcyI7CiAgICAgICAgaWYgKGxhdGVuY3kgPj0gMTAwKSB7CiAgICAg");
    sb.append("ICAgICBjb25uZWN0aW9uTW9uaXRvckRvbS5pbm5lckhUTUwgPSBpY29uKCJvcmFuZ2UiKTsKICAgICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5uZXJIVE1MID0gaWNvbigi");
    sb.append("Z3JlZW4iKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfTsKICBjb25uZWN0aW9uTW9uaXRvckRv");
    sb.append("bS5zdHlsZSA9ICJwb3NpdGlvbjpmaXhlZDsgYm90dG9tOjBweDsgcmlnaHQ6MHB4IjsKICBjb25uZWN0");
    sb.append("aW9uTW9uaXRvckRvbS5jbGFzc05hbWUgPSAiYWRhbWEtZGVidWdnZXIiCiAgaWYgKEFkYW1hLkRlYnVn");
    sb.append("Z2VyKSB7CiAgICBjb25uZWN0aW9uTW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9n");
    sb.append("Z2xlOwogIH0KICBjb25uZWN0aW9uLnN0YXJ0KCk7CiAgY29ubmVjdGlvbi5rZWVwYWxpdmUoKTsKCiAg");
    sb.append("d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgIHZhciBw");
    sb.append("YXlsb2FkID0ge307CiAgICBwYXlsb2FkLm1lc3NhZ2UgPSBldmVudC5tZXNzYWdlOwogICAgcGF5bG9h");
    sb.append("ZC5maWxlbmFtZSA9IGV2ZW50LmZpbGVuYW1lOwogICAgcGF5bG9hZC5saW5lbm8gPSBldmVudC5saW5l");
    sb.append("bm87CiAgICBwYXlsb2FkLmNvbG5vID0gZXZlbnQuY29sbm87CiAgICBwYXlsb2FkLmZpbGVuYW1lID0g");
    sb.append("ZXZlbnQuZmlsZW5hbWU7CiAgICBjb25uZWN0aW9uLmxvZygid2luZG93LmVycm9yIiwgSlNPTi5zdHJp");
    sb.append("bmdpZnkocGF5bG9hZCkpOwogIH0pOwoKICBjb25uZWN0aW9uLmJ1bXAoInJ4aHRtbCIpOwoKICB2YXIg");
    sb.append("cm9vdFJlcGxhY2UgPSAiLyI7CiAgdmFyIGZpeFBhdGggPSBmdW5jdGlvbiAocGF0aCkgewogICAgcmV0");
    sb.append("dXJuIHBhdGg7CiAgfTsKICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCIuYWRh");
    sb.append("bWEtcGxhdGZvcm0uY29tIikgJiYgIXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiaWRl");
    sb.append("LmFkYW1hLXBsYXRmb3JtLmNvbSIpKSB7CiAgICAvLyB0aGlzIGV4aXN0cyBpZiBzb21lb25lIGlzIHRy");
    sb.append("eWluZyB0byB1c2UgdGhlIGdsb2JhbCBkb21haW4gZm9yIHRoZWlyIHNpdGUKICAgIHZhciBwYXJ0cyA9");
    sb.append("IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpOwogICAgcm9vdFJlcGxhY2UgPSBbcGFy");
    sb.append("dHNbMF0sIHBhcnRzWzFdLCBwYXJ0c1syXSwgIiJdLmpvaW4oIi8iKTsKICAgIHZhciBvZmZzZXQgPSBw");
    sb.append("YXJ0c1swXS5sZW5ndGggKyBwYXJ0c1sxXS5sZW5ndGggKyBwYXJ0c1syXS5sZW5ndGggKyAyOwogICAg");
    sb.append("Zml4UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIHJldHVybiBwYXRoLnN1YnN0cmluZyhvZmZz");
    sb.append("ZXQpOwogICAgfTsKICB9CgogIHZhciBmaXhIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHsKICAgIGlmICgh");
    sb.append("aHJlZikgewogICAgICByZXR1cm4gIiMiOwogICAgfQogICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgiLyIp");
    sb.append("KSB7CiAgICAgIHJldHVybiByb290UmVwbGFjZSArIGhyZWYuc3Vic3RyaW5nKDEpOwogICAgfQogICAg");
    sb.append("cmV0dXJuIGhyZWY7CiAgfTsKCiAgdmFyIGdldF9jb25uZWN0aW9uX29iaiA9IGZ1bmN0aW9uIChuYW1l");
    sb.append("KSB7CiAgICBpZiAobmFtZSBpbiBjb25uZWN0aW9ucykgewogICAgICByZXR1cm4gY29ubmVjdGlvbnNb");
    sb.append("bmFtZV07CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAg");
    sb.append("ICAgICAgcHRyOiBudWxsLAogICAgICAgIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgICBvdXRz");
    sb.append("dGFuZGluZzoge30sCiAgICAgICAgZGVjaXNpb25zOiB7fSwKICAgICAgICBjaG9pY2Vfc3Viczoge30s");
    sb.append("CiAgICAgICAgcmVzZXRzOiB7fSwKICAgICAgICBjb25uZWN0aW9uX2V2ZW50czoge30sCiAgICAgICAg");
    sb.append("c3luY19ldmVudHM6IHt9LAogICAgICAgIGlkOiAwLAogICAgICAgIGNvbm5lY3Rpb25fc3RhdGU6IGZh");
    sb.append("bHNlLAogICAgICAgIGNob2ljZXM6IHt9LAogICAgICAgIGJvdW5kOiAiIiwKICAgICAgICB2aWV3c3Rh");
    sb.append("dGVfc2VudDogdHJ1ZSwKICAgICAgICB2aWV3c3RhdGVfY2xvbmU6ICIiLAogICAgICAgIGhhc19maWx0");
    sb.append("ZXI6IGZhbHNlLAogICAgICAgIHN5bmNlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB7fSwKICAgICAg");
    sb.append("ICB2c3NlcTogMCwKICAgICAgICBkZWJ1Z2dlcjogZnVuY3Rpb24gKGRlbHRhKSB7IH0sCiAgICAgICAg");
    sb.append("cmF3OiBjb25uZWN0aW9uCiAgICAgIH07CiAgICAgIG9iai5udWtlID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICAgIHRoaXMuY29ubmVjdGlvbl9ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzID0g");
    sb.append("e307CiAgICAgICAgdGhpcy5jaG9pY2Vfc3VicyA9IHt9OwogICAgICB9LmJpbmQob2JqKTsKICAgICAg");
    sb.append("aWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICAgICAgb2JqLmRlYnVnZ2VyID0gQWRhbWEuRGVidWdnZXIu");
    sb.append("cmVnaXN0ZXIob2JqKTsKICAgICAgfQogICAgICBvYmouc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ICB2YXIgc3luY2VkID0gdGhpcy5jb25uZWN0aW9uX3N0YXRlICYmIHRoaXMudmlld3N0YXRlX3NlbnQ7");
    sb.append("CiAgICAgICAgaWYgKHRoaXMuc3luY2VkID09IHN5bmNlZCkgewogICAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICAgIH0KICAgICAgICB0aGlzLnN5bmNlZCA9IHN5bmNlZDsKICAgICAgICB2YXIgYXhlID0gW107CiAg");
    sb.append("ICAgICAgZm9yICh2YXIgc3ViIGluIG9iai5zeW5jX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2Jq");
    sb.append("LnN5bmNfZXZlbnRzW3N1Yl0oc3luY2VkKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouc3luY19ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX3N5bmMgPSBmdW5jdGlvbiAoY2FsbGJh");
    sb.append("Y2spIHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5zeW5jX2V2");
    sb.append("ZW50c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuc3luY2VkKTsKICAgICAgICBy");
    sb.append("ZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuc3luY19ldmVudHNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9OwogICAgICBvYmouc2V0X2Nvbm5lY3RlZCA9IGZ1bmN0");
    sb.append("aW9uIChjcykgewogICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPT0gY3MpIHsKICAgICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX3N0YXRlID0gY3M7CiAg");
    sb.append("ICAgICAgdmFyIGF4ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY29ubmVjdGlvbl9l");
    sb.append("dmVudHMpIHsKICAgICAgICAgIGlmICghKG9iai5jb25uZWN0aW9uX2V2ZW50c1tzdWJdKGNzKSkpIHsK");
    sb.append("ICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouY29u");
    sb.append("bmVjdGlvbl9ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAg");
    sb.append("IH0uYmluZChvYmopOwogICAgICBvYmouY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuY29ubmVjdGlvbl9ldmVu");
    sb.append("dHNbc10gPSBjYWxsYmFjazsKICAgICAgICBjYWxsYmFjayh0aGlzLmNvbm5lY3Rpb25fc3RhdGUpOwog");
    sb.append("ICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9u");
    sb.append("X2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBv");
    sb.append("Ymouc3Vic2NyaWJlX2FueSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18");
    sb.append("IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAg");
    sb.append("IHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZSA9");
    sb.append("IGZ1bmN0aW9uIChjaGFubmVsLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gY2hhbm5lbCArICJ8");
    sb.append("IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAg");
    sb.append("IHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9y");
    sb.append("ZXNldCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBkciA9ICJyZXNldHwiICsgdGhp");
    sb.append("cy5pZCsrOwogICAgICAgIHRoaXMucmVzZXRzW2RyXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5yZXNldHNbZHJdOwogICAgICAgIH0uYmlu");
    sb.append("ZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfY2hvaWNlID0gZnVu");
    sb.append("Y3Rpb24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsg");
    sb.append("dGhpcy5pZCsrOwogICAgICAgIHRoaXMuY2hvaWNlX3N1YnNbc10gPSBjYWxsYmFjazsKICAgICAgICBy");
    sb.append("ZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlX3N1YnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLm9uY2hvaWNlcyA9");
    sb.append("IGZ1bmN0aW9uIChjaGFubmVsLCBjaG9pY2UpIHsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAg");
    sb.append("Zm9yICh2YXIgc3ViIGluIG9iai5jaG9pY2Vfc3VicykgewogICAgICAgICAgaWYgKHN1Yi5zdGFydHNX");
    sb.append("aXRoKGNoYW5uZWwgKyAifCIpKSB7CiAgICAgICAgICAgIGlmICghb2JqLmNob2ljZV9zdWJzW3N1Yl0o");
    sb.append("Y2hvaWNlKSkgewogICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgICAgIGRlbGV0ZSBvYmouY2hvaWNlX3N1YnNbYXhlW2tdXTsKICAgICAgICB9CiAgICAg");
    sb.append("IH07CiAgICAgIG9iai5vbmRlY2lkZSA9IGZ1bmN0aW9uIChvdXRzdGFuZGluZykgewogICAgICAgIHZh");
    sb.append("ciBheGVSZXNldCA9IFtdOwogICAgICAgIGZvciAodmFyIGRyIGluIG9iai5yZXNldHMpIHsKICAgICAg");
    sb.append("ICAgIHZhciByID0gb2JqLnJlc2V0c1tkcl07CiAgICAgICAgICBpZiAoIShyKCkpKSB7CiAgICAgICAg");
    sb.append("ICAgIGF4ZVJlc2V0LnB1c2goZHIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZh");
    sb.append("ciBrID0gMDsgayA8IGF4ZVJlc2V0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnJl");
    sb.append("c2V0c1theGVSZXNldFtrXV07CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRz");
    sb.append("dGFuZGluZykgewogICAgICAgICAgb2JqLm91dHN0YW5kaW5nW2NoXSA9IHsgb3B0aW9uczogW10gfTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgdmFyIG4gPSBvdXRzdGFuZGluZy5sZW5ndGg7CiAgICAgICAgZm9yICh2");
    sb.append("YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBvID0gb3V0c3RhbmRpbmdba107CiAg");
    sb.append("ICAgICAgICBvYmoub3V0c3RhbmRpbmdbby5jaGFubmVsXSA9IG87CiAgICAgICAgfQogICAgICAgIGZv");
    sb.append("ciAodmFyIGNoIGluIG9iai5vdXRzdGFuZGluZykgewogICAgICAgICAgdmFyIG91dCA9IG9iai5vdXRz");
    sb.append("dGFuZGluZ1tjaF07CiAgICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgICBmb3IgKHZhciBzdWIg");
    sb.append("aW4gb2JqLmRlY2lzaW9ucykgewogICAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2ggKyAifCIp");
    sb.append("IHx8IHN1Yi5zdGFydHNXaXRoKCItfCIpKSB7CiAgICAgICAgICAgICAgaWYgKCFvYmouZGVjaXNpb25z");
    sb.append("W3N1Yl0ob3V0LCBjaCkpIHsKICAgICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBkZWxldGUgb2JqLmRlY2lzaW9uc1theGVba11d");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgY29ubmVjdGlvbnNbbmFtZV0gPSBv");
    sb.append("Ymo7CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsKICBzZWxmLmdldENvbm5lY3Rpb25CeU5hbWUg");
    sb.append("PSBnZXRfY29ubmVjdGlvbl9vYmo7CgogIHNlbGYubWFrZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVy");
    sb.append("biBuZXcgQWRhbWFUcmVlKCk7CiAgfTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRoZSBnaXZlbiAn");
    sb.append("c3ViJyB0byBjaGFuZ2VzIHdpdGhpbiBzdGF0ZSBmb3IgdGhlIGdpdmVuIGZpZWxkIG5hbWVkIG5hbWUK");
    sb.append("ICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBzdWIpIHsKICAgIHZhciBzcyA9");
    sb.append("IHNlbGYucEkoc3RhdGUsIG5hbWUpOwogICAgdmFyIHMgPSBzc1tzcy5jdXJyZW50XTsKICAgIGlmIChz");
    sb.append("ID09IG51bGwpIHsKICAgICAgY29uc29sZS5lcnJvcihzcy5jdXJyZW50ICsgIiBpcyBub3QgYXZhaWxh");
    sb.append("YmxlOyB1bmFibGUgdG8gc3Vic2NyaWJlLiIpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIkBl");
    sb.append("IiBpbiBzLmRlbHRhKSB7CiAgICAgIHMuZGVsdGFbIkBlIl0ucHVzaChzdWIpOwogICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgcy5kZWx0YVsiQGUiXSA9IFtzdWJdOwogICAgfQogIH07CiAgc2VsZi5zdWJzY3JpYmUgPSBz");
    sb.append("dWJzY3JpYmU7CgogIC8vIEhFTFBFUiB8IGNyZWF0ZSBmcmVzaCBzdGF0ZQogIHZhciBmcmVzaCA9IGZ1");
    sb.append("bmN0aW9uICh3aGVyZSkgewogICAgcmV0dXJuIHsKICAgICAgdHJlZTogbmV3IEFkYW1hVHJlZSgpLAog");
    sb.append("ICAgICBkZWx0YToge30sCiAgICAgIHBhcmVudDogbnVsbCwKICAgICAgcGF0aDogbnVsbCwKICAgICAg");
    sb.append("d2hlcmU6IHdoZXJlCiAgICB9OwogIH07CiAgc2VsZi5mcmVzaCA9IGZyZXNoOwoKICAvLyBIRUxQRVI6");
    sb.append("IHJlbW92ZSBwb3RlbnRpYWxseSBzZW5zaXRpdmUgaW5mb3JtYXRpb24gZnJvbSBhbiBvYmplY3QKICB2");
    sb.append("YXIgc2FmZV9maWx0ZXIgPSBmdW5jdGlvbihvKSB7CiAgICBpZiAoJ3Bhc3N3b3JkJyBpbiBvKSB7CiAg");
    sb.append("ICAgIGRlbGV0ZSBvWydwYXNzd29yZCddOwogICAgfQogICAgaWYgKCdvbmVfdGltZV9wYXNzd29yZCcg");
    sb.append("aW4gbykgewogICAgICBkZWxldGUgb1snb25lX3RpbWVfcGFzc3dvcmQnXTsKICAgIH0KICAgIHJldHVy");
    sb.append("biBvOwogIH0KCiAgLy8gSEVMUEVSIHwgY3JlYXRlIGEgbmV3IGRlbHRhIGNvcHkgZnJvbSB0aGUgZ2l2");
    sb.append("ZW4gc3BlY2lmaWMgc3RhdGUgKGkuZS4gZWl0aGVyIGRhdGEgb3IgdmlldykKICB2YXIgbmV3X2RlbHRh");
    sb.append("X2NvcHkgPSBmdW5jdGlvbiAoc3MpIHsKICAgIGlmIChzcyA9PSBudWxsKSB7CiAgICAgIHJldHVybiBu");
    sb.append("dWxsOwogICAgfQogICAgdmFyIHBhcmVudCA9IG51bGw7CiAgICBpZiAoc3MucGFyZW50ICE9IG51bGwp");
    sb.append("IHsKICAgICAgcGFyZW50ID0gbmV3X2RlbHRhX2NvcHkoc3MucGFyZW50KTsKICAgIH0KICAgIHZhciBu");
    sb.append("ZXdfZGVsdGEgPSB7fTsKICAgIGlmIChwYXJlbnQgIT0gbnVsbCkgewogICAgICBwYXJlbnQuZGVsdGFb");
    sb.append("c3MucGF0aF0gPSBuZXdfZGVsdGE7CiAgICB9CiAgICByZXR1cm4geyB0cmVlOiBzcy50cmVlLCBwYXJl");
    sb.append("bnQ6IHBhcmVudCwgZGVsdGE6IG5ld19kZWx0YSwgcGF0aDogc3MucGF0aCB9OwogIH07CiAgc2VsZi5t");
    sb.append("YWtlRGVsdGFDb3B5ID0gbmV3X2RlbHRhX2NvcHk7CgogIC8vIEhFTFBFUiB8IGNvbnN0cnVjdCBhIHBh");
    sb.append("dGggdG8KICB2YXIgcGF0aF90byA9IGZ1bmN0aW9uIChzcywgb2JqKSB7CiAgICBpZiAoc3MucGFyZW50");
    sb.append("ICE9IG51bGwpIHsKICAgICAgdmFyIHBlZWwgPSB7fTsKICAgICAgcGVlbFtzcy5wYXRoXSA9IG9iajsK");
    sb.append("ICAgICAgcmV0dXJuIHBhdGhfdG8oc3MucGFyZW50LCBwZWVsKTsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKICBzZWxmLnBhdGhUbyA9IHBhdGhfdG87CgogIC8vIEhFTFBFUiB8");
    sb.append("IGdldCB0aGUgcm9vdCBvZiB0aGUgc3BlY2lmaWMgc3RhdGUgKGkuZS4gZWl0aGVyIHRoZSBkYXRhJ3Mg");
    sb.append("cm9vdCBvciB0aGUgdmlldydzIHJvb3QpCiAgdmFyIHJvb3Rfb2YgPSBmdW5jdGlvbiAoc3MpIHsKICAg");
    sb.append("IHZhciB4ID0gc3M7CiAgICB3aGlsZSAoeC5wYXJlbnQgIT0gbnVsbCkgewogICAgICB4ID0geC5wYXJl");
    sb.append("bnQ7CiAgICB9CiAgICByZXR1cm4geDsKICB9OwogIHNlbGYucm9vdE9mID0gcm9vdF9vZjsKCiAgLy8g");
    sb.append("SEVMUEVSIHwgcmVtb3ZlIGFsbCB0aGUgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gRE9NIG5vZGUKICB2");
    sb.append("YXIgbnVrZSA9IGZ1bmN0aW9uIChwYXJlbnQpIHsKICAgIHZhciBsYXN0ID0gcGFyZW50Lmxhc3RDaGls");
    sb.append("ZDsKICAgIHdoaWxlIChsYXN0KSB7CiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChsYXN0KTsKICAgICAg");
    sb.append("bGFzdCA9IHBhcmVudC5sYXN0Q2hpbGQ7CiAgICB9CiAgfTsKICBzZWxmLm51a2UgPSBudWtlOwoKICAv");
    sb.append("LyBIRUxQRVI6IGRlYm91bmNlIHRoZSBnaXZlbiBmdW5jdGlvbmFsIHdoZW4gcmFwaWQgZnVuY3Rpb24g");
    sb.append("c3ByZWFkIGlzIGV4cGVjdGVkCiAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gKG1zLCBmb28pIHsKICAg");
    sb.append("IHZhciBzdGF0dXMgPSB7IGluZmxpZ2h0OiBmYWxzZSwgdGltZW91dDogbnVsbCB9OwogICAgc3RhdHVz");
    sb.append("LmluZmxpZ2h0ID0gZmFsc2U7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXN0YXR1");
    sb.append("cy5pbmZsaWdodCkgewogICAgICAgIHN0YXR1cy5pbmZsaWdodCA9IHRydWU7CiAgICAgICAgc3RhdHVz");
    sb.append("LnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzdGF0dXMu");
    sb.append("aW5mbGlnaHQgPSBmYWxzZTsKICAgICAgICAgIHN0YXR1cy50aW1lb3V0ID0gbnVsbDsKICAgICAgICAg");
    sb.append("IGZvbygpOwogICAgICAgIH0sIG1zIC8qIG1zICovKTsgLy8gZGVib3VuY2UgdGhlIHBhcmFtZXRlcnMK");
    sb.append("ICAgICAgfQogICAgfTsKICB9OwogIHNlbGYuZGVib3VuY2UgPSBkZWJvdW5jZTsKCiAgLy8gSEVMUEVS");
    sb.append("IHwgcHJlcGFyZSBhIGZyZWUgdW5zdWJzY3JpYmUgb2JqZWN0CiAgdmFyIG1ha2VfdW5zdWIgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBfX2RhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgfSwg");
    sb.append("X192aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgLy8gSEVMUEVSIHwgYXVn");
    sb.append("bWVudCBhbiBleGlzdGluZyBvYmplY3Qgd2l0aCB1bnN1YnNjcmliZSBkYXRhCiAgdmFyIGFkZF91bnN1");
    sb.append("YiA9IGZ1bmN0aW9uIChvYmopIHsKICAgIG9iai5fX2RhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICB9Owog");
    sb.append("ICAgb2JqLl9fdmlldyA9IGZ1bmN0aW9uICgpIHsKICAgIH07CiAgfTsKCiAgLy8gSEVMUEVSIHwgZmly");
    sb.append("ZSB0aGUgdW5zdWJzY3JpYmUgY2FsbHMgd2l0aGluIGFuIG9iamVjdAogIHZhciBmaXJlX3Vuc3ViID0g");
    sb.append("ZnVuY3Rpb24gKHVuc3ViKSB7CiAgICB1bnN1Yi5fX2RhdGEoKTsKICAgIHVuc3ViLl9fdmlldygpOwog");
    sb.append("IH07CgogIHZhciBpc0VtcHR5RGVsdGEgPSBmdW5jdGlvbihkZWx0YSkgewogICAgaWYgKHR5cGVvZihk");
    sb.append("ZWx0YSkgPT0gImZ1bmN0aW9uIikgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkoZGVsdGEpKSB7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVsdGEubGVuZ3Ro");
    sb.append("OyBqKyspIHsKICAgICAgICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YVtqXSkpIHsKICAgICAgICAgIHJl");
    sb.append("dHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mKGRlbHRhKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBmb3IgKHZhciBrIGluIGRlbHRhKSB7CiAgICAgICAgaWYgKCFpc0Vt");
    sb.append("cHR5RGVsdGEoZGVsdGFba10pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAg");
    sb.append("ICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vIEhFTFBFUiB8IHN1YnNjcmliZSB0byBz");
    sb.append("dGF0ZSBhbmQgcG9wdWxhdGUgdW5zdWJzY3JpYmUgb2JqZWN0CiAgdmFyIHN1YnNjcmliZV9zdGF0ZSA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSwgdW5zdWIpIHsKICAgIC8vICAmJiAhaXNFbXB0eURlbHRhKHN0YXRlLmRh");
    sb.append("dGEpCiAgICB1bnN1Yi5fX2RhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwogICAgdW5zdWIuX192aWV3");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgfTsKCiAgICBpZiAoc3RhdGUuZGF0YSAhPSBudWxsKSB7CiAgICAg");
    sb.append("IHZhciBkZWx0YSA9IHJvb3Rfb2Yoc3RhdGUuZGF0YSkuZGVsdGE7CiAgICAgIGlmICghaXNFbXB0eURl");
    sb.append("bHRhKGRlbHRhKSkgewogICAgICAgIHVuc3ViLl9fZGF0YSA9IHN0YXRlLmRhdGEudHJlZS5zdWJzY3Jp");
    sb.append("YmUoZGVsdGEpOwogICAgICB9CiAgICB9CiAgICAvLyAgJiYgIWlzRW1wdHlEZWx0YShzdGF0ZS52aWV3");
    sb.append("KQogICAgaWYgKHN0YXRlLnZpZXcgIT0gbnVsbCkgewogICAgICB2YXIgZGVsdGEgPSByb290X29mKHN0");
    sb.append("YXRlLnZpZXcpLmRlbHRhOwogICAgICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YSkpIHsKICAgICAgICB1");
    sb.append("bnN1Yi5fX3ZpZXcgPSBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKGRlbHRhKTsKICAgICAgfQogICAg");
    sb.append("fQogIH07CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2ggdG8gdGhlIHZpZXcgb2JqZWN0CiAgc2VsZi5wViA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHsgc2VydmljZTogc3RhdGUuc2VydmljZSwgZGF0");
    sb.append("YTogc3RhdGUuZGF0YSwgdmlldzogc3RhdGUudmlldywgY3VycmVudDogInZpZXciIH07CiAgfTsKICBz");
    sb.append("ZWxmLm5ld1N0YXRlVmlld09mID0gc2VsZi5wVjsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUg");
    sb.append("ZGF0YSBvYmplY3QKICBzZWxmLnBEID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2");
    sb.append("aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJy");
    sb.append("ZW50OiAiZGF0YSIgfTsKICB9OwogIHNlbGYubmV3U3RhdGVEYXRhT2YgPSBzZWxmLnBEOwoKICAvLyBS");
    sb.append("VU5USU1FIHwgU3dpdGNoIHRvIHRoZSByb290IG9iamVjdCAvIChSb290KQogIHNlbGYucFIgPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRh");
    sb.append("OiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAg");
    sb.append("ICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1cnJlbnRdOwogICAgd2hpbGUgKHByaW9yICE9IG51bGwp");
    sb.append("IHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9IHByaW9yOwogICAgICBwcmlvciA9IHByaW9yLnBh");
    sb.append("cmVudDsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVJvb3RPZiA9IHNl");
    sb.append("bGYucFI7CgogIC8vIFJVTlRJTUUgfCAuLi8gKFVwKQogIHNlbGYucFUgPSBmdW5jdGlvbiAoc3RhdGUp");
    sb.append("IHsKICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRh");
    sb.append("LCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3Ig");
    sb.append("PSBuZXh0W3N0YXRlLmN1cnJlbnRdOwogICAgaWYgKHByaW9yLnBhcmVudCAhPSBudWxsKSB7CiAgICAg");
    sb.append("IG5leHRbc3RhdGUuY3VycmVudF0gPSBwcmlvci5wYXJlbnQ7CiAgICB9CiAgICByZXR1cm4gbmV4dDsK");
    sb.append("ICB9OwogIHNlbGYubmV3U3RhdGVQYXJlbnRPZiA9IHNlbGYucFU7CgogIC8vIFJVTlRJTUUgfCBkaXZl");
    sb.append("IG9uZSBsZXZlbCBJbnRvIHBhdGgxL3BhdGgyLy4uLi4vcGF0aE4KICBzZWxmLnBJID0gZnVuY3Rpb24g");
    sb.append("KHN0YXRlLCBuYW1lKSB7CiAgICB2YXIgcHJpb3IgPSBzdGF0ZVtzdGF0ZS5jdXJyZW50XTsKICAgIGlm");
    sb.append("IChwcmlvciA9PSBudWxsKSB7CiAgICAgIGNvbnNvbGUuZXJyb3Ioc3RhdGUuY3VycmVudCArICIgaXMg");
    sb.append("bm90IHByZXNlbnQiKTsKICAgICAgcmV0dXJuIHN0YXRlOwogICAgfQogICAgaWYgKCEobmFtZSBpbiBw");
    sb.append("cmlvci5kZWx0YSkpIHsKICAgICAgcHJpb3IuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHZhciBu");
    sb.append("ZXh0ID0geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0");
    sb.append("ZS52aWV3LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0g");
    sb.append("ewogICAgICB0cmVlOiBwcmlvci50cmVlLAogICAgICBkZWx0YTogcHJpb3IuZGVsdGFbbmFtZV0sCiAg");
    sb.append("ICAgIHBhcmVudDogcHJpb3IsCiAgICAgIHBhdGg6IG5hbWUKICAgIH07CiAgICBpZiAobmV4dC5jdXJy");
    sb.append("ZW50ID09ICJkYXRhIikgewogICAgICBuZXh0LmRhdGEuY29ubmVjdGlvbiA9IHByaW9yLmNvbm5lY3Rp");
    sb.append("b247CiAgICB9CiAgICByZXR1cm4gbmV4dDsKICB9OwogIHNlbGYubmV3U3RhdGVEaXZlSW50byA9IHNl");
    sb.append("bGYucEk7CgogIC8vIFJVTlRJTUUgfCBleHRlbmQgdGhlIGdpdmVuIHN0YXRlIHdpdGggdGhlIHZpZXcg");
    sb.append("aGF2aW5nIGEgc2VwYXJhdGUgY2hpbGQKICBzZWxmLnBFViA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkg");
    sb.append("ewogICAgaWYgKCEobmFtZSBpbiBzdGF0ZS52aWV3LmRlbHRhKSkgewogICAgICBzdGF0ZS52aWV3LmRl");
    sb.append("bHRhW25hbWVdID0ge307CiAgICB9CiAgICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBzdGF0ZS5zZXJ2");
    sb.append("aWNlLAogICAgICBkYXRhOiBzdGF0ZS5kYXRhLAogICAgICB2aWV3OiB7CiAgICAgICAgdHJlZTogc3Rh");
    sb.append("dGUudmlldy50cmVlLAogICAgICAgIGRlbHRhOiBzdGF0ZS52aWV3LmRlbHRhW25hbWVdLAogICAgICAg");
    sb.append("IHBhcmVudDogc3RhdGUudmlldywKICAgICAgICBwYXRoOiBuYW1lCiAgICAgIH0sCiAgICAgIGN1cnJl");
    sb.append("bnQ6IHN0YXRlLmN1cnJlbnQKICAgIH07CiAgfTsKICBzZWxmLm5ld1N0YXRlQ3JlYXRlVmlld0NoaWxk");
    sb.append("ID0gc2VsZi5wRVY7CgogIHNlbGYucElFID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3");
    sb.append("KSB7CiAgICB2YXIgbmV4dCA9IHNlbGYucEkoc3RhdGUsIG5hbWUpOwogICAgaWYgKGV4cGFuZFZpZXcp");
    sb.append("IHsKICAgICAgcmV0dXJuIHNlbGYucEVWKG5leHQsIG5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgcmV0");
    sb.append("dXJuIG5leHQ7CiAgICB9CiAgfTsKCiAgdmFyIGZvcmsgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewog");
    sb.append("ICAgdmFyIHN0YXRlID0gewogICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRh");
    sb.append("dGE6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUuZGF0YSksCiAgICAgIHZpZXc6IG5ld19kZWx0YV9j");
    sb.append("b3B5KHByaW9yU3RhdGUudmlldyksCiAgICAgIGN1cnJlbnQ6IHByaW9yU3RhdGUuY3VycmVudAogICAg");
    sb.append("fTsKICAgIGlmIChzdGF0ZS5kYXRhICE9IG51bGwpIHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9u");
    sb.append("ID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4gc3RhdGU7CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IHN1YnNjcmliZSBiZXR3ZWVuIHRoZSBzdGF0ZSBhbmQgdGhlIG9iamVjdC4K");
    sb.append("ICAvLyBXaGVuIHRoZSBtZW1iZXIgZmllbGQgd2l0aGluIHN0YXRlIG9mIG5hbWUgY2hhbmdlcywgY29w");
    sb.append("eSB0aGF0IHZhbHVlIGludG8gdGhlIG9iaiBhbmQgcnVuIHJlY29tcHV0ZSgpCiAgc2VsZi5ZID0gZnVu");
    sb.append("Y3Rpb24gKHN0YXRlLCBvYmosIG5hbWUsIHJlY29tcHV0ZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9u");
    sb.append("ICh2YWx1ZSkgewogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKCk7CiAgICB9");
    sb.append("OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIHNlbGYuWTIgPSBmdW5jdGlv");
    sb.append("biAoc3RhdGUsIHIsIGtleSwgbmFtZSwgcmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIHZhciBvYmogPSByLl9ba2V5XTsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7");
    sb.append("CiAgICAgIHJlY29tcHV0ZShvYmopOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElNRTogYnVpbGQgYW4gcnhvYmoKICBz");
    sb.append("ZWxmLlJYID0gZnVuY3Rpb24gKHZhcnMpIHsKICAgIHZhciBvID0ge307CiAgICBvLl8gPSB7fTsKICAg");
    sb.append("IGZvciAodmFyIGsgPSAwOyBrIDwgdmFycy5sZW5ndGg7IGsrKykgewogICAgICBvLl9bdmFyc1trXV0g");
    sb.append("PSB7fTsKICAgIH0KICAgIG8uX18gPSBmdW5jdGlvbigpIHt9OwogICAgcmV0dXJuIG87CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IEp1c3Qgc3Vic2NyaWJlZSB2YWx1ZSB0byB0aGUgb2JqZWN0IGZpZWxkIG9mIG5h");
    sb.append("bWUgKG5vLXJlY29tcHV0ZSkKICBzZWxmLllTID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5hbWUpIHsK");
    sb.append("ICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAg");
    sb.append("ICAgIHJldHVybiB0cnVlOwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9");
    sb.append("OwoKICAvLyBSVU5USU1FIHwgIlRleHQiCiAgc2VsZi5UID0gZnVuY3Rpb24gKHR4KSB7CiAgICByZXR1");
    sb.append("cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodHgpOwogIH07CgogIC8vIGNvbnZlcnQgYSB2YWx1ZSBp");
    sb.append("bnRvIGEgYm9vbGVhbgogIHNlbGYuQiA9IGZ1bmN0aW9uKHZhbCkgewogICAgaWYgKHZhbCA9PT0gdHJ1");
    sb.append("ZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiB2YWwgPT0gInRydWUiOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8dmlldy13cml0ZSBuYW1lPSIiIHZhbHVlPSIiPgogIHNlbGYuVlcgPSBm");
    sb.append("dW5jdGlvbihzdGF0ZSwgbmFtZSwgcnhPYmopIHsKICAgIHJ4T2JqLl9fID0gZGVib3VuY2UoNTAsIGZ1");
    sb.append("bmN0aW9uKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIHZhciB2YWx1ZSA9IHJ4T2JqLnZhbHVl");
    sb.append("OwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1l");
    sb.append("XSA9IHZhbHVlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtz");
    sb.append("dGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("IHwgPGxvb2t1cCBwYXRoPS4uLj4KICBzZWxmLkwgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAg");
    sb.append("IHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIgc3ViID0gZnVuY3Rp");
    sb.append("b24gKHZhbHVlKSB7CiAgICAgIGRvbS5ub2RlVmFsdWUgPSB2YWx1ZTsKICAgIH07CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8");
    sb.append("bG9va3VwIHBhdGg9Li4uIHRyYW5zZm9ybT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlLCBuYW1lLCB0cmFuc2Zvcm0pIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVU");
    sb.append("ZXh0Tm9kZSgiIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7CiAgICAg");
    sb.append("IH0KICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgICByZXR1cm4gZG9tOwog");
    sb.append("IH07CgogIHNlbGYuTGggPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBkb20gPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7");
    sb.append("CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgZG9tLmlubmVySFRNTCA9IHZhbHVlOwog");
    sb.append("ICAgICB9CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogICAgcmV0dXJuIGRv");
    sb.append("bTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGxvb2t1cCBwYXRoPS4uLiB0cmFuc2Zvcm09IiR0cmFuc2Zv");
    sb.append("cm0iIC8+CiAgc2VsZi5MVGRUID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCB0cmFuc2Zvcm0sIGZyZXEp");
    sb.append("IHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICAvLyBjcmVhdGUg");
    sb.append("dGhlIG5leHVzIG9iamVjdAogICAgdmFyIG9iaiA9IHt9OwogICAgb2JqLmZyZXEgPSBmcmVxOwogICAg");
    sb.append("b2JqLnZhbHVlID0gIiI7CgogICAgLy8gdXBkYXRlIHdpbGwgZXhlY3V0ZSB0aGUgdHJhbnNmb3JtIG9u");
    sb.append("IHRoZSB2YWx1ZQogICAgb2JqLnVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICBkb20ubm9kZVZhbHVl");
    sb.append("ID0gdHJhbnNmb3JtKHRoaXMudmFsdWUpOwogICAgfS5iaW5kKG9iaik7CgogICAgLy8gc3Vic2NyaXB0");
    sb.append("aW9uIHdpbGwgc3luYyB0aGUgdmFsdWUKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAg");
    sb.append("ICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CiAgICAgICAg");
    sb.append("dGhpcy51cGRhdGUoKTsKICAgICAgfQogICAgfS5iaW5kKG9iaik7CgogICAgLy8gcmVmcmVzaCB3aWxs");
    sb.append("IHJlLWV4ZWN1dGUgdGhlIHVwZGF0ZSAoYW5kIHRodXMgdGhlIHRyYW5zZm9ybSkKICAgIG9iai5yZWZy");
    sb.append("ZXNoID0gZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIGlmIChkb2N1bWVudC5i");
    sb.append("b2R5LmNvbnRhaW5zKGRvbSkpIHsgLy8gd2lsbCBydW4gc28gbG9uZyBhcyB0aGUgRE9NIGNvbnRhaW5z");
    sb.append("IHRoZSBub2RlIHdlIG1hbmlwdWxhdGVkCiAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5yZWZy");
    sb.append("ZXNoLCB0aGlzLmZyZXEpOwogICAgICB9CiAgICB9LmJpbmQob2JqKTsKICAgIC8vIGtpY2sgb2ZmIHRo");
    sb.append("ZSBhdXRvIHRyYW5zZm9ybQogICAgd2luZG93LnNldFRpbWVvdXQob2JqLnJlZnJlc2gsIGZyZXEpOwog");
    sb.append("ICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogICAgcmV0dXJuIGRvbTsKICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgPHRhZz4KICBzZWxmLkUgPSBmdW5jdGlvbiAodGFnLCBucykgewogICAgaWYgKG5zID09");
    sb.append("IHVuZGVmaW5lZCB8fCBucyA9PSBudWxsKSB7CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICAgIGlmICh0YWcgPT0gInNlbGVjdCIpIHsKICAgICAgICBkb20uYWRkRXZl");
    sb.append("bnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7IGRvbS5yeHZhbHVlID0gZG9tLnZhbHVlOyB9");
    sb.append("KTsKICAgICAgfQogICAgICByZXR1cm4gZG9tOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlc3VsdCA9");
    sb.append("IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTsKICAgICAgcmVzdWx0LnNldEF0dHJpYnV0");
    sb.append("ZSgieG1sbnMiLCBucyk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsKCiAgc2VsZi5DU3Qg");
    sb.append("PSBmdW5jdGlvbiAocGFyZW50LCBzdGF0ZSwgY2hpbGRNYWtlckNvbm5lY3RlZCwgY2hpbGRNYWtlckRp");
    sb.append("c2Nvbm5lY3RlZCkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgaWYgKCFzdGF0ZS5k");
    sb.append("YXRhLmNvbm5lY3Rpb24pIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgc3RhdGUuZGF0YS5jb25uZWN0");
    sb.append("aW9uLmNvbm5lY3RlZChmdW5jdGlvbihjcykgewogICAgICBpZiAodGhpcy5wcmlvciA9PSBjcykgewog");
    sb.append("ICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIo");
    sb.append("dW5zdWIpOwogICAgICB0aGlzLnByaW9yID0gY3M7CiAgICAgIHZhciBuZXdTdGF0ZSA9IGZvcmsoc3Rh");
    sb.append("dGUpOwogICAgICBpZiAoY3MpIHsKICAgICAgICBjaGlsZE1ha2VyQ29ubmVjdGVkKHBhcmVudCwgbmV3");
    sb.append("U3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQocGFyZW50");
    sb.append("LCBuZXdTdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKG5ld1N0YXRlLCB1bnN1Yik7");
    sb.append("CiAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHBhcmVudCk7CiAgICB9LmJpbmQoe3By");
    sb.append("aW9yOm51bGx9KSk7CiAgfTsKCiAgLy8gZG9jdW1lbnQtZ2V0CiAgc2VsZi5EY0cgPSBmdW5jdGlvbihw");
    sb.append("YXJlbnQsIHByaW9yU3RhdGUsIHJ4T2JqLCBjaGlsZE1ha2VyRmV0Y2hlZCwgY2hpbGRNYWtlckZhaWxl");
    sb.append("ZCkgewogICAgLy8gVE9ETwogIH07CgogIC8vIFJVTlRJTUUgPGRvbWFpbi1nZXQgdXJsPSJwYXRoIiBz");
    sb.append("ZWFyY2g6eD0iLi4uIj4KICBzZWxmLkRHID0gZnVuY3Rpb24ocGFyZW50LCBwcmlvclN0YXRlLCByeE9i");
    sb.append("aiwgY2hpbGRNYWtlckZldGNoZWQsIGNoaWxkTWFrZXJGYWlsZWQpIHsKICAgIHZhciB1bnN1YiA9IG1h");
    sb.append("a2VfdW5zdWIoKTsKICAgIHJ4T2JqLl9fID0gZGVib3VuY2UoNTAsIGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("aWYgKCEoJ3VybCcgaW4gcnhPYmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBh");
    sb.append("cmdzID0gW107CiAgICAgIHZhciBpZGVudGl0eSA9IG51bGw7CiAgICAgIGZvciAodmFyIGFyZyBpbiBy");
    sb.append("eE9iaikgewogICAgICAgIHZhciB2YWwgPSByeE9ialthcmddOwogICAgICAgIHN3aXRjaCAoYXJnKSB7");
    sb.append("CiAgICAgICAgICBjYXNlICJfXyI6CiAgICAgICAgICBjYXNlICJfIjoKICAgICAgICAgIGNhc2UgInVy");
    sb.append("bCI6CiAgICAgICAgICBjYXNlICJyZWRpcmVjdCI6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg");
    sb.append("Y2FzZSAiaWRlbnRpdHkiOgogICAgICAgICAgICBpZiAodHlwZW9mKHZhbCkgPT0gInN0cmluZyIpIHsK");
    sb.append("ICAgICAgICAgICAgICBpZGVudGl0eSA9IHJ4T2JqW2FyZ107CiAgICAgICAgICAgIH0KICAgICAgICAg");
    sb.append("ICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBhcmdzLnB1c2goYXJnICsgIj0i");
    sb.append("ICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgdXJs");
    sb.append("ID0gcnhPYmoudXJsICsgKGFyZ3MubGVuZ3RoID4gMCA/ICI/IiArIGFyZ3Muam9pbigiJiIpIDogIiIp");
    sb.append("OwogICAgICB0aGlzLmdlbiArKzsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgeGh0dHAg");
    sb.append("PSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLnhodHRwLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLmdl");
    sb.append("biA9PSBzZWxmLmdlbikgewogICAgICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgICAgICBudWtl");
    sb.append("KHBhcmVudCk7CiAgICAgICAgICB2YXIgdHJlZSA9IG5ldyBBZGFtYVRyZWUoKTsKICAgICAgICAgIHZh");
    sb.append("ciBzdGF0ZSA9IHsKICAgICAgICAgICAgc2VydmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNlLAogICAgICAg");
    sb.append("ICAgICBkYXRhOiB7IGNvbm5lY3Rpb246IHByaW9yU3RhdGUuY29ubmVjdGlvbiwgdHJlZTogdHJlZSwg");
    sb.append("ZGVsdGE6IHt9LCBwYXJlbnQ6IG51bGwsIHBhdGg6IG51bGwgfSwKICAgICAgICAgICAgdmlldzogbmV3");
    sb.append("X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgICAgICAgY3VycmVudDogImRhdGEiCiAg");
    sb.append("ICAgICAgICB9OwoKICAgICAgICAgIGlmICh0aGlzLnhodHRwLnN0YXR1cyA9PSAyMDApIHsKICAgICAg");
    sb.append("ICAgICAgdmFyIHR5cGUgPSB0aGlzLnhodHRwLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUi");
    sb.append("KTsKICAgICAgICAgICAgaWYgKHR5cGUgPT0gImFwcGxpY2F0aW9uL2pzb24iKSB7CiAgICAgICAgICAg");
    sb.append("ICAgdmFyIHRvUHVzaCA9IHRyZWUuTWFrZURlbHRhKEpTT04ucGFyc2UodGhpcy54aHR0cC5yZXNwb25z");
    sb.append("ZVRleHQpKTsKICAgICAgICAgICAgICBjaGlsZE1ha2VyRmV0Y2hlZChwYXJlbnQsIHN0YXRlKTsKICAg");
    sb.append("ICAgICAgICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAgICAgICB0cmVl");
    sb.append("LnVwZGF0ZSh0b1B1c2gpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNoaWxkTWFr");
    sb.append("ZXJGYWlsZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRl");
    sb.append("LCB1bnN1Yik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoaWxk");
    sb.append("TWFrZXJGYWlsZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0");
    sb.append("ZSwgdW5zdWIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfS5iaW5kKHtnZW46c2VsZi5nZW4s");
    sb.append("IHhodHRwOnhodHRwfSk7CiAgICAgIHhodHRwLm9wZW4oIkdFVCIsICIvfmQiICsgdXJsLCB0cnVlKTsK");
    sb.append("ICAgICAgaWYgKGlkZW50aXR5ICE9IG51bGwpIHsKICAgICAgICB4aHR0cC5zZXRSZXF1ZXN0SGVhZGVy");
    sb.append("KCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiICsgaWRlbnRpdHkpOwogICAgICB9CiAgICAgIHhodHRw");
    sb.append("LndpdGhDcmVkZW50aWFscyA9IHRydWU7CiAgICAgIHhodHRwLnNlbmQoKTsKICAgIH0uYmluZCh7dXJs");
    sb.append("OiIiLCBnZW46MH0pKTsKICAgIHJ4T2JqLl9fKCk7CiAgfQoKICAvLyBSVU5USU1FIHwgPHBpY2sgbmFt");
    sb.append("ZT0uLi4+CiAgc2VsZi5QID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgcnhPYmosIGNoaWxk");
    sb.append("TWFrZXJDb25uZWN0ZWQsIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQsIGtlZXBPcGVuKSB7CiAgICB2YXIg");
    sb.append("dW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeE9iai5fXyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYg");
    sb.append("KCEoJ25hbWUnIGluIHJ4T2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhp");
    sb.append("cy5uYW1lID09IHJ4T2JqLm5hbWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNv");
    sb.append("ID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4T2JqLm5hbWUpOwogICAgICB0aGlzLm5hbWUgPSByeE9iai5u");
    sb.append("YW1lOwogICAgICBjby5jb25uZWN0ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgaWYgKHRoaXMucmVu");
    sb.append("ZGVyZWQgJiYga2VlcE9wZW4pIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbnVr");
    sb.append("ZShwYXJlbnQpOwogICAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICAgIHZhciBzdGF0ZSA9IHsK");
    sb.append("ICAgICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICAgIGRhdGE6IHsgY29u");
    sb.append("bmVjdGlvbjogY28sIHRyZWU6IGNvLnRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBu");
    sb.append("dWxsIH0sCiAgICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAg");
    sb.append("ICAgICAgY3VycmVudDogImRhdGEiCiAgICAgICAgfTsKICAgICAgICBpZiAoY3MpIHsKICAgICAgICAg");
    sb.append("IHRoaXMucmVuZGVyZWQgPSB0cnVlOwogICAgICAgICAgY2hpbGRNYWtlckNvbm5lY3RlZChwYXJlbnQs");
    sb.append("IHN0YXRlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hpbGRNYWtlckRpc2Nvbm5lY3RlZChw");
    sb.append("YXJlbnQsIHN0YXRlKTsKICAgICAgICB9CiAgICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1");
    sb.append("Yik7CiAgICAgICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgICAgcmV0dXJuIHRy");
    sb.append("dWU7CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICB9LmJpbmQoeyBuYW1lOiAiIiwgcmVuZGVyZWQ6ZmFs");
    sb.append("c2UgfSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0ZW1wbGF0ZSBuYW1lPSIuLi4iPgogIHNlbGYuVFAg");
    sb.append("PSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICB0ZW1wbGF0ZXNbbmFtZV0gPSBmb287CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IDx0YWcgcng6dGVtcGxhdGU9JG5hbWU+CiAgc2VsZi5VVCA9IGZ1bmN0aW9uIChw");
    sb.append("YXJlbnQsIHN0YXRlLCBuYW1lLCBjaGlsZF9tYWtlcikgewogICAgdmFyIGZvbyA9IHRlbXBsYXRlc1tu");
    sb.append("YW1lXTsKICAgIGlmICh0eXBlb2YoZm9vKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvbyhwYXJlbnQs");
    sb.append("IHN0YXRlLCBjaGlsZF9tYWtlcik7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmVycm9yKCJmYWls");
    sb.append("ZWQgdG8gZmluZCB0ZW1wbGF0ZTogIiArIG5hbWUpOwogICAgfQogIH07CgogIC8vIFJVTlRJTUUgfCA8");
    sb.append("dGFnIHJ4OnN3aXRjaD1wYXRoIC4uPgogIHNlbGYuU1cgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0");
    sb.append("YXRlLCBuYW1lLCBjaGlsZHJlbk1ha2VyKSB7CiAgICB2YXIgc3dzdCA9IHsgcHJpb3I6IG51bGwgfTsK");
    sb.append("ICAgIGFkZF91bnN1Yihzd3N0KTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAg");
    sb.append("aWYgKHZhbHVlID09IHRoaXMucHJpb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhp");
    sb.append("cy5wcmlvciA9IHZhbHVlOwogICAgICBmaXJlX3Vuc3ViKHRoaXMpOwogICAgICBudWtlKHBhcmVudCk7");
    sb.append("CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGNoaWxkcmVuTWFrZXIocGFy");
    sb.append("ZW50LCBzZWxmLnBEKHN0YXRlKSwgIiIgKyB2YWx1ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0");
    sb.append("ZSwgdGhpcyk7CgogICAgfS5iaW5kKHN3c3QpOwogICAgc3Vic2NyaWJlKHByaW9yU3RhdGUsIG5hbWUs");
    sb.append("IHN1Yik7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWcgcng6aXRlcmF0ZT1wYXRoIC4uLj4KICBzZWxm");
    sb.append("LklUID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7");
    sb.append("CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2");
    sb.append("YXIgZG9tQnlLZXkgPSB7fTsKICAgIHZhciB2aWV3VW5TdWJCeUtleSA9IHt9OwogICAgdmFyIGtpbGwg");
    sb.append("PSBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB2aWV3VW5TdWJCeUtleSkgewogICAg");
    sb.append("ICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgZGVsZXRlIHZpZXdVblN1");
    sb.append("YkJ5S2V5W2tleV07CiAgICAgIH0KICAgICAgZm9yICh2YXIga2V5IGluIGRvbUJ5S2V5KSB7CiAgICAg");
    sb.append("ICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1YiA9IHsKICAg");
    sb.append("ICAgIisiOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZvcmsoc2VsZi5w");
    sb.append("SUUoaXRfc3RhdGUsIGtleSwgZXhwYW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9IG1ha2VfdW5z");
    sb.append("dWIoKTsKICAgICAgICB2YXIgZG9tID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICBkb21CeUtleVtr");
    sb.append("ZXldID0gZG9tOwogICAgICAgIHZpZXdVblN1YkJ5S2V5W2tleV0gPSB1bnN1YjsKICAgICAgICBwYXJl");
    sb.append("bnREb20uYXBwZW5kKGRvbSk7CiAgICAgICAgdmFyIGl0ZW1fZGVsdGEgPSBuZXdfc3RhdGUuZGF0YS5k");
    sb.append("ZWx0YTsKICAgICAgICBuZXdfc3RhdGUuZGF0YS5kZWx0YSA9IHt9OwogICAgICAgIHN1YnNjcmliZV9z");
    sb.append("dGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewogICAgICAgICAg");
    sb.append("c3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXRoX3RvKG5ld19zdGF0ZS52aWV3LCB7IiRrZXkiOiBrZXl9");
    sb.append("KSk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaXRlbV9kZWx0YTsKICAgICAgfSwKICAgICAgIi0i");
    sb.append("OiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKGtleSBpbiBkb21CeUtleSkgewogICAgICAgICAg");
    sb.append("cGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbUJ5S2V5W2tleV0pOwogICAgICAgICAgZGVsZXRlIGRvbUJ5");
    sb.append("S2V5W2tleV07CiAgICAgICAgfQogICAgICAgIGlmIChrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsKICAg");
    sb.append("ICAgICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgICBkZWxldGUgdmll");
    sb.append("d1VuU3ViQnlLZXlba2V5XTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJ+IjogZnVuY3Rpb24gKG9y");
    sb.append("ZCkgewogICAgICAgIHZhciB2YWx1ZVRvU2V0ID0gZmFsc2U7CiAgICAgICAgLy8gdGhlIHZhbHVlcyBh");
    sb.append("cmUgZmlsbGluZyB1cCBBRlRFciB0aGUgdmFsdWUgd2FzIHNldCwKICAgICAgICAvLyBzbyBkZXRlY3Qg");
    sb.append("dGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhbG9uZyB3aXRoIHRoZSBleGlzdGVuY2Ugb2YgYSB2YWx1ZQog");
    sb.append("ICAgICAgIGlmICghcGFyZW50RG9tLnZhbHVlICYmIHBhcmVudERvbS5yeHZhbHVlICE9ICIiKSB7CiAg");
    sb.append("ICAgICAgICB2YWx1ZVRvU2V0ID0gcGFyZW50RG9tLnJ4dmFsdWU7CiAgICAgICAgICAvLyB0aGlzIHZh");
    sb.append("bHVlLCB3ZSB3YW50IHRvIHJlc3RvcmUgb25jZQogICAgICAgIH0KICAgICAgICBudWtlKHBhcmVudERv");
    sb.append("bSk7CiAgICAgICAgaWYgKG9yZCA9PSBudWxsKSB7CiAgICAgICAgICBraWxsKCk7CiAgICAgICAgICBy");
    sb.append("ZXR1cm47CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb3JkLmxlbmd0aDsgaysr");
    sb.append("KSB7CiAgICAgICAgICBwYXJlbnREb20uYXBwZW5kKGRvbUJ5S2V5W29yZFtrXV0pOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBpZiAodmFsdWVUb1NldCkgewogICAgICAgICAgcGFyZW50RG9tLnZhbHVlID0gdmFsdWVU");
    sb.append("b1NldDsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1");
    sb.append("Yik7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLi4gcng6bW9uaXRvcj0ic3RhdGUtcGF0aCIgcng6");
    sb.append("cmlzZT0iY29tbWFuZHMuLi4iIHJ4OmZhbGw9ImNvbW1hbmRzLi4uIgogIHNlbGYuTU4gPSBmdW5jdGlv");
    sb.append("biAoZG9tLCBzdGF0ZSwgbmFtZSwgc2tpcEZpcnN0LCBkZWxheSkgewogICAgdmFyIHN1YiA9IGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB2");
    sb.append("YXIgbiA9IDA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIG4gPSB0eXBlb2YgKHZhbHVlKSA9PSAnbnVt");
    sb.append("YmVyJyA/IHZhbHVlIDogcGFyc2VJbnQodmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGZhaWxlZFBhcnNp");
    sb.append("bmdOKSB7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmZpcnN0KSB7CiAgICAgICAgICB0aGlzLmF0");
    sb.append("ID0gbjsKICAgICAgICAgIHRoaXMuZmlyc3QgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgaWYgKHRoaXMuYXQgPCBuKSB7CiAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgi");
    sb.append("cmlzZSIpOwogICAgICAgICAgZG9tLmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgfSBlbHNlIGlmICh0");
    sb.append("aGlzLmF0ID4gbikgewogICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnQoImZhbGwiKTsKICAgICAgICAg");
    sb.append("IGRvbS5kaXNwYXRjaEV2ZW50KGUpOwogICAgICAgIH0KICAgICAgICB0aGlzLmF0ID0gbjsKICAgICAg");
    sb.append("fS5iaW5kKHRoaXMpLCB0aGlzLmRlbGF5KTsKICAgIH0uYmluZCh7YXQ6LTEsIGZpcnN0OnNraXBGaXJz");
    sb.append("dCwgZGVsYXk6ZGVsYXkgPyBkZWxheSA6IDEwfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1");
    sb.append("Yik7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLi4gcng6cmVwZWF0PSQ+CiAgc2VsZi5SUCA9IGZ1");
    sb.append("bmN0aW9uIChwYXJlbnREb20sIHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBtYWtlcikgewogICAgdmFy");
    sb.append("IGl0X3N0YXRlID0gc2VsZi5wSUUoc3RhdGUsICIkIiArIG5hbWUsIGV4cGFuZFZpZXcpOwogICAgdmFy");
    sb.append("IHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgbiA9IDA7CiAgICAgIHRyeSB7CiAgICAg");
    sb.append("ICAgbiA9IHR5cGVvZiAodmFsdWUpID09ICdudW1iZXInID8gdmFsdWUgOiBwYXJzZUludCh2YWx1ZSk7");
    sb.append("CiAgICAgIH0gY2F0Y2ggKGZhaWxlZFBhcnNpbmdOKSB7CiAgICAgIH0KICAgICAgd2hpbGUgKHRoaXMu");
    sb.append("YXQgPCBuIC0gMSkgewogICAgICAgIHRoaXMuYXQgKys7CiAgICAgICAgdGhpcy50cmFjayArKzsKICAg");
    sb.append("ICAgICB2YXIgbmV3X3N0YXRlID0gZm9yayhzZWxmLnBJRShpdF9zdGF0ZSwgdGhpcy50cmFjayArICIi");
    sb.append("LCBleHBhbmRWaWV3KSk7CiAgICAgICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgICAgIHZh");
    sb.append("ciBkb20gPSBtYWtlcihzZWxmLnBEKG5ld19zdGF0ZSkpOwogICAgICAgIHRoaXMuaXRlbXNbdGhpcy5h");
    sb.append("dF0gPSB7dW5zdWI6dW5zdWIsIGRvbTpkb219OwogICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tKTsK");
    sb.append("ICAgICAgICBpZiAoZXhwYW5kVmlldykgewogICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShw");
    sb.append("YXRoX3RvKG5ld19zdGF0ZS52aWV3LCB7IiRpbmRleCI6IHRoaXMudHJhY2t9KSk7CiAgICAgICAgfQog");
    sb.append("ICAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgfQogICAgICB3aGls");
    sb.append("ZSAodGhpcy5hdCA+PSBuICYmIHRoaXMuYXQgPj0gMCkgewogICAgICAgIGZpcmVfdW5zdWIodGhpcy5p");
    sb.append("dGVtc1t0aGlzLmF0XS51bnN1Yik7CiAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKHRoaXMuaXRl");
    sb.append("bXNbdGhpcy5hdF0uZG9tKTsKICAgICAgICB0aGlzLml0ZW1zW3RoaXMuYXRdID0gbnVsbDsKICAgICAg");
    sb.append("ICBkZWxldGUgdGhpcy5pdGVtc1t0aGlzLmF0XTsKICAgICAgICB0aGlzLmF0LS07CiAgICAgIH0KICAg");
    sb.append("IH0uYmluZCh7aXRlbXM6W10sIGF0Oi0xLCB0cmFjazowfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5h");
    sb.append("bWUsIHN1Yik7CiAgfQogIHZhciBmaW5kID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsLCBrZXksIHZh");
    sb.append("bHVlKSB7CiAgICBpZiAoY2hhbm5lbCBpbiBzdGF0ZVsiZGF0YSJdLmNvbm5lY3Rpb24ub3V0c3RhbmRp");
    sb.append("bmcpIHsKICAgICAgdmFyIGFyciA9IHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tj");
    sb.append("aGFubmVsXS5vcHRpb25zOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykg");
    sb.append("ewogICAgICAgIHZhciBzID0gYXJyW2tdOwogICAgICAgIGlmIChrZXkgaW4gcyAmJiBzW2tleV0gPT0g");
    sb.append("dmFsdWUpIHsKICAgICAgICAgIHJldHVybiBzOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4g");
    sb.append("bnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIHZhciBjdXN0");
    sb.append("b21zID0ge307CgogIHNlbGYuUFJDVUFDID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9t");
    sb.append("c1tuYW1lXSA9IGZvbzsKICB9OwoKICBzZWxmLmV4Q0MgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0");
    sb.append("ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAg");
    sb.append("Y3VzdG9tc1tjdXN0b21Db21tYW5kTmFtZV0oc3RhdGUsIGRvbSk7CiAgICAgIH0KICAgIH0pOwogIH07");
    sb.append("CgogIC8vIGN1c3RvbSBldmVudCBvbiBmb3Jtczsgcng6c3VjY2Vzcz0iLi4uIgogIHZhciBmaXJlX3N1");
    sb.append("Y2Nlc3MgPSBmdW5jdGlvbiAoZm9ybSkgewogICAgZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgi");
    sb.append("c3VjY2VzcyIpKTsKICAgIGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1Ym1pdHRlZCIpKTsK");
    sb.append("ICB9OwogIHNlbGYuZmlyZV9zdWNjZXNzID0gZmlyZV9zdWNjZXNzOwoKICAvLyBjdXN0b20gZXZlbnQg");
    sb.append("b24gZm9ybXM7IHJ4OmZhaWxlZD0iLi4uIgogIHZhciBmaXJlX2ZhaWx1cmUgPSBmdW5jdGlvbiAoZG9t");
    sb.append("LCBtc2cpIHsKICAgIHZhciBlID0gbmV3IEV2ZW50KCJmYWlsdXJlIik7CiAgICBlLm1lc3NhZ2UgPSBt");
    sb.append("c2c7CiAgICBjb25zb2xlLmVycm9yKG1zZyk7CiAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICB9Owog");
    sb.append("IHNlbGYuZmlyZV9mYWlsdXJlID0gZmlyZV9mYWlsdXJlOwoKICBzZWxmLmFDQyA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAo");
    sb.append("bXNnKSB7CiAgICAgIGlmIChzaWduYWwgPT0gbnVsbCkgewogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3Jt");
    sb.append("KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgbXNnKTsKICAgICAgfQog");
    sb.append("ICAgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewog");
    sb.append("ICAgICBpZiAoY3VzdG9tQ29tbWFuZE5hbWUgaW4gY3VzdG9tcykgewogICAgICAgIGV2dC5wcmV2ZW50");
    sb.append("RGVmYXVsdCgpOwogICAgICAgIHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCB7fSk7CiAgICAgICAgY3Vz");
    sb.append("dG9tc1tjdXN0b21Db21tYW5kTmFtZV0ob2JqLCBzdGF0ZSwgc2lnbmFsLCBzZWxmKTsKICAgICAgICBm");
    sb.append("aXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0s");
    sb.append("ICJGYWlsZWQgdG8gZmluZCAnIiArIGN1c3RvbUNvbW1hbmROYW1lICsgIiciKTsKICAgICAgfQogICAg");
    sb.append("fSwgdHJ1ZSk7CiAgfTsKCiAgdmFyIG1ha2VfY2hvaWNlX2FycmF5ID0gZnVuY3Rpb24gKHN0YXRlLCBj");
    sb.append("aGFubmVsKSB7CiAgICB2YXIgY2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwog");
    sb.append("ICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307");
    sb.append("CiAgICB9CiAgICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgIHZhciBhcnIgPSBbXTsK");
    sb.append("ICAgIGZvciAodmFyIGlkIGluIGNob2ljZSkgewogICAgICBhcnIucHVzaChjaG9pY2VbaWRdKTsKICAg");
    sb.append("IH0KICAgIHJldHVybiBhcnI7CiAgfQoKICBzZWxmLmV4RklOID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwg");
    sb.append("c3RhdGUsIGNoYW5uZWwpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIHZhciBhcnIgPSBtYWtlX2Nob2ljZV9hcnJheShzdGF0ZSwgY2hhbm5lbCk7CiAgICAg");
    sb.append("IHZhciBjbGVhciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxldGUgc3RhdGUuZGF0YS5jb25uZWN0");
    sb.append("aW9uLmNob2ljZXNbY2hhbm5lbF07CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNl");
    sb.append("cyhjaGFubmVsLCB7fSk7CiAgICAgIH07CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2Vu");
    sb.append("ZChjaGFubmVsLCBhcnIsIHsKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAg");
    sb.append("ICAgICBjbGVhcigpOwogICAgICAgICAgY29uc29sZS5sb2coImZhaWxlZDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBjbGVh");
    sb.append("cigpOwogICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxKTsKICAgICAg");
    sb.append("ICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgc2VsZi5GSU4gPSBmdW5jdGlvbiAocGFyZW50LCBw");
    sb.append("cmlvclN0YXRlLCBjaGFubmVsLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNl");
    sb.append("KSB7CiAgICB2YXIgZmluYWxpemUgPSB7CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBm");
    sb.append("YWxzZQogICAgfTsKICAgIGFkZF91bnN1YihmaW5hbGl6ZSk7CgogICAgdmFyIGNoYW5nZSA9IGZ1bmN0");
    sb.append("aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoZmluYWxpemUpOwogICAgICBudWtlKHBhcmVudCk7");
    sb.append("CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91");
    sb.append("bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0");
    sb.append("ZShzdGF0ZSwgZmluYWxpemUpOwogICAgfTsKCiAgICBmaW5hbGl6ZS51cGRhdGUgPSBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tj");
    sb.append("aGFubmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwogICAgICB2YXIgYXJyID0gbWFrZV9jaG9p");
    sb.append("Y2VfYXJyYXkocHJpb3JTdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciByZXN1bHQgPSAoJ21pbicgaW4g");
    sb.append("b3V0ICYmICdtYXgnIGluIG91dCkgPyAob3V0Lm1pbiA8PSBhcnIubGVuZ3RoICYmIGFyci5sZW5ndGgg");
    sb.append("PD0gb3V0Lm1heCkgOiB0cnVlOwogICAgICBpZiAoZmluYWxpemUuZXZhbCAhPSByZXN1bHQpIHsKICAg");
    sb.append("ICAgICBmaW5hbGl6ZS5ldmFsID0gcmVzdWx0OwogICAgICAgIGNoYW5nZShmaW5hbGl6ZS5ldmFsKTsK");
    sb.append("ICAgICAgfQogICAgfTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hv");
    sb.append("aWNlKGNoYW5uZWwsIGZ1bmN0aW9uICgpIHsKICAgICAgZmluYWxpemUudXBkYXRlKCk7CiAgICAgIC8v");
    sb.append("IFRPRE86IHJldHVybiB3aGV0aGVyIG9yIG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0");
    sb.append("dXJuIHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgZm9ybV9vZiA9IGZ1bmN0aW9uKGRvbSkgewogICAg");
    sb.append("dmFyIG5leHQgPSBkb207CiAgICB3aGlsZSAobmV4dCAhPSBudWxsKSB7CiAgICAgIGlmIChuZXh0LnRh");
    sb.append("Z05hbWUudG9VcHBlckNhc2UoKSA9PSAiRk9STSIpIHsKICAgICAgICByZXR1cm4gbmV4dDsKICAgICAg");
    sb.append("fQogICAgICBuZXh0ID0gbmV4dC5wYXJlbnRFbGVtZW50OwogICAgfQogICAgcmV0dXJuIG51bGw7CiAg");
    sb.append("fQoKICB2YXIgcmVnX2V2ZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIHJ1bm5hYmxlKSB7");
    sb.append("CiAgICAvLyBUT0RPOiBjb25uZWN0ZWQvZGlzY29ubmVjdGVkIGFzIHNwZWNpYWwgZXZlbnRzIHRvIGNv");
    sb.append("bnNpZGVyCiAgICBpZiAodHlwZSA9PSAiY2hlY2siIHx8IHR5cGUgPT0gInVuY2hlY2siKSB7CiAgICAg");
    sb.append("IGRvbS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhp");
    sb.append("cy50eXBlID09ICJjaGVjayIgJiYgZG9tLmNoZWNrZWQpIHsKICAgICAgICAgIHJ1bm5hYmxlKCk7CiAg");
    sb.append("ICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gInVuY2hlY2siICYmICFkb20uY2hlY2tlZCkgewog");
    sb.append("ICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh7dHlwZTp0eXBlfSkpOwog");
    sb.append("ICAgfSBlbHNlIGlmICh0eXBlID09ICJsb2FkIikgewogICAgICB3aW5kb3cuc2V0VGltZW91dChydW5u");
    sb.append("YWJsZSwgMSk7CiAgICB9IGVsc2UgaWYgKHR5cGU9PSJzdWJtaXQiIHx8IHR5cGU9PSJzdWJtaXR0ZWQi");
    sb.append("KSB7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBmb3JtID0g");
    sb.append("Zm9ybV9vZihkb20pOwogICAgICAgIGlmIChmb3JtKSB7CiAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlz");
    sb.append("dGVuZXIodHlwZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250");
    sb.append("YWlucyhkb20pKSB7CiAgICAgICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgfSk7CiAgICAgICAgfQogICAgICB9LCAxKTsKICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRo");
    sb.append("KCJkZWxheToiKSkgewogICAgICAvLyBkZWxheSB3aWxsIHJ1biBhZnRlciAkZGVsYXlUaW1lTVMgSUYg");
    sb.append("dGhlIGRvbSBlbGVtZW50IGlzIHN0aWxsIHZpc2libGUgdG8gdGhlIGRvY3VtZW50CiAgICAgIHZhciBk");
    sb.append("ZWxheVRpbWVNUyA9IHBhcnNlSW50KHR5cGUuc3Vic3RyaW5nKDYpKTsKICAgICAgd2luZG93LnNldFRp");
    sb.append("bWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKSkg");
    sb.append("ewogICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICB9CiAgICAgIH0sIGRlbGF5VGltZU1TKTsKICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgIGlmICh0eXBlID09ICJjbGljayIpIHsKICAgICAgICBkb20uYWRkRXZlbnRM");
    sb.append("aXN0ZW5lcih0eXBlLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgdmFyIGZpcmUgPSB0cnVlOwog");
    sb.append("ICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIGVsID0gZXZlbnQudGFyZ2V0OwogICAgICAgICAg");
    sb.append("ICB3aGlsZSAoZWwgJiYgZmlyZSkgewogICAgICAgICAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ3By");
    sb.append("ZXZlbnQ6Y2xpY2snKSkgewogICAgICAgICAgICAgICAgZmlyZSA9IGZhbHNlOwogICAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIH0gY2F0Y2ggKGV4KSB7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZmlyZSkgewogICAgICAg");
    sb.append("ICAgICBydW5uYWJsZSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAg");
    sb.append("ICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHJ1bm5hYmxlKTsKICAgICAgfQogICAgfQogIH0K");
    sb.append("CgoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gc2V0Om5hbWU9dmFsdWUgLi4uIj4K");
    sb.append("ICBzZWxmLmJTID0gZnVuY3Rpb24gKGRvbSwgc3RhdGUsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlw");
    sb.append("ZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICByZXR1cm4gewogICAgICAgIHJ1bjogZnVu");
    sb.append("Y3Rpb24oKSB7fSwgLy8gZG8gbm90aGluZywgdGhpcyBpcyBhIHNpbXBsZSBtZXJnZQogICAgICAgIG1l");
    sb.append("cmdlOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIG9ialtuYW1l");
    sb.append("XSA9IHZhbHVlKCk7CiAgICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7");
    sb.append("CiAgICAgICAgICByZXR1cm4gZGVsdGE7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAg");
    sb.append("ICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBw");
    sb.append("YXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuOiBmdW5jdGlv");
    sb.append("bigpIHt9LCAvLyBkbyBub3RoaW5nLCB0aGlzIGlzIGEgc2ltcGxlIG1lcmdlCiAgICAgICAgbWVyZ2U6");
    sb.append("IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVsdGE7IH0KICAgICAgfQogICAgfQogIH07CgogIHZhciBtZXJn");
    sb.append("ZV9kZWx0YSA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgIGlmICh0eXBlb2YoYSkgPT0gIm9iamVjdCIgJiYg");
    sb.append("dHlwZW9mKGIpID09ICJvYmplY3QiKSB7CiAgICAgIHZhciByZXN1bHQgPSB7fTsKICAgICAgZm9yICh2");
    sb.append("YXIgayBpbiBhKSB7CiAgICAgICAgaWYgKGsgaW4gYikgewogICAgICAgICAgcmVzdWx0W2tdID0gbWVy");
    sb.append("Z2VfZGVsdGEoYVtrXSwgYltrXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdFtrXSA9");
    sb.append("IGFba107CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvcih2YXIgayBpbiBiKSB7CiAgICAgICAgaWYg");
    sb.append("KCEoayBpbiBhKSkgewogICAgICAgICAgcmVzdWx0W2tdID0gYltrXTsKICAgICAgICB9CiAgICAgIH0K");
    sb.append("ICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIHJldHVybiBhOwogIH07CiAgc2VsZi5NRCA9IG1l");
    sb.append("cmdlX2RlbHRhOwoKICBzZWxmLm9uQiA9IGZ1bmN0aW9uKGRvbSwgdHlwZSwgc3RhdGUsIGFycikgewog");
    sb.append("ICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgc3VtID0g");
    sb.append("e307CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXJyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFy");
    sb.append("IGNtZCA9IGFycltrXTsKICAgICAgICBjbWQucnVuKCk7CiAgICAgICAgdmFyIHRvTWVyZ2UgPSBjbWQu");
    sb.append("bWVyZ2UoKQogICAgICAgIHN1bSA9IG1lcmdlX2RlbHRhKHN1bSwgdG9NZXJnZSk7CiAgICAgIH0KICAg");
    sb.append("ICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShzdW0pOwogICAgfSk7CiAgfTsKCiAgLy8gY2hvb3NlCiAg");
    sb.append("c2VsZi5leENIID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkg");
    sb.append("ewogICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9t");
    sb.append("LCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVs");
    sb.append("LCBrZXksIGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIHZh");
    sb.append("ciBjaG9pY2VzID0gc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXM7CiAgICAgICAgaWYgKCEoY2hh");
    sb.append("bm5lbCBpbiBjaG9pY2VzKSkgewogICAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICAg");
    sb.append("IH0KICAgICAgICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgICAgICB2YXIgdmFsS2V5");
    sb.append("ID0gcmVzdWx0W2tleV07CiAgICAgICAgaWYgKHZhbEtleSBpbiBjaG9pY2UpIHsKICAgICAgICAgIGRl");
    sb.append("bGV0ZSBjaG9pY2VbdmFsS2V5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hvaWNlW3ZhbEtl");
    sb.append("eV0gPSByZXN1bHQ7CiAgICAgICAgfQogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2lj");
    sb.append("ZXMoY2hhbm5lbCwgY2hvaWNlKTsKICAgICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5h");
    sb.append("bWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIGRlY2lkZQogIHNlbGYuZXhEID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5h");
    sb.append("bWUsIGNoYW5uZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJl");
    sb.append("Z19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBm");
    sb.append("aW5kKHN0YXRlLCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0g");
    sb.append("bnVsbCkgewogICAgICAgIGxldCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIHN0YXRl");
    sb.append("LmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCByZXN1bHQsIHsKICAgICAgICAgIGZhaWx1");
    sb.append("cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKCiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVu");
    sb.append("Y3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxv");
    sb.append("YWQuc2VxICsgIjtsYXRlbmN5PSIgKyAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkpOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwg");
    sb.append("ZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIGZpcmU6Y2hhbm5lbCAuLi4iIC4uLj4K");
    sb.append("ICBzZWxmLm9uRlIgPSBmdW5jdGlvbiAoc3RhdGUsIGRvbSwgdHlwZSwgY2hhbm5lbCkgewogICAgcmVn");
    sb.append("X2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgc3RhdGUuZGF0YS5jb25u");
    sb.append("ZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIHt9LCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgICAgY29uc29sZS5sb2coIlNFTlQgJyIgKyBjaGFubmVsICsgIiciKTsKICAgICAgICB9");
    sb.append("LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUubG9n");
    sb.append("KCJGQUlMRUQgVE8gRklSRSAnIiArIGNoYW5uZWwgKyAiJyBEVUU6IiArIHJlYXNvbik7ICcnCiAgICAg");
    sb.append("ICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0i");
    sb.append("Li4uIGZvcmNlLWF1dGg9bmFtZSx0b2tlbiAuLi4iPgogIHNlbGYub25GT1JDRV9BVVRIID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdHlwZSwgaWRlbnRpdHlOYW1lLCBpZGVudGl0eSkgewogICAgcmVnX2V2ZW50KG51bGws");
    sb.append("IGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBp");
    sb.append("ZGVudGl0eTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5h");
    sb.append("bWUsIGlkZW50aXR5KTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9");
    sb.append("Ii4uLiBzZXQ6bmFtZT12YWx1ZSAuLi4iPgogIHNlbGYub25TID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwg");
    sb.append("c3RhdGUsIG5hbWUsIHZhbHVlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVu");
    sb.append("Y3Rpb24iKSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRl");
    sb.append("LnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsK");
    sb.append("ICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0ZTpuYW1lIC4u");
    sb.append("LiI+CiAgc2VsZi5vblRNID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIG94LCBveSkg");
    sb.append("ewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2");
    sb.append("YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IHsKICAgICAgICB4OmV2ZW50LmNsaWVudFggKyB3");
    sb.append("aW5kb3cuc2Nyb2xsWCArIG94LAogICAgICAgIHk6ZXZlbnQuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZ");
    sb.append("ICsgb3kKICAgICAgfTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwog");
    sb.append("ICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoK");
    sb.append("ICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gdGU6bmFtZSAuLi4iPgogIHNlbGYub25U");
    sb.append("RSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lKSB7CiAgICByZWdfZXZlbnQoc3RhdGUs");
    sb.append("IGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2Jq");
    sb.append("W25hbWVdID0gZXZlbnQubWVzc2FnZTsKICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHsKICAgICAgICB2");
    sb.append("YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgICAgc3RhdGVbc3RhdGUuY3Vy");
    sb.append("cmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("OiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gcmVzZXQgLi4uIj4KICBzZWxmLm9SU1QgPSBmdW5jdGlvbiAo");
    sb.append("ZG9tLCB0eXBlLCBzdGF0ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9u");
    sb.append("IChldmVudCkgewogICAgICB2YXIgZiA9IGZvcm1fb2YoZG9tKTsKICAgICAgaWYgKGYgIT0gbnVsbCkg");
    sb.append("ewogICAgICAgIGYucmVzZXQoKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRh");
    sb.append("ZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAgc2VsZi5vUkxEID0gZnVuY3Rpb24gKGRvbSwg");
    sb.append("dHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZl");
    sb.append("bnQpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8");
    sb.append("dGFnIC4uIHJ4OmV2ZW50PSIuLi4gc3VibWl0IC4uLiI+CiAgc2VsZi5vU0JNVCA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHR5cGUsIHN0YXRlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24g");
    sb.append("KGV2ZW50KSB7CiAgICAgIHZhciBmID0gZm9ybV9vZihkb20pOwogICAgICBpZiAoZiAhPSBudWxsKSB7");
    sb.append("CiAgICAgICAgdmFyIGUgPSBuZXcgU3VibWl0RXZlbnQoJ3N1Ym1pdCcsIHsKICAgICAgICAgICdidWJi");
    sb.append("bGVzJyAgICA6IHRydWUsCiAgICAgICAgICAnY2FuY2VsYWJsZScgOiB0cnVlCiAgICAgICAgfSk7CiAg");
    sb.append("ICAgICAgZi5kaXNwYXRjaEV2ZW50KGUpOwogICAgICB9CiAgICB9KTsKICB9OwoKICBzZWxmLm9OSyA9");
    sb.append("IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlw");
    sb.append("ZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBjdXIgPSBkb207CiAgICAgIHdoaWxlIChjdXIu");
    sb.append("dGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9ICJOVUNMRUFSIikgewogICAgICAgIGN1ciA9IGN1ci5wYXJl");
    sb.append("bnRFbGVtZW50OwogICAgICB9CiAgICAgIGlmIChjdXIgIT0gbnVsbCkgewogICAgICAgIG51a2UoY3Vy");
    sb.append("KTsKICAgICAgfQogICAgfSk7CiAgfTsKCgogIHNlbGYub1VDSyA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7");
    sb.append("CiAgICAgIGRvbS5jaGVja2VkID0gZmFsc2U7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFn");
    sb.append("IC4uIHJ4OmV2ZW50PSIuLi4gZ290bzp1cmkgLi4uIj4KICBzZWxmLm9uR08gPSBmdW5jdGlvbiAoZG9t");
    sb.append("LCB0eXBlLCBzdGF0ZSwgdmFsdWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIHZhciB1cmkgPSAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgPyB2");
    sb.append("YWx1ZSgpIDogdmFsdWU7CiAgICAgIHNlbGYuZ290byh1cmksIGZhbHNlKTsKICAgIH0pOwogIH07Cgog");
    sb.append("IC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0b2dnbGU6bmFtZSAuLi4iPgogIHNlbGYu");
    sb.append("b25UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHZhciBjYXB0dXJlZCA9");
    sb.append("IHsgdmFsdWU6IGZhbHNlIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9ICFjYXB0dXJlZC52YWx1ZTsK");
    sb.append("ICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3");
    sb.append("LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5j");
    sb.append("dGlvbiAodmFsdWUpIHsKICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZSA9PSB0cnVlOwogICAgfSk7");
    sb.append("CiAgfTsKCiAgdmFyIG9yZGVyX3RvZ2dsZSA9IGZ1bmN0aW9uKHByaW9yLCB2YWwpIHsKICAgIHZhciBw");
    sb.append("YXJ0cyA9IHByaW9yLnNwbGl0KCIsIik7CiAgICB2YXIgcHJlZml4ID0gJyc7CiAgICB2YXIgbmV4dCA9");
    sb.append("IFsiIl07CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBhcnRzLmxlbmd0aDsgaysrKSB7CiAgICAgIGlm");
    sb.append("IChwYXJ0c1trXSA9PSAiIikgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IGVsc2UgaWYgKHZhbCA9");
    sb.append("PSBwYXJ0c1trXSkgewogICAgICAgIHByZWZpeCA9ICctJzsKICAgICAgfSBlbHNlIGlmICgiLSIgKyB2");
    sb.append("YWwgPT1wYXJ0c1trXSkgewogICAgICAgIHByZWZpeCA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("IG5leHQucHVzaChwYXJ0c1trXSk7CiAgICAgIH0KICAgIH0KICAgIG5leHRbMF0gPSBwcmVmaXggKyB2");
    sb.append("YWw7CiAgICByZXR1cm4gbmV4dC5qb2luKCIsIik7CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4");
    sb.append("OmV2ZW50PSIuLi4gb3JkZXItdG9nZ2xlOm5hbWU9dmFsIC4uLiI+CiAgc2VsZi5vbk9UID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIHZhbCkgewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1");
    sb.append("ZTogIiIgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gb3JkZXJfdG9nZ2xlKGNhcHR1cmVkLnZhbHVl");
    sb.append("LCB2YWwpOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0");
    sb.append("YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJl");
    sb.append("KHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1");
    sb.append("ZTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBkZWx0YTpu");
    sb.append("YW1lPWRpZmYiIC4uLiI+CiAgc2VsZi5vbkQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFt");
    sb.append("ZSwgZGlmZikgewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogMCB9OwogICAgcmVnX2V2ZW50KHN0");
    sb.append("YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpb");
    sb.append("bmFtZV0gPSBjYXB0dXJlZC52YWx1ZSArIGRpZmY7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3Rh");
    sb.append("dGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAg");
    sb.append("ICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gIm51bWJlciIpIHsKICAgICAgICBjYXB0dXJlZC52YWx1ZSA9");
    sb.append("IHZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHZhbHVlKTsK");
    sb.append("ICAgICAgICBpZiAoIWlzTmFOKHZhbCkpIHsKICAgICAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsOwog");
    sb.append("ICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfTsKICBzZWxmLkNTRU4gPSBmdW5jdGlvbiAocGFyZW50");
    sb.append("LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5uZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9leHBh");
    sb.append("bmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGNob3NlbiA9IHsKICAgICAgdmFsdWU6");
    sb.append("ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6IG51");
    sb.append("bGwKICAgIH07CiAgICBhZGRfdW5zdWIoY2hvc2VuKTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAo");
    sb.append("c2hvdykgewogICAgICBmaXJlX3Vuc3ViKGNob3Nlbik7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAg");
    sb.append("dmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7");
    sb.append("CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG1h");
    sb.append("a2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRl");
    sb.append("LCBjaG9zZW4pOwogICAgfTsKCiAgICBjaG9zZW4udXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2");
    sb.append("YXIgb3V0ID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF07CiAg");
    sb.append("ICAgIGlmICghKG91dCkpIHJldHVybjsKCiAgICAgIHZhciBjaG9pY2VzID0gcHJpb3JTdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24uY2hvaWNlczsKICAgICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAg");
    sb.append("ICAgIGNob2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgICAgfQogICAgICB2YXIgY2hvaWNlID0gY2hvaWNl");
    sb.append("c1tjaGFubmVsXTsKICAgICAgdmFyIHJlc3VsdCA9IGNob3Nlbi52YWx1ZSBpbiBjaG9pY2U7CiAgICAg");
    sb.append("IGlmIChjaG9zZW4uZXZhbCAhPSByZXN1bHQpIHsKICAgICAgICBjaG9zZW4uZXZhbCA9IHJlc3VsdDsK");
    sb.append("ICAgICAgICBjaGFuZ2UoY2hvc2VuLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUu");
    sb.append("ZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZV9jaG9pY2UoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICBjaG9zZW4udXBkYXRlKCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJl");
    sb.append("KGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGNob3Nlbi52YWx1ZSA9IHZh");
    sb.append("bHVlOwogICAgICBjaG9zZW4udXBkYXRlKCk7CiAgICB9KTsKICB9OwoKICBzZWxmLkRFID0gZnVuY3Rp");
    sb.append("b24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgZXZhbFN0YXRlLCBjaGFubmVsLCBrZXksIG5hbWUsIHNob3Vs");
    sb.append("ZEJlLCBfZXhwYW5kLCBtYWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHZhciBkZWNpZGUgPSB7CiAg");
    sb.append("ICAgIHZhbHVlOiAiIiwKICAgICAgb3duZXI6IHBhcmVudCwKICAgICAgc2hvd246IGZhbHNlLAogICAg");
    sb.append("ICBldmFsOiBudWxsCiAgICB9OwogICAgYWRkX3Vuc3ViKGRlY2lkZSk7CiAgICB2YXIgY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihkZWNpZGUpOwogICAgICBudWtlKHBhcmVu");
    sb.append("dCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBz");
    sb.append("aG91bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9z");
    sb.append("dGF0ZShzdGF0ZSwgZGVjaWRlKTsKICAgIH07CgogICAgZGVjaWRlLnVwZGF0ZSA9IGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgdmFyIHJlc3VsdCA9IGZpbmQocHJpb3JTdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUu");
    sb.append("dmFsdWUpICE9IG51bGw7CiAgICAgIGlmIChkZWNpZGUuZXZhbCAhPSByZXN1bHQpIHsKICAgICAgICBk");
    sb.append("ZWNpZGUuZXZhbCA9IHJlc3VsdDsKICAgICAgICBjaGFuZ2UoZGVjaWRlLmV2YWwpOwogICAgICB9CiAg");
    sb.append("ICB9OwoKICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZShjaGFubmVsLCBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIGRlY2lkZS51cGRhdGUoKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIHdoZXRo");
    sb.append("ZXIgb3Igbm90IHRoaXMgbmVlZHMgdG8gYmUgYXhlZAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwoK");
    sb.append("ICAgIHN1YnNjcmliZShldmFsU3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNp");
    sb.append("ZGUudmFsdWUgPSB2YWx1ZTsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAgfSk7CiAgfTsKCiAgdmFy");
    sb.append("IGNvbW1vbklmID0gZnVuY3Rpb24ocGFyZW50LCBvcmlnaW5hbFN0YXRlLCBzaG91bGRCZSwgZXhwYW5k");
    sb.append("VmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhpZGluZykgewogICAgdmFyIHVuc3ViID0g");
    sb.append("bWFrZV91bnN1YigpOwogICAgaWYgKGZvcmNlSGlkaW5nKSB7CiAgICAgIHBhcmVudC5zdHlsZS5kaXNw");
    sb.append("bGF5ID0gIm5vbmUiOwogICAgfQogICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIg");
    sb.append("c2hvdyA9ICh2YWx1ZSA/IHRydWUgOiBmYWxzZSkgPT09IHNob3VsZEJlOwogICAgICBpZiAodGhpcy5z");
    sb.append("aG93biA9PSBzaG93KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2hvd24gPSBz");
    sb.append("aG93OwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICB2YXIg");
    sb.append("bmV4dCA9IHNlbGYucEQoZm9yayhvcmlnaW5hbFN0YXRlKSk7CiAgICAgIGlmIChzaG93KSB7CiAgICAg");
    sb.append("ICAgaWYgKGZvcmNlSGlkaW5nKSB7CiAgICAgICAgICBwYXJlbnQuc3R5bGUuZGlzcGxheSA9ICIiOwog");
    sb.append("ICAgICAgIH0KICAgICAgICBtYWtlclRydWUocGFyZW50LCBuZXh0KTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAgICAgICAgIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0gIm5v");
    sb.append("bmUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtYWtlckZhbHNlKHBhcmVudCwgbmV4dCk7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXh0LCB1bnN1Yik7CiAgICB9LmJp");
    sb.append("bmQoeyBzaG93bjogJ25vJyB9KTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDppZiAvIHJ4Omlmbm90ID0g");
    sb.append("InBhdGgxPXBhdGgyIgogIHNlbGYuSUZlcSA9IGZ1bmN0aW9uIChwYXJlbnQsIG9yaWdpbmFsU3RhdGUs");
    sb.append("IHF1ZXJ5U3RhdGVMZWZ0LCBuYW1lTGVmdCwgcXVlcnlTdGF0ZVJpZ2h0LCBuYW1lUmlnaHQsIHNob3Vs");
    sb.append("ZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5nKSB7CiAgICB2");
    sb.append("YXIgY29tbW9uID0ge2xlZnQ6ZmFsc2UsIHJpZ2h0OnRydWV9OwogICAgY29tbW9uLnMgPSBjb21tb25J");
    sb.append("ZihwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1h");
    sb.append("a2VyRmFsc2UsIGZvcmNlSGlkaW5nKTsKICAgIGNvbW1vbi5rID0gZGVib3VuY2UoNSwgZnVuY3Rpb24o");
    sb.append("KSB7CiAgICAgIHRoaXMucyh0aGlzLmxlZnQgPT0gdGhpcy5yaWdodCk7CiAgICB9LmJpbmQoY29tbW9u");
    sb.append("KSk7CiAgICBzdWJzY3JpYmUocXVlcnlTdGF0ZUxlZnQsIG5hbWVMZWZ0LCBmdW5jdGlvbiAobGVmdCkg");
    sb.append("ewogICAgICB0aGlzLmxlZnQgPSBsZWZ0OwogICAgICB0aGlzLmsoKTsKICAgIH0uYmluZChjb21tb24p");
    sb.append("KQogICAgc3Vic2NyaWJlKHF1ZXJ5U3RhdGVSaWdodCwgbmFtZVJpZ2h0LCBmdW5jdGlvbiAocmlnaHQp");
    sb.append("IHsKICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0OwogICAgICB0aGlzLmsoKTsKICAgIH0uYmluZChjb21t");
    sb.append("b24pKTsKICB9OwoKICAvKiogdGhlIGFib3ZlIHNwZWFrcyB0byBhIGRlZXAgcGF0dGVybi4gV2UgY291");
    sb.append("bGQgdGFrZSBhbnkgZXhwcmVzc2lvbiBhbmQgdGhlbiBsaW5lYXJpemUgaXQgaW50byByZWFjdGl2ZSBw");
    sb.append("YXJ0cywgYW5kIHRoZW4gYXNzZW1ibGUgYSBzdGF0ZW1lbnQgc3RhdGVtZW50IG9uIHRoZSBmbHkuIFdl");
    sb.append("IHNob3VsZCBsb29rIGludG8gdXNpbmcgdGhlIGNvbmRpdGlvbiBsYW5ndWFnZSBmb3IgdGhpcyAqLwoK");
    sb.append("ICAvLyBSVU5USU1FIHwgcng6aWYgLyByeDppZm5vdCA9ICJwYXRoIgogIHNlbGYuSUYgPSBmdW5jdGlv");
    sb.append("biAocGFyZW50LCBvcmlnaW5hbFN0YXRlLCBxdWVyeVN0YXRlLCBuYW1lLCBzaG91bGRCZSwgZXhwYW5k");
    sb.append("VmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhpZGluZykgewogICAgc3Vic2NyaWJlKHF1");
    sb.append("ZXJ5U3RhdGUsIG5hbWUsIGNvbW1vbklmKHBhcmVudCwgb3JpZ2luYWxTdGF0ZSwgc2hvdWxkQmUsIGV4");
    sb.append("cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSwgZm9yY2VIaWRpbmcpKTsKICB9OwoKICAvLy8g");
    sb.append("UlVOVElNRSB8IHJ4OmFjdGlvbj1jb3B5OnBhdGgKICBzZWxmLmFDUCA9IGZ1bmN0aW9uIChmb3JtLCBz");
    sb.append("dGF0ZSwgbmFtZSkgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAo");
    sb.append("ZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgb2JqID0gZ2V0X2Zvcm0o");
    sb.append("Zm9ybSwge30pOwogICAgICBpZiAobmFtZSAhPSAiLiIgJiYgbmFtZSAhPSAiIikgewogICAgICAgIHZh");
    sb.append("ciBubyA9IHt9OwogICAgICAgIG5vW25hbWVdID0gb2JqOwogICAgICAgIG9iaiA9IG5vOwogICAgICB9");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGUudmll");
    sb.append("dy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgIH0sIHRydWUp");
    sb.append("OwogIH07CgogIHNlbGYuVlNQID0gZnVuY3Rpb24oc3RhdGUsIHZhcnMpIHsKICAgIHZhciBzbSA9IHt9");
    sb.append("OwogICAgc20udmFycyA9IHZhcnM7CiAgICBzbS5sYXN0ID0ge307CiAgICBzbS5wYXJhbXMgPSAiIjsK");
    sb.append("ICAgIHNtLm1vZGUgPSAicmVwbGFjZSI7CiAgICBzbS5waW5nID0gZGVib3VuY2UoNSwgZnVuY3Rpb24o");
    sb.append("KSB7CiAgICAgIHZhciBhcmdzID0gW107CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy52YXJz");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFyIGFyZyA9IHRoaXMudmFyc1trXTsKICAgICAgICBpZiAo");
    sb.append("YXJnIGluIHRoaXMubGFzdCkgewogICAgICAgICAgYXJncy5wdXNoKGFyZyArICI9IiArIHRoaXMubGFz");
    sb.append("dFthcmddKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIHJlc3VsdCA9ICI/IiArYXJncy5qb2lu");
    sb.append("KCImIik7CiAgICAgIGlmIChyZXN1bHQgIT0gIj8iICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT09");
    sb.append("IHJlc3VsdCkgewogICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICBvYmoudmlld2VyX3NlYXJjaF9x");
    sb.append("dWVyeSA9IHJlc3VsdDsKICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7");
    sb.append("CiAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgICAgd2luZG93Lmhpc3Rv");
    sb.append("cnkucmVwbGFjZVN0YXRlKHt9LCAiIiwgZml4SHJlZih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyBy");
    sb.append("ZXN1bHQpKTsKICAgICAgfQogICAgfS5iaW5kKHNtKSk7CiAgICBzdGF0ZS52aWV3LnRyZWUuc3Vic2Ny");
    sb.append("aWJlKGZ1bmN0aW9uKHMpIHsKICAgICAgdGhpcy5sYXN0ID0gczsKICAgICAgdGhpcy5waW5nKCk7CiAg");
    sb.append("ICB9LmJpbmQoc20pKTsKICB9OwoKICBzZWxmLkYgPSBmdW5jdGlvbihvLGspIHsKICAgIGlmIChrIGlu");
    sb.append("IG8pIHsKICAgICAgcmV0dXJuIG9ba107CiAgICB9CiAgICByZXR1cm4gIiI7CiAgfTsKCiAgLy8gUlVO");
    sb.append("VElNRSB8IDxpbnB1dCAuLi4gcng6c3luYz1wYXRoIC4uLj4KICBzZWxmLlNZID0gZnVuY3Rpb24gKGVs");
    sb.append("LCBzdGF0ZSwgbmFtZSwgbXMpIHsKICAgIHZhciB0eXBlID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBl");
    sb.append("LnRvVXBwZXJDYXNlKCkgOiAidGV4dCI7CiAgICB2YXIgc2lnbmFsID0gZnVuY3Rpb24gKHZhbHVlKSB7");
    sb.append("CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHZhciBkZWx0");
    sb.append("YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShk");
    sb.append("ZWx0YSk7CiAgICAgIGlmICh0aGlzLmRlZHVwZSAhPSB2YWx1ZSkgewogICAgICAgIHRoaXMuZGVkdXBl");
    sb.append("ID0gdmFsdWU7CiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImFmdGVyc3luYyIpKTsK");
    sb.append("ICAgICAgfQogICAgfS5iaW5kKHtkZWR1cGU6IiJ9KTsKICAgIGlmICh0eXBlID09ICJDSEVDS0JPWCIp");
    sb.append("IHsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZGVib3VuY2UobXMsIGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgICBzaWduYWwoZWwuY2hlY2tlZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0pKTsK");
    sb.append("ICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNpZ25hbChlbC5jaGVj");
    sb.append("a2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSwgMSk7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJB");
    sb.append("RElPIikgewogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBkZWJvdW5jZShtcywgZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIGlmIChlbC5jaGVja2VkKSB7CiAgICAgICAgICBzaWduYWwoZWwudmFs");
    sb.append("dWUpOwogICAgICAgIH0KICAgICAgfSkpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGYgPSBkZWJvdW5j");
    sb.append("ZShtcywgZnVuY3Rpb24gKCkgewogICAgICAgIHNpZ25hbChlbC52YWx1ZSk7CiAgICAgIH0pOwogICAg");
    sb.append("ICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmKTsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5l");
    sb.append("cigna2V5dXAnLCBmKQogICAgICBlbC5vbmtleXVwID0gZWwub25jaGFuZ2U7CiAgICAgIHdpbmRvdy5z");
    sb.append("ZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICB9LCA1");
    sb.append("KTsKICAgIH0KICB9OwoKICB2YXIgZmlyc3RPY2N1ciA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgIGlmIChh");
    sb.append("ID4gMCAmJiBiID4gMCkgewogICAgICByZXR1cm4gTWF0aC5taW4oYSwgYik7CiAgICB9CiAgICBpZiAo");
    sb.append("YSA+IDApIHsKICAgICAgcmV0dXJuIGE7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gYjsKICAgIH0K");
    sb.append("ICB9OwogIC8vIEhFTFBFUiB8IGV4dHJhY3QgYWxsIHRoZSBpbnB1dHMgZnJvbSB0aGUgZ2l2ZW4gZWxl");
    sb.append("bWVudCBhbmQgYnVpbGQgYW4gb2JqZWN0CiAgdmFyIGJ1aWxkX29iaiA9IGZ1bmN0aW9uIChlbCwgb2Jq");
    sb.append("VG9JbnNlcnRJbnRvLCBwYXNzd29yZHMsIGlzUm9vdCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBl");
    sb.append("ckNhc2UoKSA9PSAiRk9STSIgJiYgIWlzUm9vdCkgewogICAgICAvLyBkb24ndCBjYXJlIGFib3V0IG5l");
    sb.append("c3RlZCBmb3JtcwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgdXBwZXJUYWcgPSBlbC50YWdOYW1l");
    sb.append("LnRvVXBwZXJDYXNlKCk7CiAgICB2YXIganVzdFNldCA9IHVwcGVyVGFnID09ICJURVhUQVJFQSIgfHwg");
    sb.append("dXBwZXJUYWcgPT0gIlNFTEVDVCI7CiAgICB2YXIgaXNJbnB1dEJveCA9IHVwcGVyVGFnID09ICJJTlBV");
    sb.append("VCI7CiAgICB2YXIgaXNGaWVsZFNldCA9IHVwcGVyVGFnID09ICJGSUVMRFNFVCI7CiAgICB2YXIgaXNQ");
    sb.append("dWxsID0gdXBwZXJUYWcgPT0gIlBVTExWQUxVRSI7CiAgICB2YXIgaGFzTmFtZSA9ICJuYW1lIiBpbiBl");
    sb.append("bDsKICAgIHZhciBpbnNlcnRBdCA9IG9ialRvSW5zZXJ0SW50bzsKICAgIC8vIHRoZSBhcHBseSBmdW5j");
    sb.append("dGlvbiBpcyBob3cgd2UgaW5qZWN0IHRoZSB2YWx1ZSBpbnRvIHRoZSBvYmplY3QKICAgIHZhciBhcHBs");
    sb.append("eSA9IGZ1bmN0aW9uICh2YWwpIHsgfTsKCiAgICB2YXIgbmFtZSA9ICIiOwogICAgaWYgKGhhc05hbWUg");
    sb.append("JiYgKGp1c3RTZXQgfHwgaXNJbnB1dEJveCB8fCBpc0ZpZWxkU2V0IHx8IGlzUHVsbCkpIHsKICAgICAg");
    sb.append("bmFtZSA9IGVsLm5hbWU7CiAgICAgIGlmIChuYW1lID09ICIiKSB7IC8vIHRoaXMgaXMgYSBzcGVjaWFs");
    sb.append("IG5hbWUgZm9yIHRoaW5ncyB0aGF0IGRvbid0IGdldCBwaWNrZWQgdXAKICAgICAgICByZXR1cm47CiAg");
    sb.append("ICAgIH0KICAgICAgdmFyIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwg");
    sb.append("bmFtZS5pbmRleE9mKCcvJykpOwogICAgICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAg");
    sb.append("dmFyIHBhciA9IG5hbWUuc3Vic3RyaW5nKDAsIGtEb3RPclNsYXNoKTsKICAgICAgICBpZiAoIShwYXIg");
    sb.append("aW4gaW5zZXJ0QXQpKSB7CiAgICAgICAgICBpbnNlcnRBdFtwYXJdID0ge307CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGluc2VydEF0ID0gaW5zZXJ0QXRbcGFyXTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmco");
    sb.append("a0RvdE9yU2xhc2ggKyAxKTsKICAgICAgICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRl");
    sb.append("eE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUuZW5kc1dp");
    sb.append("dGgoIisiKSkgewogICAgICAgIC8vIGhlcmUsIHdlIHB1c2ggdGhlIHZhbHVlIGludG8gdGhlIGFycmF5");
    sb.append("CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSk7CiAgICAgICAg");
    sb.append("YXBwbHkgPSBmdW5jdGlvbiAodikgewogICAgICAgICAgaWYgKCEobmFtZSBpbiBpbnNlcnRBdCkpIHsK");
    sb.append("ICAgICAgICAgICAgaW5zZXJ0QXRbbmFtZV0gPSBbdl07CiAgICAgICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("ICAgICBpbnNlcnRBdFtuYW1lXS5wdXNoKHYpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgLy8gaGVyZSB3ZSBzZXQgdGhlIG9iamVjdAogICAgICAgIGFwcGx5ID0gZnVu");
    sb.append("Y3Rpb24gKHYpIHsKICAgICAgICAgIGluc2VydEF0W25hbWVdID0gdjsKICAgICAgICB9OwogICAgICB9");
    sb.append("CiAgICB9CgogICAgaWYgKGlzUHVsbCkgewogICAgICBhcHBseShlbC5wdWxsKCkpOwogICAgICByZXR1");
    sb.append("cm47CiAgICB9CgogICAgaWYgKGp1c3RTZXQpIHsKICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgfSBl");
    sb.append("bHNlIGlmIChpc0ZpZWxkU2V0KSB7CiAgICAgIHZhciBuZXh0T2JqZWN0ID0ge307CiAgICAgIGlmICgi");
    sb.append("Y2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZh");
    sb.append("ciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAg");
    sb.append("ICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG5leHRP");
    sb.append("YmplY3QsIHBhc3N3b3JkcywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgICBhcHBseShuZXh0");
    sb.append("T2JqZWN0KTsKICAgIH0gZWxzZSBpZiAoaXNJbnB1dEJveCkgewogICAgICB2YXIgdHlwZSA9ICgidHlw");
    sb.append("ZSIgaW4gZWwpID8gZWwudHlwZS50b1VwcGVyQ2FzZSgpIDogIlRFWFQiOwogICAgICBpZiAodHlwZSA9");
    sb.append("PSAiU1VCTUlUIiB8fCB0eXBlID09ICJSRVNFVCIpIHJldHVybjsKICAgICAgaWYgKCh0eXBlID09ICJQ");
    sb.append("QVNTV09SRCIgfHwgbmFtZSA9PSAicGFzc3dvcmQiIHx8IG5hbWUgPT0gImNvbmZpcm0tcGFzc3dvcmQi");
    sb.append("IHx8IG5hbWUgPT0gIm5ld19wYXNzd29yZCIgfHwgbmFtZSA9PSAiY29uZmlybS1uZXdfcGFzc3dvcmQi");
    sb.append("KSkgewogICAgICAgIHBhc3N3b3Jkc1tuYW1lXSA9IGVsLnZhbHVlOwogICAgICAgIHJldHVybjsKICAg");
    sb.append("ICAgfQogICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgYXBwbHkoZWwuY2hlY2tl");
    sb.append("ZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAg");
    sb.append("ICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgICB9CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsK");
    sb.append("ICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBr");
    sb.append("KyspIHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgICAgYnVpbGRfb2Jq");
    sb.append("KGNoLCBvYmpUb0luc2VydEludG8sIHBhc3N3b3JkcywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfQog");
    sb.append("ICAgfQogIH07CgogIHNlbGYuQnVpbGRGb3JtT2JqZWN0ID0gZnVuY3Rpb24oZm9ybSkgewogICAgdmFy");
    sb.append("IG9iaiA9IHt9OwogICAgYnVpbGRfb2JqKGZvcm0sIG9iaiwgZmFsc2UsIHRydWUpOwogICAgcmV0dXJu");
    sb.append("IG9iajsKICB9OwoKICAvLyBIRUxQRVIgfCByZXR1cm4gYW4gb2JqZWN0IG9mIGFsbCB0aGUgaW5wdXRz");
    sb.append("IG9mIHRoZSBnaXZlbiBmb3JtIGVsZW1lbnQKICB2YXIgZ2V0X2Zvcm0gPSBmdW5jdGlvbiAoZm9ybSwg");
    sb.append("cGFzc3dvcmRzKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwgb2JqLCBwYXNz");
    sb.append("d29yZHMsIHRydWUpOwogICAgcmV0dXJuIG9iajsKICB9OwoKICB2YXIgd3JhcHBlcnMgPSB7fTsKICB2");
    sb.append("YXIgd3JhcHBlcnNfb25sb2FkID0ge307CiAgc2VsZi5QUldQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykg");
    sb.append("ewogICAgd3JhcHBlcnNbbmFtZV0gPSBmb287CiAgICBpZiAobmFtZSBpbiB3cmFwcGVyc19vbmxvYWQp");
    sb.append("IHsKICAgICAgdmFyIHRvbG9hZCA9IHdyYXBwZXJzX29ubG9hZFtuYW1lXTsKICAgICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCB0b2xvYWQubGVuZ3RoOyBrKyspIHsKICAgICAgICB0b2xvYWRba10oKTsKICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIDwuLi4gcng6d3JhcD1jb25zdCA+CiAgc2VsZi5XUCA9IGZ1bmN0aW9u");
    sb.append("IChkb20sIHN0YXRlLCBuYW1lLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNlKSB7CiAgICBpZiAobmFt");
    sb.append("ZSBpbiB3cmFwcGVycykgewogICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9iaiwgY2hp");
    sb.append("bGRNYWtlcldpdGhDYXNlLCBzZWxmKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBsb2FkZXIgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgd3JhcHBlcnNbbmFtZV0oZG9tLCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFr");
    sb.append("ZXJXaXRoQ2FzZSwgc2VsZik7CiAgICAgIH07CiAgICAgIGlmIChuYW1lIGluIHdyYXBwZXJzX29ubG9h");
    sb.append("ZCkgewogICAgICAgIHdyYXBwZXJzX29ubG9hZFtuYW1lXS5wdXNoKGxvYWRlcik7CiAgICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgICAgd3JhcHBlcnNfb25sb2FkW25hbWVdID0gW2xvYWRlcl07CiAgICAgIH0KICAgIH0K");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FIHwgcmVnaXN0ZXIgdGhlIHBhZ2UgZm9yIHRoZSB1cmkgdG8gdGhlIGdp");
    sb.append("dmVuIGZvbygpLgogIHNlbGYuUEcgPSBmdW5jdGlvbiAodXJpLCBmb28pIHsKICAgIHZhciBoZWFkID0g");
    sb.append("cm91dGVyOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB1cmkubGVuZ3RoOyBrKyspIHsKICAgICAgdmFy");
    sb.append("IHBhcnQgPSB1cmlba107CiAgICAgIGlmICghKHBhcnQgaW4gaGVhZCkpIHsKICAgICAgICBoZWFkW3Bh");
    sb.append("cnRdID0ge307CiAgICAgIH0KICAgICAgaGVhZCA9IGhlYWRbcGFydF07CiAgICB9CiAgICBoZWFkWyJA");
    sb.append("Il0gPSBmb287CiAgfTsKCiAgdmFyIHJvdXRlID0gZnVuY3Rpb24gKHBhcnRzLCBhdCwgaGVhZCwgdmll");
    sb.append("dykgewogICAgaWYgKGF0IDwgcGFydHMubGVuZ3RoKSB7CiAgICAgIGlmICgibnVtYmVyIiBpbiBoZWFk");
    sb.append("KSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJudW1iZXIiXTsKICAgICAgICB2YXIgdmFsID0gcGFy");
    sb.append("c2VGbG9hdChwYXJ0c1thdF0pOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgZm9y");
    sb.append("ICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwogICAg");
    sb.append("ICAgICAgICB2YXIgY2FuZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2");
    sb.append("aWV3KTsKICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJl");
    sb.append("dHVybiBjYW5kaWRhdGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVsZXRlIHZpZXdbYnJhbmNo");
    sb.append("XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0IiBpbiBoZWFkKSB7");
    sb.append("CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZhbCA9IHBhcnRzW2F0");
    sb.append("XTsKICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgdmlld1ticmFuY2hd");
    sb.append("ID0gdmFsOwogICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tb");
    sb.append("YnJhbmNoXSwgdmlldyk7CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAg");
    sb.append("ICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdmlld1ticmFu");
    sb.append("Y2hdOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFkKSB7CiAgICAgICAg");
    sb.append("dmFyIG5lY2sgPSBoZWFkWyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7");
    sb.append("CiAgICAgICAgICBpZiAoYnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAgICB2YXIgY2FuZGlk");
    sb.append("YXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAgICAg");
    sb.append("aWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("IGlmICgiQCIgaW4gaGVhZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAgICAgIH0KICAgIH0K");
    sb.append("ICAgIHJldHVybiBudWxsOwogIH07CgoKICBzZWxmLnJlc3VtZV91cmkgPSAiLyI7CiAgc2VsZi5nYXRl");
    sb.append("cyA9IFtdOwogIC8qKiBSVU5USU1FIHwgPGdhdGUtZXhpdCBndWFyZD0icmVhZCIgc2V0PSIiPiAqLwog");
    sb.append("IHNlbGYuSUcgPSBmdW5jdGlvbihzdGF0ZVJlYWQsIHJlYWQsIHN0YXRlV3JpdGUsIHdyaXRlKSB7CiAg");
    sb.append("ICB2YXIgc20gPSB7CiAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgcnVuOiBmdW5jdGlvbigpIHsKICAg");
    sb.append("ICAgICBpZiAodGhpcy52YWx1ZSkgewogICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgb2Jq");
    sb.append("W3dyaXRlXSA9IHRydWU7CiAgICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlV3JpdGUudmll");
    sb.append("dywgb2JqKTsKICAgICAgICAgIHN0YXRlV3JpdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAg");
    sb.append("ICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAog");
    sb.append("ICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZVJlYWQsIHJlYWQsIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAg");
    sb.append("IHNtLnZhbHVlID0gdmFsdWU7CiAgICB9KTsKICAgIHNlbGYuZ2F0ZXMucHVzaChzbSk7CiAgfTsKICBz");
    sb.append("ZWxmLmdvdG8gPSBmdW5jdGlvbiAodXJpLCBub3cpIHsKICAgIHNlbGYucmVzdW1lX3VyaSA9IHVyaTsK");
    sb.append("ICAgIHZhciBibG9ja2VkID0gZmFsc2U7CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHNlbGYuZ2F0ZXMu");
    sb.append("bGVuZ3RoOyBrKyspIHsKICAgICAgaWYgKHNlbGYuZ2F0ZXNba10ucnVuKCkpIHsKICAgICAgICBibG9j");
    sb.append("a2VkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgaWYgKGJsb2NrZWQpIHsKICAgICAgcmV0dXJuOwog");
    sb.append("ICAgfQogICAgaWYgKG5vdykgewogICAgICBzZWxmLmdvdG9fbm93KHVyaSk7CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5nb3RvX25vdyh1");
    sb.append("cmkpOwogICAgICB9LCAxKTsKICAgIH0KICB9OwogIC8vIFJVTlRJTUU6IDx0YWcgLi4uIHJ4OmV2ZW50");
    sb.append("PSIuLi4gcmVzdW1lIC4uLiI+Li4KICBzZWxmLmJSID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewog");
    sb.append("ICAgICBydW46IGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGYuZ2F0ZXMgPSBbXTsKICAgICAgICBzZWxm");
    sb.append("LmdvdG8oc2VsZi5yZXN1bWVfdXJpLCBmYWxzZSk7CiAgICAgIH0sCiAgICAgIG1lcmdlOiBmdW5jdGlv");
    sb.append("bigpIHt9CiAgICB9OwogIH07CiAgc2VsZi5nb3RvX25vdyA9IGZ1bmN0aW9uKHVyaSkgewogICAgaWYg");
    sb.append("KHVyaS5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgdXJpLCB0");
    sb.append("cnVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZml4SHJlZih1cmkp");
    sb.append("OwogICAgfQogIH07CgogIHZhciB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbihiYXNlNjQp");
    sb.append("IHsKICAgIHZhciByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgIHZhciBvdXRwdXRBcnJh");
    sb.append("eSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwg");
    sb.append("cmF3RGF0YS5sZW5ndGg7ICsraSkgewogICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNv");
    sb.append("ZGVBdChpKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRBcnJheTsKICB9CgogIHNlbGYuY3VycmVudFB1");
    sb.append("c2hFdmVudCA9IGZ1bmN0aW9uKCkge307CgogIHZhciBnZXRXZWJQdXNoU3RhdHVzID0gZnVuY3Rpb24o");
    sb.append("KSB7CiAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYnB1c2hfc3RhdHVzIik7");
    sb.append("CiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZihyZXN1bHQpID09ICJzdHJpbmciKSB7CiAgICAgIHJldHVy");
    sb.append("biByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gInVua25vd24iOwogIH0KCiAgdmFyIHNldFB1c2hTdGF0");
    sb.append("dXMgPSBmdW5jdGlvbihzdGF0dXMpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWJwdXNoX3N0");
    sb.append("YXR1cyIsIHN0YXR1cyk7CiAgICBzZWxmLmN1cnJlbnRQdXNoRXZlbnQoKTsKICB9OwogIHNlbGYuc2V0");
    sb.append("UHVzaFN0YXR1cyA9IHNldFB1c2hTdGF0dXM7CgogIHZhciBzZXRQdXNoRXZlbnQgPSBmdW5jdGlvbihm");
    sb.append("b28pIHsKICAgIHNlbGYuY3VycmVudFB1c2hFdmVudCA9IGZvbzsKICB9OwoKICB2YXIgc2V0dXBTdWJz");
    sb.append("Y3JpcHRpb24gPSBmdW5jdGlvbiAocmVnaXN0cmF0aW9uLCB2YXBpZFB1YmxpY0tleSwgaWRlbnRpdHks");
    sb.append("IGlkZW50aXR5TmFtZSwgdmVyc2lvbikgewogICAgY29ubmVjdGlvbi5idW1wKCJ3cHMiKTsKICAgIHZh");
    sb.append("ciBwdXNoS2V5TG9jYWwgPSAicHVzaF9lbmRwb2ludF8iICsgaWRlbnRpdHlOYW1lOwogICAgcmVnaXN0");
    sb.append("cmF0aW9uLnB1c2hNYW5hZ2VyCiAgICAuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihhc3luYyBmdW5jdGlv");
    sb.append("biAoc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikgewogICAgICAgICAgcmV0");
    sb.append("dXJuIHN1YnNjcmlwdGlvbjsKICAgICAgICB9CiAgICAgICAgY29uc3QgY29udmVydGVkVmFwaWRLZXkg");
    sb.append("PSB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkodmFwaWRQdWJsaWNLZXkpOwogICAgICAgIHJldHVybiByZWdp");
    sb.append("c3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHsKICAgICAgICAgIHVzZXJWaXNpYmxlT25seTog");
    sb.append("dHJ1ZSwKICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBjb252ZXJ0ZWRWYXBpZEtleQogICAg");
    sb.append("ICAgIH0pOwogICAgfSkudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7CiAgICAgIC8vIG1ha2Ug");
    sb.append("c3VyZSB3ZSBoYXZlIGFuIGVuZHBvaW50IHNhdmVkIHJlbGF0ZWQgdG8gdGhlIHJpZ2h0IHZlcnNpb24K");
    sb.append("ICAgICAgY29ubmVjdGlvbi5JZGVudGl0eUhhc2goaWRlbnRpdHksIHsKICAgICAgICBzdWNjZXNzOiBm");
    sb.append("dW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHVzaF93");
    sb.append("b3JrZXJfdmVyc2lvbiIpICE9IHZlcnNpb24gfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxhc3RfaWRl");
    sb.append("bnRpdHlfdXNlZCIpICE9IHJlc3VsdC5pZGVudGl0eUhhc2gpIHsKICAgICAgICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnJlbW92ZUl0ZW0ocHVzaEtleUxvY2FsKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0");
    sb.append("ZW0oInB1c2hfd29ya2VyX3ZlcnNpb24iLCB2ZXJzaW9uKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdl");
    sb.append("LnNldEl0ZW0oImxhc3RfaWRlbnRpdHlfdXNlZCIsIHJlc3VsdC5pZGVudGl0eUhhc2gpOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgdmFyIHN1YiA9IHN1YnNjcmlwdGlvbi50b0pTT04oKTsKICAgICAgICAgIHZh");
    sb.append("ciB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwdXNoS2V5TG9jYWwpOwogICAgICAgICAgaWYgKHZh");
    sb.append("bCAmJiB2YWwgPT0gc3ViLmVuZHBvaW50KSB7CiAgICAgICAgICAgIGNvbm5lY3Rpb24uYnVtcCgid3Bh");
    sb.append("Iik7CiAgICAgICAgICAgIHNldFB1c2hTdGF0dXMoInN1Y2Nlc3MiKTsKICAgICAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICAgICAgfQogICAgICAgICAgc3ViWydAbWV0aG9kJ10gPSAnd2VicHVzaCc7CiAgICAgICAg");
    sb.append("ICBzdWJbJ0B0aW1lJ10gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgIHZhciBkZXZpY2Ug");
    sb.append("PSB7fTsKICAgICAgICAgIGRldmljZS5tb2RlID0gJ3dlYicKICAgICAgICAgIGlmICh3aW5kb3cgJiYg");
    sb.append("d2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgewogICAgICAgICAg");
    sb.append("ICBkZXZpY2UudWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIGNvbm5lY3Rpb24uUHVzaFJlZ2lzdGVyKGlkZW50aXR5LCBzZWxmLmRvbWFpbiwgc3ViLCBkZXZp");
    sb.append("Y2UsIHsKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgbG9jYWxT");
    sb.append("dG9yYWdlLnNldEl0ZW0ocHVzaEtleUxvY2FsLCBzdWIuZW5kcG9pbnQpOwogICAgICAgICAgICAgIGxv");
    sb.append("Y2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWJwdXNoX3N0YXR1cyIsICJzdWNjZXNzIik7CiAgICAgICAgICAg");
    sb.append("ICAgc2V0UHVzaFN0YXR1cygic3VjY2VzcyIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmYWls");
    sb.append("dXJlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBjb25uZWN0aW9uLmJ1bXAoIndwZiIpOwogICAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KCkgewogICAgICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGYiKTsKICAgICAgICB9CiAgICAgIH0pOwog");
    sb.append("ICAgfSwgZnVuY3Rpb24oZXJyKSB7CiAgICAgIHNldFB1c2hTdGF0dXMoImZhaWxlZCIpOwogICAgICBs");
    sb.append("b2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwdXNoS2V5TG9jYWwpOwogICAgICBsb2NhbFN0b3JhZ2UucmVt");
    sb.append("b3ZlSXRlbSgibGFzdF9pZGVudGl0eV91c2VkIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVt");
    sb.append("KCJwdXNoX3dvcmtlcl92ZXJzaW9uIik7CiAgICAgIGNvbm5lY3Rpb24uYnVtcCgid3BkIik7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb24ubG9nKCJwdXNoc2V0dXAiLCAiIiArIGVycik7CiAgICB9KTsKICB9CgogIHZhciBz");
    sb.append("ZXR1cFB1c2ggPSBmdW5jdGlvbihwYXRoLCB2YXBpZFB1YmxpY0tleSwgaWRlbnRpdHksIGlkZW50aXR5");
    sb.append("TmFtZSwgdmVyc2lvbikgewogICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyKSB7CiAgICAgIHRy");
    sb.append("eSB7CiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4o");
    sb.append("ZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbnMpIHsKICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAg");
    sb.append("ICAgICAgZm9yIChsZXQgcmVnaXN0cmF0aW9uIG9mIHJlZ2lzdHJhdGlvbnMpIHsKICAgICAgICAgICAg");
    sb.append("aWYgKHJlZ2lzdHJhdGlvbi5hY3RpdmUpIHsKICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbi5h");
    sb.append("Y3RpdmUuc2NyaXB0VVJMLmVuZHNXaXRoKHBhdGgpKSB7CiAgICAgICAgICAgICAgICByZWdpc3RyYXRp");
    sb.append("b24udW5yZWdpc3RlcigpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3Vu");
    sb.append("ZCA9IHRydWU7CiAgICAgICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihyZWdpc3RyYXRpb24sIHZh");
    sb.append("cGlkUHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlOYW1lLCB2ZXJzaW9uKTsKICAgICAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAg");
    sb.append("ICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIocGF0aCk7CiAgICAgICAgICAgIG5h");
    sb.append("dmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikgewog");
    sb.append("ICAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHJlZ2lzdHJhdGlvbiwgdmFwaWRQdWJsaWNLZXks");
    sb.append("IGlkZW50aXR5LCBpZGVudGl0eU5hbWUsIHZlcnNpb24pOwogICAgICAgICAgICB9KTsKICAgICAgICAg");
    sb.append("IH0KICAgICAgICB9LCBmdW5jdGlvbihleCkgewogICAgICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGkz");
    sb.append("Iik7CiAgICAgICAgICBjb25uZWN0aW9uLmxvZygid29ya2VyLWZpbmQiLCAiIiArIGV4KTsKICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJmYWlsZWQgdG8g");
    sb.append("cmVnaXN0ZXIgc2VydmljZSB3b3JrZXIiLCBleCk7CiAgICAgICAgc2V0UHVzaFN0YXR1cygiaW1wb3Nz");
    sb.append("aWJsZSIpOwogICAgICAgIGNvbm5lY3Rpb24uYnVtcCgid3BpMiIpOwogICAgICAgIGNvbm5lY3Rpb24u");
    sb.append("bG9nKCJ3b3JrZXItaW5zdGFsbCIsICIiICsgZXgpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBj");
    sb.append("b25zb2xlLmxvZygibm8gc2VydmljZSB3b3JrZXIgYXZhaWxhYmxlIik7CiAgICAgIHNldFB1c2hTdGF0");
    sb.append("dXMoImltcG9zc2libGUiKTsKICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGkxIik7CiAgICB9CiAgfQoK");
    sb.append("ICBzZWxmLndvcmtlciA9IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgcGF0aCwgdmVyc2lvbikgewogICAg");
    sb.append("dHJ5IHsKICAgICAgYWZ0ZXJIYXZlSWRlbnRpdHkoaWRlbnRpdHlOYW1lLCBmdW5jdGlvbihpZGVudGl0");
    sb.append("eSkgewogICAgICAgIGNvbm5lY3Rpb24uRG9tYWluR2V0VmFwaWRQdWJsaWNLZXkoaWRlbnRpdHksIHNl");
    sb.append("bGYuZG9tYWluLCB7CiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAg");
    sb.append("ICAgICBzZXR1cFB1c2gocGF0aCwgcmVzcG9uc2UucHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlO");
    sb.append("YW1lLCB2ZXJzaW9uKTsKICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVh");
    sb.append("c29uKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBnZXQgcHVibGljLWtleToi");
    sb.append("ICsgcmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGV4");
    sb.append("KSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBpbml0aWFsaXplIHdvcmtlciIsIGV4KTsK");
    sb.append("ICAgIH0KICB9OwoKICBzZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBzZWxmLnJ1bihkb2N1bWVu");
    sb.append("dC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5z");
    sb.append("ZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNlKTsKICAgIHdpbmRvdy5vbnBvcHN0YXRl");
    sb.append("ID0gZnVuY3Rpb24gKHApIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4UGF0aCh3aW5k");
    sb.append("b3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0");
    sb.append("aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB9OwogIH07CgogIHNlbGYuY3VycmVudFZpZXdlcklkID0gMDsK");
    sb.append("ICAvLyBBUEkgfCBSdW4gdGhlIHBhZ2UgaW4gdGhlIGdpdmVuIHBsYWNlCiAgc2VsZi5ydW4gPSBmdW5j");
    sb.append("dGlvbiAod2hlcmUsIHJhd1BhdGgsIHB1c2gpIHsKICAgIHZhciBwYXRoID0gcmF3UGF0aDsKICAgIHdo");
    sb.append("aWxlIChwYXRoLmVuZHNXaXRoKCIvIikgJiYgcGF0aCAhPSAiLyIpIHsKICAgICAgcGF0aCA9IHBhdGgu");
    sb.append("c3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoIC0gMSk7CiAgICB9CiAgICBmb3IgKGNvbktleSBpbiBjb25u");
    sb.append("ZWN0aW9ucykgewogICAgICBjb25uZWN0aW9uc1tjb25LZXldLnRyZWUubnVrZSgpOwogICAgICBjb25u");
    sb.append("ZWN0aW9uc1tjb25LZXldLm51a2UoKTsKICAgIH0KICAgIHZhciBzZWFyY2ggPSAiIjsKICAgIHZhciBr");
    sb.append("UXVlc3Rpb24gPSBwYXRoLmluZGV4T2YoJz8nKTsKICAgIGlmIChrUXVlc3Rpb24gPiAwKSB7CiAgICAg");
    sb.append("IHNlYXJjaCA9IHBhdGguc3Vic3RyaW5nKGtRdWVzdGlvbik7CiAgICAgIHBhdGggPSBwYXRoLnN1YnN0");
    sb.append("cmluZygwLCBrUXVlc3Rpb24pOwogICAgfQogICAgdmFyIHBhcnRzID0gKHBhdGguc3RhcnRzV2l0aCgi");
    sb.append("LyIpID8gcGF0aC5zdWJzdHJpbmcoMSkgOiBwYXRoKS5zcGxpdCgiLyIpOwogICAgdmFyIGluaXQgPSB7");
    sb.append("fTsKICAgIHNlbGYuY3VycmVudFZpZXdlcklkKys7CiAgICBpbml0LnZpZXdlcl9jdXJyZW50X3BhZ2Vf");
    sb.append("aWQgPSBzZWxmLmN1cnJlbnRWaWV3ZXJJZDsKICAgIHRyeSB7CiAgICAgIGluaXQudmlld2VyX3RpbWV6");
    sb.append("b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAg");
    sb.append("ICBpbml0LnZpZXdlcl9sYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZTsKICAgIH0gY2F0Y2ggKGJy");
    sb.append("b3dzZXJCYWQpIHsKICAgICAgLy8gd2UganVzdCBkb24ndCBzZWUgdGhlIHZpZXdzdGF0ZSBpZiB3ZSBk");
    sb.append("b24ndCBoYXZlIHRoZXNlIGF2YWlsYWJsZQogICAgfQogICAgaW5pdC52aWV3ZXJfc2VhcmNoX3F1ZXJ5");
    sb.append("ID0gIiI7CiAgICBpbml0LnZpZXdlcl93ZWJfcHVzaF9zdGF0dXMgPSBnZXRXZWJQdXNoU3RhdHVzKCk7");
    sb.append("CiAgICBpZiAoc2VhcmNoICE9ICI/IikgewogICAgICBpbml0LnZpZXdlcl9zZWFyY2hfcXVlcnkgPSBz");
    sb.append("ZWFyY2g7CiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoLnN1YnN0");
    sb.append("cmluZygxKSk7CiAgICAgIHZhciBrSXQgPSBwYXJhbXMua2V5cygpOwogICAgICB2YXIgcCA9IGtJdC5u");
    sb.append("ZXh0KCk7CiAgICAgIHdoaWxlICghcC5kb25lKSB7CiAgICAgICAgaW5pdFtwLnZhbHVlXSA9IHBhcmFt");
    sb.append("cy5nZXQocC52YWx1ZSk7CiAgICAgICAgcCA9IGtJdC5uZXh0KCk7CiAgICAgIH0KICAgIH0KICAgIHZh");
    sb.append("ciBmb28gPSByb3V0ZShwYXJ0cywgMCwgcm91dGVyLCBpbml0KTsKICAgIG51a2Uod2hlcmUpOwogICAg");
    sb.append("aWYgKGZvbyAhPSBudWxsKSB7CiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgdmFyIHN0");
    sb.append("YXRlID0geyBzZXJ2aWNlOiBjb25uZWN0aW9uLCBkYXRhOiBudWxsLCB2aWV3OiBmcmVzaCh3aGVyZSks");
    sb.append("IGN1cnJlbnQ6ICJ2aWV3IiB9OwogICAgICBzZWxmLl9fY3VycmVudCA9IHN0YXRlOwoKICAgICAgY29u");
    sb.append("c3Qgdmlld3N0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3J4dmlld3N0YXRlJyk7CiAgICAgIGlm");
    sb.append("IChudWxsICE9PSB2aWV3c3RhdGUpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncnh2");
    sb.append("aWV3c3RhdGUnKTsKICAgICAgICBpbml0ID0gT2JqZWN0LmFzc2lnbih7fSwgaW5pdCwgSlNPTi5wYXJz");
    sb.append("ZSh2aWV3c3RhdGUpKTsKICAgICAgfQoKICAgICAgc3RhdGUudmlldy5pbml0ID0gaW5pdDsKICAgICAg");
    sb.append("c2VsZi5nYXRlcyA9IFtdOwogICAgICBzZWxmLnJlc3VtZV91cmkgPSBwYXRoOwogICAgICBmb28od2hl");
    sb.append("cmUsIHN0YXRlKTsKICAgICAgc3RhdGUudmlldy50cmVlLnN1YnNjcmliZShzdGF0ZS52aWV3LmRlbHRh");
    sb.append("KTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShpbml0KTsKICAgICAgaWYgKHB1c2gpIHsKICAg");
    sb.append("ICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe21lcmdlOmZhbHNlfSwgIiIsIGZpeEhyZWYocGF0");
    sb.append("aCkgKyBzZWFyY2gpOwogICAgICB9CiAgICAgIHNldFB1c2hFdmVudChmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKHsgdmlld2VyX3dlYl9wdXNoX3N0YXR1czogZ2V0V2ViUHVz");
    sb.append("aFN0YXR1cygpfSk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHBhdGggIT0gIi80MDQi");
    sb.append("KSB7CiAgICAgICAgc2VsZi5ydW4od2hlcmUsICIvNDA0Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg");
    sb.append("Ly8gZGVmYXVsdCA0MDQKICAgICAgfQogICAgfQogICAgd2hlcmUuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("bk1vbml0b3JEb20pOwogIH07CgogIHZhciBpZGVudGl0aWVzID0ge307CgogIHNlbGYuU0lHTk9VVCA9");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgIGlkZW50aXRpZXMgPSB7fTsKICAgIGZvciAodmFyIGlkZW50aXR5TmFt");
    sb.append("ZSBpbiBpZGVudGl0aWVzKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpZGVudGl0eV8i");
    sb.append("ICsgaWRlbnRpdHlOYW1lKTsKICAgIH0KICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpZGVudGl0");
    sb.append("eV9kZWZhdWx0Iik7CiAgICB2YXIgYXhlID0gW107CiAgICBmb3IgKHZhciBjaWQgaW4gY29ubmVjdGlv");
    sb.append("bnMpIHsKICAgICAgdmFyIGNvID0gY29ubmVjdGlvbnNbY2lkXTsKICAgICAgaWYgKGNvLnB0ciAhPSBu");
    sb.append("dWxsKSB7CiAgICAgICAgY28ucHRyLmVuZCh7IHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgfSwgZmFpbHVy");
    sb.append("ZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAgICB9CiAgICAgIGF4ZS5wdXNoKGNpZCk7CiAgICB9CiAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICBkZWxldGUgY29ubmVj");
    sb.append("dGlvbnNbYXhlW2tdXTsKICAgIH0KICB9OwoKICBzZWxmLkdPT0dMRV9TSUdOX09OID0gZnVuY3Rpb24g");
    sb.append("KGFjY2Vzc1Rva2VuKSB7CiAgICBjb25uZWN0aW9uLkluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NU");
    sb.append("b2tlbiwgewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIGlkZW50aXRp");
    sb.append("ZXNbImRlZmF1bHQiXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0");
    sb.append("ZW0oImlkZW50aXR5X2RlZmF1bHQiLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICBzZWxmLmdvdG8o");
    sb.append("Ii8iLCBmYWxzZSk7CiAgICAgIH0sCiAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAg");
    sb.append("ICAgICBjb25zb2xlLmxvZygiR29vZ2xlIGZhaWx1cmU6ICIgKyByZWFzb24pOwogICAgICB9CiAgICB9");
    sb.append("KTsKICB9OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0IHRvIGEgcGFnZSB3aXRoIHN0YXRlICovCiAg");
    sb.append("c2VsZi5hUkRwID0gZnVuY3Rpb24gKHN0YXRlLCBwdWxsZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIHZhciB1cmkgPSBwdWxsZXIoc3RhdGUudmlldy5pbml0KTsKICAgICAgcmV0dXJuIHVy");
    sb.append("aTsKICAgIH07CiAgfTsKCiAgLyoqIFJVTlRJTUUgfCByZWRpcmVjdCB0byBhIHN0YXRpYyBwYWdlICov");
    sb.append("CiAgc2VsZi5hUkR6ID0gZnVuY3Rpb24gKHJhdykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgcmV0dXJuIHJhdzsKICAgIH0KICB9OwoKICB2YXIgaWRlbnRpdHlFdmVudHMgPSB7fTsKICB2YXIg");
    sb.append("YWZ0ZXJIYXZlSWRlbnRpdHkgPSBmdW5jdGlvbihpZGVudGl0eU5hbWUsIGNhbGxiYWNrKSB7CiAgICBp");
    sb.append("ZGVudGl0eUV2ZW50c1tpZGVudGl0eU5hbWVdID0gY2FsbGJhY2s7CiAgfTsKICBzZWxmLmFmdGVySGF2");
    sb.append("ZUlkZW50aXR5ID0gYWZ0ZXJIYXZlSWRlbnRpdHk7CgogIC8qKiBmb3IgY3VzdG9tIGVsZW1lbnRzIHRv");
    sb.append("IGxlYXJuIG9mIHRoZSBpZGVudGl0eSAqLwogIHNlbGYuSUQgPSBmdW5jdGlvbiAoaWRlbnRpdHlOYW1l");
    sb.append("LCByZWRpcmVjdFRvRnVuYykgewogICAgaWYgKGlkZW50aXR5TmFtZSA9PT0gdHJ1ZSkgewogICAgICBp");
    sb.append("ZGVudGl0eU5hbWUgPSAiZGVmYXVsdCI7CiAgICB9CiAgICAvLyBJRiBpZGVudGl0eSBjb250YWlucyBk");
    sb.append("b3RzCiAgICB2YXIgaWRlbnRpdHkgPSBudWxsOwogICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICB9OwoKICAgIHZhciB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWRlbnRpdHlfIiArIGlk");
    sb.append("ZW50aXR5TmFtZSk7CiAgICBpZiAodmFsKSB7CiAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9");
    sb.append("IHZhbDsKICAgIH0KCiAgICBpZiAoaWRlbnRpdHlOYW1lLnN0YXJ0c1dpdGgoImRpcmVjdDoiKSkgewog");
    sb.append("ICAgICAvLyBVc2UsIGFzIGlzCiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdHlOYW1lLnN1YnN0cmluZyg3");
    sb.append("KTsKICAgIH0gZWxzZSBpZiAoaWRlbnRpdHlOYW1lIGluIGlkZW50aXRpZXMpIHsKICAgICAgaWRlbnRp");
    sb.append("dHkgPSBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV07CiAgICAgIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgICAgZGVsZXRlIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXTsKICAgICAgICBsb2NhbFN0b3Jh");
    sb.append("Z2UucmVtb3ZlSXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSk7CiAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHJlZGlyZWN0VG9GdW5jKCksIGZhbHNlKTsKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIHdo");
    sb.append("YXRldmVyIHBhZ2Ugd2UgYXJlLCBuZWVkcyB0byBkaWUgd2hpY2ggbWVhbnMgd2UgbmVlZCB0byBudWtl");
    sb.append("IGV2ZXJ5dGhpbmchCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBz");
    sb.append("ZWxmLmdvdG8ocmVkaXJlY3RUb0Z1bmMoKSwgZmFsc2UpOwogICAgICB9LCAxMCk7CiAgICAgIHJldHVy");
    sb.append("biB7IGFib3J0OiB0cnVlIH07CiAgICB9CiAgICBpZiAoaWRlbnRpdHlOYW1lIGluIGlkZW50aXR5RXZl");
    sb.append("bnRzKSB7CiAgICAgIGlkZW50aXR5RXZlbnRzW2lkZW50aXR5TmFtZV0oaWRlbnRpdHkpOwogICAgICBk");
    sb.append("ZWxldGUgaWRlbnRpdHlFdmVudHNbaWRlbnRpdHlOYW1lXTsKICAgIH0KICAgIHJldHVybiB7IGFib3J0");
    sb.append("OiBmYWxzZSwgY2xlYW51cDogY2xlYW51cCwgaWRlbnRpdHk6IGlkZW50aXR5IH07CiAgfTsKCiAgLyog");
    sb.append("Rm9yIGN1c3RvbSBjYWxsYmFja3MgdG8gcmVkaXJlY3QgYW5kIGludmFsaWRhdGUgSUQgZmFpbHVyZXMg");
    sb.append("Ki8KICBzZWxmLkZJRENMID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBsb29rdXApIHsKICAgIHJldHVybiB7");
    sb.append("CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjYWxsYmFjay5zdWNjZXNz");
    sb.append("KHJlc3VsdCk7CiAgICAgIH0sCiAgICAgIG5leHQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgY2Fs");
    sb.append("bGJhY2submV4dChpdGVtKTsKICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICBjYWxsYmFjay5jb21wbGV0ZSgpOwogICAgICB9LAogICAgICBmYWlsdXJlOiBmdW5jdGlvbiAo");
    sb.append("cmVhc29uKSB7CiAgICAgICAgY2FsbGJhY2suZmFpbHVyZShyZWFzb24pOwogICAgICAgIGlmIChyZWFz");
    sb.append("b24gPT0gNDAzNDAzIHx8IHJlYXNvbiA9PSA0MDM1MDAgfHwgcmVhc29uID09IDE4NDMzMykgewogICAg");
    sb.append("ICAgICAgbG9va3VwLmNsZWFudXAoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfTsKCiAgdmFy");
    sb.append("IGN1c3RvbURhdGFTb3VyY2VzID0ge307CgogIC8qKiBwcm92aWRlIGN1c3RvbSBkYXRhICovCiAgc2Vs");
    sb.append("Zi5QUkNVREEgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICBjdXN0b21EYXRhU291cmNlc1tuYW1l");
    sb.append("XSA9IGZvbzsKICB9OwoKICAvLyA8Y3VzdG9tZGF0YSBzcmM9c3JjIChwYXJhbWV0ZXI6eD15KSogPgog");
    sb.append("IHNlbGYuQ1VEQSA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIHNyYywgcnhvYmosIHJlZGly");
    sb.append("ZWN0VG8sIGNoaWxkTWFrZXIpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHJ4b2Jq");
    sb.append("Ll9fID0gZGVib3VuY2UoMTAsIGZ1bmN0aW9uICgpIHsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAg");
    sb.append("ICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIGN1c3RvbVRyZWUgPSBmYWxzZTsKICAgICAgaWYgKHNy");
    sb.append("YyBpbiBjdXN0b21EYXRhU291cmNlcykgewogICAgICAgIHZhciBjb25zID0gY3VzdG9tRGF0YVNvdXJj");
    sb.append("ZXNbc3JjXTsKICAgICAgICBpZiAodHlwZW9mIChjb25zKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAg");
    sb.append("ICBjdXN0b21UcmVlID0gY29ucyhyeG9iaiwgcHJpb3JTdGF0ZSwgcmVkaXJlY3RUbywgc2VsZik7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICAgIGlmICghY3VzdG9tVHJlZSkgewogICAgICAgIGN1c3RvbVRyZWUg");
    sb.append("PSBuZXcgQWRhbWFUcmVlKCk7CiAgICAgIH0KICAgICAgdmFyIHN0YXRlID0gewogICAgICAgIHNlcnZp");
    sb.append("Y2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICBkYXRhOiB7IGNvbm5lY3Rpb246IHByaW9yU3Rh");
    sb.append("dGUuY29ubmVjdGlvbiwgdHJlZTogY3VzdG9tVHJlZSwgZGVsdGE6IHt9LCBwYXJlbnQ6IG51bGwsIHBh");
    sb.append("dGg6IG51bGwgfSwKICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAog");
    sb.append("ICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICB9OwogICAgICBjaGlsZE1ha2VyKHN0YXRlKTsKICAg");
    sb.append("ICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICB9KTsKICB9OwoKICAvLyA8dGl0bGUg");
    sb.append("dmFsdWU9Ii4uLiIgLz4KICBzZWxmLlNUID0gZnVuY3Rpb24gKHJ4b2JqKSB7CiAgICBpZiAocnhvYmou");
    sb.append("dmFsdWUpIHsKICAgICAgZG9jdW1lbnQudGl0bGUgPSByeG9iai52YWx1ZTsKICAgIH0KICAgIHJ4b2Jq");
    sb.append("Ll9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAocnhvYmoudmFsdWUpIHsKICAg");
    sb.append("ICAgICBkb2N1bWVudC50aXRsZSA9IHJ4b2JqLnZhbHVlOwogICAgICB9CiAgICB9KTsKICB9OwoKICAv");
    sb.append("LyA8dmlld3N5bmM+CiAgc2VsZi5WU3kgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBhdmFp");
    sb.append("bCwgbm90YXZhaWwpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHByaW9yU3RhdGUu");
    sb.append("ZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZV9zeW5jKGZ1bmN0aW9uIChzeW5jZWQpIHsKICAgICAgbnVr");
    sb.append("ZShwYXJlbnQpOwogICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhw");
    sb.append("cmlvclN0YXRlKTsKICAgICAgaWYgKHN5bmNlZCkgewogICAgICAgIGF2YWlsKHBhcmVudCwgc3RhdGUp");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIG5vdGF2YWlsKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAg");
    sb.append("ICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAvLyBUT0RPOiByZXR1cm4gZmFs");
    sb.append("c2UgdG8gdW5zdWIKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgYmluZF9yZXNw");
    sb.append("b25kZXIgPSBmdW5jdGlvbiAoY28sIGNsZWFudXAsIHJldHJ5X3NtKSB7CiAgICByZXRyeV9zbS51bmV4");
    sb.append("cGVjdGVkX2Vycm9ycyA9IDA7CiAgICByZXRyeV9zbS5iYWNrb2ZmID0gMTsKICAgIHJldHVybiB7CiAg");
    sb.append("ICAgIG5leHQ6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgY28uZGVidWdnZXIocGF5bG9hZCk7");
    sb.append("CiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZCh0cnVlKTsKICAgICAgICByZXRyeV9zbS51bmV4cGVjdGVk");
    sb.append("X2Vycm9ycyA9IDA7CiAgICAgICAgcmV0cnlfc20uYmFja29mZiA9IDE7CiAgICAgICAgaWYgKCJkYXRh");
    sb.append("IiBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBjby50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRh");
    sb.append("LmRhdGEpOwogICAgICAgIH0KICAgICAgICBpZiAoIm91dHN0YW5kaW5nIiBpbiBwYXlsb2FkLmRlbHRh");
    sb.append("KSB7CiAgICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0YW5kaW5nKTsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgaWYgKCd2aWV3c3RhdGUnIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNv");
    sb.append("LnZpZXdzdGF0ZXRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEudmlld3N0YXRlKTsKICAgICAgICB9CiAg");
    sb.append("ICAgICAgaWYgKCdsb2cnIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHBh");
    sb.append("eWxvYWQuZGVsdGEubG9nKTsKICAgICAgICB9CiAgICAgICAgaWYgKCdyZWxvYWQnIGluIHBheWxvYWQu");
    sb.append("ZGVsdGEpIHsKICAgICAgICAgIGlmIChwYXlsb2FkLmRlbHRhLnJlbG9hZFsncHJlc2VydmUtdmlldydd");
    sb.append("KSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyeHZpZXdzdGF0ZScsIEpTT04uc3Ry");
    sb.append("aW5naWZ5KGNvLnZpZXdzdGF0ZXRyZWUucmF3KCkpKTsKICAgICAgICAgIH0KICAgICAgICAgIHdpbmRv");
    sb.append("dy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9CiAgICAgICAgaWYgKCd2aWV3cG9ydCcgaW4gcGF5");
    sb.append("bG9hZC5kZWx0YSAmJiAnbWVzc2FnZScgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgdmFyIHZp");
    sb.append("ZXdwb3J0ID0gcGF5bG9hZC5kZWx0YS52aWV3cG9ydDsKICAgICAgICAgIGlmICh2aWV3cG9ydCBpbiBj");
    sb.append("by5oYW5kbGVycykgewogICAgICAgICAgICBjby5oYW5kbGVyc1t2aWV3cG9ydF0ocGF5bG9hZC5kZWx0");
    sb.append("YS5tZXNzYWdlLCBjbyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICgndmlldy1zdGF0");
    sb.append("ZS1maWx0ZXInIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZhciBmaWx0ZXIgPSB7fTsKICAg");
    sb.append("ICAgICAgIHZhciBrZXlzID0gcGF5bG9hZC5kZWx0YVsndmlldy1zdGF0ZS1maWx0ZXInXTsKICAgICAg");
    sb.append("ICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBmaWx0");
    sb.append("ZXJba2V5c1trXV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgY28uZmlsdGVyID0gZmlsdGVy");
    sb.append("OwogICAgICAgICAgY28uaGFzX2ZpbHRlciA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICgnZ290");
    sb.append("bycgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc2VsZi5nb3RvKHBheWxvYWQuZGVsdGEuZ290");
    sb.append("bywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICAvLyBzaG91bGRuJ3QgcmVhbGlzdGljYWxseSBoYXBwZW4gVE9ETzogdmFsaWRhdGUgPC0g");
    sb.append("dHJ1dGgKICAgICAgICBjby5zZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBjby5wdHIgPSBudWxs");
    sb.append("OwogICAgICB9LAogICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgLy8gcmVn");
    sb.append("aXN0ZXIgdGhlIGZhaWx1cmUKICAgICAgICBjby5zZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBj");
    sb.append("by5wdHIgPSBudWxsOwogICAgICAgIGlmIChyZWFzb24gPT0gNDAzNDAzIHx8IHJlYXNvbiA9PSA0MDM1");
    sb.append("MDAgfHwgcmVhc29uID09IDE4NDMzMykgewogICAgICAgICAgY2xlYW51cCgpOwogICAgICAgICAgcmV0");
    sb.append("dXJuOwogICAgICAgIH0KICAgICAgICAvLyBpcyBpdCBhbiBleHBlY3RlZCBlcnJvciB0aGF0IHdpbGwg");
    sb.append("aGFwcGVuIGEgYnVuY2g/CiAgICAgICAgdmFyIGV4cGVjdGVkX2Vycm9yID0gcmVhc29uID09IDk5OTsK");
    sb.append("ICAgICAgICAvLyBkbyB3ZSBub3Qga25vdyBhYm91dCBhbiBlcnJvciB0aGF0IGhhcHBlbnMgYSBidW5j");
    sb.append("aD8gaWYgc28sIHRoZW4gbGV0J3MgYXQgbGVhc3QgdHJ5IGFnYWluIGEgbnVtYmVyIG9mIGZpbml0ZSB0");
    sb.append("aW1lcy4KICAgICAgICB2YXIgYmxpbmRfcmV0cnkgPSByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA8");
    sb.append("IDE2OwogICAgICAgIGlmIChibGluZF9yZXRyeSkgewogICAgICAgICAgcmV0cnlfc20udW5leHBlY3Rl");
    sb.append("ZF9lcnJvcnMrKzsKICAgICAgICB9CiAgICAgICAgLy8gcmV0cnkgb24gZWl0aGVyIGNhc2UKICAgICAg");
    sb.append("ICBpZiAoZXhwZWN0ZWRfZXJyb3IgfHwgYmxpbmRfcmV0cnkpIHsKICAgICAgICAgIHJldHJ5X3NtLmJh");
    sb.append("Y2tvZmYgPSBNYXRoLmNlaWwoTWF0aC5taW4ocmV0cnlfc20uYmFja29mZiArIE1hdGgucmFuZG9tKCkg");
    sb.append("KiByZXRyeV9zbS5iYWNrb2ZmICsgKGJsaW5kX3JldHJ5ID8gMTI1IDogMSksIDI1MDApKTsKICAgICAg");
    sb.append("ICAgIGlmIChleHBlY3RlZF9lcnJvcikgewogICAgICAgICAgICAvLyB0aGUgZXhwZWN0ZWQgZXJyb3Ig");
    sb.append("aXMgYSBjb25uZWN0aW9uIGV2ZW50LCBzbyB3ZSBwcm90ZWN0IHRoZSBzZXJ2aWNlIGFuZCBqdW1wIGJh");
    sb.append("Y2stb2ZmIHJpZ2h0IHRvIG5lYXIgbWF4IG92ZXIgYSBuaWNlIHNwcmVhZAogICAgICAgICAgICByZXRy");
    sb.append("eV9zbS5iYWNrb2ZmID0gTWF0aC5taW4oMTI1MCwgcmV0cnlfc20uYmFja29mZikgKyBNYXRoLnJhbmRv");
    sb.append("bSgpICogMTI1MDsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChleHBlY3RlZF9lcnJvcikgewogICAg");
    sb.append("ICAgICAgICBjb25zb2xlLmxvZygiY29ubmVjdC1sb3NzfHJldHJ5aW5nLi4uICgiICsgcmV0cnlfc20u");
    sb.append("YmFja29mZiArICIpOyByZWFzb249IiArIHJlYXNvbiArIChibGluZF9yZXRyeSA/ICIgW2JsaW5kXSIg");
    sb.append("OiAiIikpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImNvbm5lY3Qt");
    sb.append("ZmFpbHVyZXxyZXRyeWluZy4uLiAoIiArIHJldHJ5X3NtLmJhY2tvZmYgKyAiKTsgcmVhc29uPSIgKyBy");
    sb.append("ZWFzb24gKyAoYmxpbmRfcmV0cnkgPyAiIFtibGluZF0iIDogIiIpKTsKICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIC8vIFRPRE86IG5lZWQgYSBkaWZmZXJlbnQgZmVlZGJhY2sgbWVjaGFuaXNtIChtYXliZSBhIG51");
    sb.append("bWJlciB1bmRlciB0aGUgd2lmaSBpY29uPykKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0");
    sb.append("aW9uKCkgewogICAgICAgICAgICByZXRyeV9zbS5nbygpOwogICAgICAgICAgfSwgcmV0cnlfc20uYmFj");
    sb.append("a29mZik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJnYXZlIHVwIGNvbm5l");
    sb.append("Y3Rpb247IiArIGNvLmxhYmVsICsgIjsgcmVhc29uPSIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIHZhciBzZXR1cF9jbyA9IGZ1bmN0aW9uKGRlc2lyZWQsIHVuc3ViLCBjbywg");
    sb.append("c3RhdGUpIHsKICAgIGNvLnZpZXdzdGF0ZXRyZWUgPSBzdGF0ZS52aWV3LnRyZWU7CiAgICB2YXIgc3lu");
    sb.append("Y190cmVlID0gZnVuY3Rpb24gKCkgewogICAgICAvLyBsZXQncyBjb3B5IG91dCB0aGUgdHJlZSBmcm9t");
    sb.append("IHRoZSB2aWV3c3RhdGUKICAgICAgdmFyIG5ld190cmVlID0gc2FmZV9maWx0ZXIoc3RhdGUudmlldy50");
    sb.append("cmVlLmNvcHkoKSk7CgogICAgICAvLyBpZiB3ZSBoYXZlIGdvdCBhIGZpbHRlciBmcm9tIHRoZSBzZXJ2");
    sb.append("ZXIsIHRoZW4gbGV0J3MgZmlsdGVyCiAgICAgIGlmIChjby5oYXNfZmlsdGVyKSB7CiAgICAgICAgLy8g");
    sb.append("cmVjb25zdHJ1Y3QgdGhlIG5ldyB2aWV3IGJhc2VkIG9uIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIGZp");
    sb.append("bHRlciBhbmQgdGhlIG5ldyBzdGF0ZQogICAgICAgIHZhciBmaWx0ZXJlZCA9IHt9OwogICAgICAgIGZv");
    sb.append("ciAodmFyIGsgaW4gbmV3X3RyZWUpIHsKICAgICAgICAgIGlmIChjby5maWx0ZXJba10pIHsKICAgICAg");
    sb.append("ICAgICAgZmlsdGVyZWRba10gPSBuZXdfdHJlZVtrXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAg");
    sb.append("ICAgLy8gYXNzdW1lIHRoZSBuZXcgdHJlZQogICAgICAgIG5ld190cmVlID0gZmlsdGVyZWQ7CiAgICAg");
    sb.append("IH0KICAgICAgLy8gaWYgdGhlIGNsb25lIChpLmUuIHN0cmluZ2lmaWVkIHZlcnNpb24pIGlzIHRoZSBz");
    sb.append("YW1lIGFzIHdoYXQgd2UgbGFzdCBzZW50LCB0aGVuIGRvbid0IHNlbmQgYW55dGhpbmcKICAgICAgdmFy");
    sb.append("IHByaW9yX2Nsb25lID0gSlNPTi5zdHJpbmdpZnkobmV3X3RyZWUpOwogICAgICBpZiAocHJpb3JfY2xv");
    sb.append("bmUgPT0gY28udmlld3N0YXRlX2Nsb25lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNv");
    sb.append("LnZpZXdzdGF0ZV9zZW50ID0gZmFsc2U7CiAgICAgIGNvLnZzc2VxKys7CiAgICAgIGNvLnN5bmMoKTsK");
    sb.append("ICAgICAgdmFyIHN5bmNlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY28udnNzZXEgPT0gdGhp");
    sb.append("cy5ib3VuZCkgewogICAgICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICAgICAgY28u");
    sb.append("c3luYygpOwogICAgICAgIH0KICAgICAgfS5iaW5kKHsgYm91bmQ6IGNvLnZzc2VxIH0pOwogICAgICBj");
    sb.append("by52aWV3c3RhdGVfY2xvbmUgPSBKU09OLnN0cmluZ2lmeShuZXdfdHJlZSk7CiAgICAgIGNvLnB0ci51");
    sb.append("cGRhdGUobmV3X3RyZWUsIHsgc3VjY2Vzczogc3luY2VkLCBmYWlsdXJlOiBzeW5jZWQgfSk7CiAgICB9");
    sb.append("OwogICAgdmFyIGJpbmQgPSBmdW5jdGlvbiAoc2VuZE5vdykgewogICAgICB1bnN1Yi52aWV3ID0gc3Rh");
    sb.append("dGUudmlldy50cmVlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvLnB0ciA9PSBu");
    sb.append("dWxsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHN5bmNfdHJlZSgpOwogICAg");
    sb.append("ICB9KTsKICAgICAgaWYgKHNlbmROb3cpIHsKICAgICAgICBzeW5jX3RyZWUoKTsKICAgICAgfQogICAg");
    sb.append("fTsKICAgIGlmIChjby5wdHIgIT0gbnVsbCAmJiBjby5ib3VuZCA9PSBkZXNpcmVkKSB7CiAgICAgIGJp");
    sb.append("bmQodHJ1ZSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGlmIChjby5wdHIgIT0gbnVsbCkg");
    sb.append("ewogICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBmdW5j");
    sb.append("dGlvbiAoKSB7IH0gfSk7CiAgICAgIGNvLnB0ciA9IG51bGw7CiAgICB9CiAgICByZXR1cm4gYmluZDsK");
    sb.append("ICB9OwoKICAvLyA8Y29ubmVjdGlvbiBiaWxsaW5nIC4uLj4KICBzZWxmLkJDT05ORUNUID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlLCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4b2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVy");
    sb.append("biByeG9iai5yZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICAgIHJl");
    sb.append("dHVybjsKICAgICAgfQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9vYmoocnhvYmoubmFtZSk7");
    sb.append("CiAgICAgIHZhciBkZXNpcmVkID0gIjpiaWxsaW5nOiIgKyBpZExvb2t1cC5pZGVudGl0eTsKICAgICAg");
    sb.append("dmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJp");
    sb.append("bmQgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVz");
    sb.append("aXJlZDsKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBjbGVh");
    sb.append("bnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwogICAgICBjby5pZGVudGl0");
    sb.append("eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2Vu");
    sb.append("dCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkJpbGxpbmcgWyAiICsgcnhvYmoubmFtZSArICJdIjsK");
    sb.append("ICAgICAgY28udmlhX2JpbGxpbmcgPSB0cnVlOwogICAgICBjby52aWFfZG9tYWluID0gZmFsc2U7CiAg");
    sb.append("ICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25kZXIgPSBiaW5kX3Jlc3Bv");
    sb.append("bmRlcihjbywgY2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9uKCkg");
    sb.append("ewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xvbmUg");
    sb.append("PSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQmlsbGluZ0Nvbm5lY3Rpb25DcmVhdGUo");
    sb.append("aWRlbnRpdHksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdvKCk7");
    sb.append("CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9OwoK");
    sb.append("ICBzZWxmLmRvbWFpbiA9IGxvY2F0aW9uLmhvc3RuYW1lOwogIHNlbGYuaG9zdCA9IGxvY2F0aW9uLmhv");
    sb.append("c3Q7CiAgc2VsZi5wcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sOwoKICBzZWxmLm1vYmlsZUluaXQg");
    sb.append("PSBmdW5jdGlvbihvdmVycmlkZURvbWFpbikgewogICAgc2VsZi5kb21haW4gPSBvdmVycmlkZURvbWFp");
    sb.append("bjsKICAgIHNlbGYuaG9zdCA9IG92ZXJyaWRlRG9tYWluOwogICAgc2VsZi5wcm90b2NvbCA9ICJodHRw");
    sb.append("cyI7CiAgfTsKCiAgLy8gPGNvbm5lY3Rpb24gdXNlLWRvbWFpbiAuLi4+CiAgc2VsZi5EQ09OTkVDVCA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1YiA9IHsKICAgICAgdmlldzogZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18gPSBkZWJvdW5jZSg1LCBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeG9iaikpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24gKCkg");
    sb.append("eyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4b2Jq");
    sb.append("Lm5hbWUpOwogICAgICB2YXIgZG9tYWluID0gc2VsZi5kb21haW47CiAgICAgIHZhciBkZXNpcmVkID0g");
    sb.append("ZG9tYWluICsgaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28oZGVzaXJl");
    sb.append("ZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAgICAgIHJl");
    sb.append("dHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CgogICAgICB2YXIgaWRlbnRpdHkg");
    sb.append("PSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVhbnVwOwog");
    sb.append("ICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgIGNvLmhh");
    sb.append("bmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28ubGFiZWwg");
    sb.append("PSAiRG9tYWluOiIgKyBkb21haW4gKyAiIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAgICAgIGNvLnZp");
    sb.append("YV9kb21haW4gPSB0cnVlOwogICAgICBjby52aWFfYmlsbGluZyA9IGZhbHNlOwogICAgICBjby5kb21h");
    sb.append("aW4gPSBkb21haW47CiAgICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25k");
    sb.append("ZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgY2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9zbS5n");
    sb.append("byA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBjby52");
    sb.append("aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRy");
    sb.append("ZWUuY29weSgpKSwgcmV0cnlfc20ucmVzcG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28o");
    sb.append("KTsKICAgICAgY28udHJlZS51cGRhdGUoe30pOwogICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07");
    sb.append("CgogIC8vIDxjb25uZWN0aW9uIC4uLj4KICBzZWxmLkNPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4");
    sb.append("b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQog");
    sb.append("ICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdmFs");
    sb.append("aWQgPSAna2V5JyBpbiByeG9iaiAmJiAnc3BhY2UnIGluIHJ4b2JqICYmICduYW1lJyBpbiByeG9iajsK");
    sb.append("ICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaWRMb29r");
    sb.append("dXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yZWRp");
    sb.append("cmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("fQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9vYmoocnhvYmoubmFtZSk7CiAgICAgIHZhciBk");
    sb.append("ZXNpcmVkID0gcnhvYmouc3BhY2UgKyAiLyIgKyByeG9iai5rZXkgKyAiLyIgKyBpZExvb2t1cC5pZGVu");
    sb.append("dGl0eTsgLy8gVE9ETzogbmVlZCBzb21lIGtpbmQgb2YgaGFzaGluZyBmdW5jdGlvbiBoZXJlCiAgICAg");
    sb.append("IHZhciBiaW5kID0gc2V0dXBfY28oZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChi");
    sb.append("aW5kID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRl");
    sb.append("c2lyZWQ7CgogICAgICB2YXIgaWRlbnRpdHkgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNs");
    sb.append("ZWFudXAgPSBpZExvb2t1cC5jbGVhbnVwOwogICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLnNwYWNl");
    sb.append("ID0gcnhvYmouc3BhY2U7CiAgICAgIGNvLmtleSA9IHJ4b2JqLmtleTsKICAgICAgY28uaWRlbnRpdHkg");
    sb.append("PSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7fTsKICAgICAgY28udmlld3N0YXRlX3NlbnQg");
    sb.append("PSB0cnVlOwogICAgICBjby5sYWJlbCA9IGNvLnNwYWNlICsgIi8iICsgY28ua2V5ICsgIiBbICIgKyBy");
    sb.append("eG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfZG9tYWluID0gZmFsc2U7CiAgICAgIGNvLnZpYV9i");
    sb.append("aWxsaW5nID0gZmFsc2U7CiAgICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNw");
    sb.append("b25kZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgY2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9z");
    sb.append("bS5nbyA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBj");
    sb.append("by52aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQ29ubmVj");
    sb.append("dGlvbkNyZWF0ZShpZGVudGl0eSwgcnhvYmouc3BhY2UsIHJ4b2JqLmtleSwgc2FmZV9maWx0ZXIoc3Rh");
    sb.append("dGUudmlldy50cmVlLmNvcHkoKSksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJl");
    sb.append("dHJ5X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAg");
    sb.append("ICB9KTsKICB9OwoKICBzZWxmLklOVEVSTkFMID0gZnVuY3Rpb24gKHByaW9yU3RhdGUpIHsKICAgIHJl");
    sb.append("dHVybiB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0YTogeyBjb25u");
    sb.append("ZWN0aW9uOiBudWxsLCB0cmVlOiBuZXcgQWRhbWFUcmVlKCksIGRlbHRhOiB7fSwgcGFyZW50OiBudWxs");
    sb.append("LCBwYXRoOiBudWxsIH0sCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyks");
    sb.append("CiAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgfTsKICB9OwoKICB2YXIgcmVjYWxsX2VtYWlsID0gZnVu");
    sb.append("Y3Rpb24gKGVsKSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIpIHsK");
    sb.append("ICAgICAgaWYgKCJlbWFpbCIgPT0gZWwudHlwZSAmJiAiZW1haWwiID09IGVsLm5hbWUpIHsKICAgICAg");
    sb.append("ICBlbC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIpOwogICAgICB9");
    sb.append("CiAgICB9IGVsc2UgewogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIg");
    sb.append("PSBlbC5jaGlsZHJlbjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHJlY2FsbF9lbWFpbChlbC5jaGlsZHJlbltrXSk7");
    sb.append("CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi5hVVAgPSBmdW5jdGlvbiAoZm9ybSwg");
    sb.append("c3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRl");
    sb.append("bnRpdHlOYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9E");
    sb.append("TzogbWFrZSByeHZhcgogICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0K");
    sb.append("ICAgIGZvcm0uYWN0aW9uID0gImh0dHBzOi8vIiArIEFkYW1hLlByb2R1Y3Rpb24gKyAiL351cGxvYWQi");
    sb.append("OwogICAgZm9ybS5tZXRob2QgPSAicG9zdCI7CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zv");
    sb.append("cm0tZGF0YSI7CiAgICB2YXIgaWRlbnRpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlu");
    sb.append("cHV0Iik7CiAgICBpZGVudGl0eUlucHV0LnR5cGUgPSAiaGlkZGVuIjsKICAgIGlkZW50aXR5SW5wdXQu");
    sb.append("bmFtZSA9ICJpZGVudGl0eSI7CiAgICBpZGVudGl0eUlucHV0LnZhbHVlID0gaWRMb29rdXAuaWRlbnRp");
    sb.append("dHk7CiAgICBmb3JtLmFwcGVuZENoaWxkKGlkZW50aXR5SW5wdXQpOwogICAgdmFyIGlmcmFtZVRhcmdl");
    sb.append("dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUg");
    sb.append("PSAiVVBMT0FEXyIgKyBNYXRoLnJhbmRvbSgpOwogICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwog");
    sb.append("ICAgaWZyYW1lVGFyZ2V0LmhlaWdodCA9ICIxIjsKCiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZVRh");
    sb.append("cmdldCk7CiAgICBmb3JtLnRhcmdldCA9IGlmcmFtZVRhcmdldC5uYW1lOwogIH07CgogIHNlbGYuYURV");
    sb.append("UCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlk");
    sb.append("TG9va3VwID0gc2VsZi5JRChpZGVudGl0eU5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4");
    sb.append("X2ZvcndhcmQ7IH0pOyAvLyBUT0RPOiBtYWtlIHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsK");
    sb.append("ICAgICAgcmV0dXJuOwogICAgfQogICAgZm9ybS5hY3Rpb24gPSBzZWxmLnByb3RvY29sICsgIi8vIiAr");
    sb.append("IHNlbGYuaG9zdCArICIvfnVwbG9hZCI7CiAgICBmb3JtLm1ldGhvZCA9ICJwb3N0IjsKICAgIGZvcm0u");
    sb.append("ZW5jdHlwZSA9ICJtdWx0aXBhcnQvZm9ybS1kYXRhIjsKICAgIHsKICAgICAgdmFyIGlkZW50aXR5SW5w");
    sb.append("dXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICBpZGVudGl0eUlucHV0LnR5");
    sb.append("cGUgPSAiaGlkZGVuIjsKICAgICAgaWRlbnRpdHlJbnB1dC5uYW1lID0gImlkZW50aXR5IjsKICAgICAg");
    sb.append("aWRlbnRpdHlJbnB1dC52YWx1ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICBmb3JtLmFwcGVuZENo");
    sb.append("aWxkKGlkZW50aXR5SW5wdXQpOwogICAgfQogICAgewogICAgICB2YXIgZG9tYWluSW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICBkb21haW5JbnB1dC50eXBlID0gImhpZGRl");
    sb.append("biI7CiAgICAgIGRvbWFpbklucHV0Lm5hbWUgPSAiZG9tYWluIjsKICAgICAgZG9tYWluSW5wdXQudmFs");
    sb.append("dWUgPSBzZWxmLmRvbWFpbjsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChkb21haW5JbnB1dCk7CiAgICB9");
    sb.append("CiAgICB2YXIgaWZyYW1lVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAg");
    sb.append("ICBpZnJhbWVUYXJnZXQubmFtZSA9ICJVUExPQURfIiArIE1hdGgucmFuZG9tKCk7CiAgICBpZnJhbWVU");
    sb.append("YXJnZXQud2lkdGggPSAiMSI7CiAgICBpZnJhbWVUYXJnZXQuaGVpZ2h0ID0gIjEiOwogICAgZm9ybS5h");
    sb.append("cHBlbmRDaGlsZChpZnJhbWVUYXJnZXQpOwogICAgZm9ybS50YXJnZXQgPSBpZnJhbWVUYXJnZXQubmFt");
    sb.append("ZTsKICB9OwoKICB2YXIgc3Rhc2hfaWRlbnRpdHkgPSBmdW5jdGlvbihuYW1lLCBpZGVudGl0eSwgY29u");
    sb.append("bmVjdGlvbikgewogICAgdmFyIHJlcSA9IHt9OwogICAgcmVxWyduYW1lJ10gPSBuYW1lOwogICAgcmVx");
    sb.append("WydpZGVudGl0eSddID0gaWRlbnRpdHk7CiAgICByZXFbJ21heC1hZ2UnXSA9IDU1Mjk2MDA7CgogICAg");
    sb.append("dmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICAg");
    sb.append("IGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGNvbm5lY3Rpb24uSWRlbnRpdHlTdGFz");
    sb.append("aChpZGVudGl0eSwgbmFtZSwgewogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ICAgICAgICAvLyBUSElTIEhBUyBEUkFHT05TIFVOVElMIEEgRlVMTCBQUk9EVUNUSU9OIERFUExPWU1F");
    sb.append("TlQKICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIG5hbWUs");
    sb.append("ICJjb29raWU6IiArIG5hbWUpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmYWlsdXJlOiBmdW5j");
    sb.append("dGlvbih4eXopIHsKCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQog");
    sb.append("ICAgfTsKICAgIHhodHRwLm9wZW4oIlBVVCIsIHNlbGYucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0");
    sb.append("ICsgIi9+c3Rhc2gvIiArIERhdGUubm93KCksIHRydWUpOwogICAgeGh0dHAud2l0aENyZWRlbnRpYWxz");
    sb.append("ID0gdHJ1ZTsKICAgIHhodHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxKSk7CiAgfTsKCiAgdmFyIGdl");
    sb.append("dF9mb3JtX2FuZF9wdyA9IGZ1bmN0aW9uKGZvcm0pIHsKICAgIHZhciBwYXNzd29yZHMgPSB7fTsKICAg");
    sb.append("IHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCBwYXNzd29yZHMpOwogICAgaWYgKCdwYXNzd29yZCcgaW4g");
    sb.append("cGFzc3dvcmRzKSB7CiAgICAgIHJlcVsncGFzc3dvcmQnXSA9IHBhc3N3b3Jkc1sncGFzc3dvcmQnXTsK");
    sb.append("ICAgIH0KICAgIGlmICgnbmV3X3Bhc3N3b3JkJyBpbiBwYXNzd29yZHMpIHsKICAgICAgcmVxWyduZXdf");
    sb.append("cGFzc3dvcmQnXSA9IHBhc3N3b3Jkc1snbmV3X3Bhc3N3b3JkJ107CiAgICB9CiAgICByZXR1cm4gcmVx");
    sb.append("OwogIH0KCiAgdmFyIGNvbW1vbkF1dGhvcml6ZSA9IGZ1bmN0aW9uKGZvcm0sIHN0YXRlLCBpZGVudGl0");
    sb.append("eU5hbWUsIHJ4b2JqLCBuZXh0U3RlcCkgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAg");
    sb.append("ICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0");
    sb.append("LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybV9hbmRfcHcoZm9ybSk7CiAg");
    sb.append("ICAgIHZhciBzbSA9IHthdHRlbXB0czowfTsKICAgICAgc20ucmVzcG9uZGVyID0gewogICAgICAgIHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFt");
    sb.append("ZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50");
    sb.append("aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgc3Rhc2hfaWRl");
    sb.append("bnRpdHkoaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5LCBjb25uZWN0aW9uKTsKICAgICAgICAg");
    sb.append("IC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4");
    sb.append("X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAog");
    sb.append("ICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShm");
    sb.append("b3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH07CiAgICAgIG5leHRTdGVwKHJlcSwgc20ucmVzcG9uZGVyKTsKICAgIH0sIHRydWUpOwogIH0K");
    sb.append("CiAgLy8gcng6YWN0aW9uPWRvY3VtZW50OmF1dGhvcml6ZQogIHNlbGYuYURPQyA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9uQXV0aG9yaXplKGZvcm0s");
    sb.append("IHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbihyZXEsIHJlc3BvbmRlcikgewogICAg");
    sb.append("ICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXphdGlvbihyZXEuc3BhY2UsIHJlcS5rZXksIHJlcSwg");
    sb.append("cmVzcG9uZGVyKTsKICAgIH0pOwogIH07CgogIC8vIHJ4OmFjdGlvbj1kb21haW46YXV0aG9yaXplCiAg");
    sb.append("c2VsZi5hRE9NID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAg");
    sb.append("ICBjb21tb25BdXRob3JpemUoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIGZ1bmN0aW9u");
    sb.append("KHJlcSwgcmVzcG9uZGVyKSB7CiAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemF0aW9uRG9t");
    sb.append("YWluKHNlbGYuZG9tYWluLCByZXEsIHJlc3BvbmRlcik7CiAgICB9KTsKICB9OwoKICAvLyByeDpldmVu");
    sb.append("dD10b2dnbGUtcGFzc3dvcmQKICBzZWxmLm9uUFdUID0gZnVuY3Rpb24oZG9tLCBzdGF0ZSwgdHlwZSkg");
    sb.append("ewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2");
    sb.append("YXIgY3VyID0gZG9tOwogICAgICB3aGlsZSAoY3VyLnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPSAiUEFT");
    sb.append("U1dPUkQtSE9MREVSIikgewogICAgICAgIGN1ciA9IGN1ci5wYXJlbnRFbGVtZW50OwogICAgICB9CiAg");
    sb.append("ICAgIHZhciBodW50ID0gZnVuY3Rpb24obm9kZSkgewogICAgICAgIGlmIChub2RlLnRhZ05hbWUudG9V");
    sb.append("cHBlckNhc2UoKSA9PSAiSU5QVVQiICYmIChub2RlLm5hbWUgPT0gInBhc3N3b3JkIiB8fCBub2RlLm5h");
    sb.append("bWUgPT0gImNvbmZpcm0tcGFzc3dvcmQiIHx8IG5hbWUgPT0gIm5ld19wYXNzd29yZCIgfHwgbmFtZSA9");
    sb.append("PSAiY29uZmlybS1uZXdfcGFzc3dvcmQiKSkgewogICAgICAgICAgaWYgKG5vZGUudHlwZSA9PSAicGFz");
    sb.append("c3dvcmQiKSB7CiAgICAgICAgICAgIG5vZGUudHlwZSA9ICJ0ZXh0IgogICAgICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICAgICAgbm9kZS50eXBlID0gInBhc3N3b3JkIgogICAgICAgICAgfQogICAgICAgIH0KICAg");
    sb.append("ICAgICBpZiAoJ2NoaWxkcmVuJyBpbiBub2RlKSB7CiAgICAgICAgICB2YXIgY2ggPSBub2RlLmNoaWxk");
    sb.append("cmVuOwogICAgICAgICAgdmFyIG4gPSBjaC5sZW5ndGg7CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IG47IGsrKykgewogICAgICAgICAgICBodW50KGNoW2tdKTsKICAgICAgICAgIH0KICAgICAgICB9");
    sb.append("CiAgICAgIH07CiAgICAgIGlmIChjdXIgIT0gbnVsbCkgewogICAgICAgIGh1bnQoY3VyKTsKICAgICAg");
    sb.append("fQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbgogIHNl");
    sb.append("bGYuYWREU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAg");
    sb.append("IHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJt");
    sb.append("aXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIg");
    sb.append("cmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0pOwogICAgICB2YXIgc20gPSB7YXR0ZW1wdHM6MH07CiAg");
    sb.append("ICAgIHNtLnJlc3BvbmRlciA9IHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewog");
    sb.append("ICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAg");
    sb.append("ICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2Fk");
    sb.append("LmlkZW50aXR5KTsKICAgICAgICAgIHN0YXNoX2lkZW50aXR5KGlkZW50aXR5TmFtZSwgcGF5bG9hZC5p");
    sb.append("ZGVudGl0eSwgY29ubmVjdGlvbik7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlv");
    sb.append("bnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICBm");
    sb.append("aXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVh");
    sb.append("c29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9j");
    sb.append("dW1lbnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25uZWN0aW9uLkRvY3Vt");
    sb.append("ZW50QXV0aG9yaXplRG9tYWluKHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwg");
    sb.append("c20ucmVzcG9uZGVyKTsKICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1k");
    sb.append("b2N1bWVudDpzaWduLWluCiAgc2VsZi5hRFNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0");
    sb.append("eU5hbWUsIHJ4b2JqKSB7IC8vIERFUFJFQ0FURUQKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9");
    sb.append("OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAg");
    sb.append("IGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0p");
    sb.append("OwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplKHJlcS5zcGFjZSwgcmVxLmtleSwgcmVx");
    sb.append("LnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9h");
    sb.append("ZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsK");
    sb.append("ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBw");
    sb.append("YXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwog");
    sb.append("ICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVf");
    sb.append("c3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24p");
    sb.append("IHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVu");
    sb.append("dDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8g");
    sb.append("UlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbi1yZXNldAogIHNlbGYuYWREU09yID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7IC8vIERFUFJFQ0FURUQKICAg");
    sb.append("IHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJt");
    sb.append("aXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIg");
    sb.append("cmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0pOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9y");
    sb.append("aXplRG9tYWluV2l0aFJlc2V0KHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwg");
    sb.append("cmVxLm5ld19wYXNzd29yZCx7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAg");
    sb.append("ICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5p");
    sb.append("ZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMKICAgICAgICAg");
    sb.append("IHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3Mo");
    sb.append("Zm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAg");
    sb.append("ICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJl");
    sb.append("YXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8");
    sb.append("IHJ4OmFjdGlvbj1kb2N1bWVudDpzaWduLWluLXJlc2V0CiAgc2VsZi5hRFNPciA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgeyAvLyBERVBSRUNBVEVECiAgICByeG9iai5f");
    sb.append("XyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVu");
    sb.append("Y3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdl");
    sb.append("dF9mb3JtX2FuZF9wdyhmb3JtKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZVdpdGhS");
    sb.append("ZXNldChyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCByZXEubmV3");
    sb.append("X3Bhc3N3b3JkLHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAg");
    sb.append("aWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2Fs");
    sb.append("U3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5");
    sb.append("KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5n");
    sb.append("b3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsK");
    sb.append("ICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0sIHRydWUpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5hdXRvZ2VuaWQgPSAx");
    sb.append("OwogIHNlbGYuWCA9IGZ1bmN0aW9uKCkgewogICAgc2VsZi5hdXRvZ2VuaWQrKzsKICAgIHJldHVybiAn");
    sb.append("eCcgKyBzZWxmLmF1dG9nZW5pZDsKICB9OwoKICB2YXIgdHJhbnNmb3JtcyA9IHt9OwogIHRyYW5zZm9y");
    sb.append("bXNbJ3ByaW5jaXBhbC5hZ2VudCddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC5hZ2VudDsgfTsKICB0");
    sb.append("cmFuc2Zvcm1zWydwcmluY2lwYWwuYXV0aG9yaXR5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4LmF1");
    sb.append("dGhvcml0eTsgfTsKICB0cmFuc2Zvcm1zWyd0cmltJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycg");
    sb.append("KyB4KS50cmltKCk7IH07CiAgdHJhbnNmb3Jtc1sndXBwZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJu");
    sb.append("ICgnJyArIHgpLnRvVXBwZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snbG93ZXInXSA9IGZ1bmN0aW9u");
    sb.append("KHgpIHsgcmV0dXJuICgnJyArIHgpLnRvTG93ZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snaXNfZW1w");
    sb.append("dHlfc3RyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4ID09ICIiOyB9OwogIHRyYW5zZm9ybXNbJ2lz");
    sb.append("X25vdF9lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggIT0gIiI7IH07CiAgdHJhbnNm");
    sb.append("b3Jtc1snanNvbmlmeSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7IH07");
    sb.append("CiAgdHJhbnNmb3Jtc1sndGltZV9ub3cnXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIERhdGUubm93KCkg");
    sb.append("KyAiIjsgfTsKICB0cmFuc2Zvcm1zWydzaXplX2J5dGVzJ10gPSBmdW5jdGlvbih4cmF3KSB7CiAgICB2");
    sb.append("YXIgeCA9IDAuMDsKICAgIGlmICh0eXBlb2YoeHJhdykgPT0gJ251bWJlcicpIHsKICAgICAgeCA9IHhy");
    sb.append("YXc7CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIHggPSBwYXJzZUZsb2F0KHhyYXcpOwog");
    sb.append("ICAgICB9IGNhdGNoIChleCkgewoKICAgICAgfQogICAgfQogICAgdmFyIGl2YWwgPSBNYXRoLmZsb29y");
    sb.append("KHgpOwogICAgaWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBpdmFsICsgIiBCIjsKICAgIH0K");
    sb.append("ICAgIGl2YWwgLz0gMTAyNDsKICAgIGlmIChpdmFsIDwgMTAyNCkgewogICAgICByZXR1cm4gTWF0aC5y");
    sb.append("b3VuZChpdmFsICogMTApIC8gMTAuMCArICIgS0IiOwogICAgfQogICAgaXZhbCAvPSAxMDI0OwogICAg");
    sb.append("aWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGl2YWwgKiAxMCkgLyAxMC4w");
    sb.append("ICsgIiBNQiI7CiAgICB9CiAgICBpdmFsIC89IDEwMjQ7CiAgICBpZiAoaXZhbCA8IDEwMjQpIHsKICAg");
    sb.append("ICAgcmV0dXJuIE1hdGgucm91bmQoaXZhbCAqIDEwKSAvIDEwLjAgKyAiIEdCIjsKICAgIH0KICB9CiAg");
    sb.append("dHJhbnNmb3Jtc1sndnVsZ2FyX2ZyYWN0aW9uJ10gPSBmdW5jdGlvbih4cmF3KSB7CiAgICB2YXIgeCA9");
    sb.append("IDAuMDsKICAgIGlmICh0eXBlb2YoeHJhdykgPT0gJ251bWJlcicpIHsKICAgICAgeCA9IHhyYXc7CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIHggPSBwYXJzZUZsb2F0KHhyYXcpOwogICAgICB9");
    sb.append("IGNhdGNoIChleCkgewoKICAgICAgfQogICAgfQogICAgdmFyIGl2YWwgPSBNYXRoLmZsb29yKHgpOwog");
    sb.append("ICAgdmFyIGNoYW5nZSA9IHggLSBpdmFsOwogICAgdmFyIHN1ZmZpeCA9ICIiOwogICAgaWYgKGNoYW5n");
    sb.append("ZSA8PSAwLjA2MjUpIHsKICAgICAgLy8gMAogICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0gMC4xODc1KSB7");
    sb.append("CiAgICAgIHN1ZmZpeCA9ICLihZsiOwogICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0gMC4zMTI1KSB7CiAg");
    sb.append("ICAgIHN1ZmZpeCA9ICLCvCI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjQzNzUpIHsKICAgICAg");
    sb.append("c3VmZml4ID0gIuKFnCI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjU2MjUpIHsKICAgICAgc3Vm");
    sb.append("Zml4ID0gIsK9IjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuNjg3NSkgewogICAgICBzdWZmaXgg");
    sb.append("PSAi4oWdIjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuODEyNSkgewogICAgICBzdWZmaXggPSAi");
    sb.append("wr4iOyAvLyAzLzQKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuOTM3NSkgewogICAgICBzdWZmaXgg");
    sb.append("PSAi4oWeIjsKICAgIH0gLy8gZWxzZSAxCiAgICByZXR1cm4gaXZhbCArIHN1ZmZpeDsKICB9CiAgdHJh");
    sb.append("bnNmb3Jtc1sndGltZV9hZ28nXSA9IGZ1bmN0aW9uKGR0KSB7CiAgICAvLyBvbmx5IHRyYW5zZm9ybSBz");
    sb.append("dHJpbmdzCiAgICBpZiAodHlwZW9mIChkdCkgPT0gInN0cmluZyIpIHsKICAgICAgLy8gbGV0J3Mgc3Ry");
    sb.append("aXAgb3V0IGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGJyYWNrZXRzCiAgICAgIHZhciBzID0gZHQ7CiAgICAg");
    sb.append("IHZhciBrID0gcy5pbmRleE9mKCdbJyk7CiAgICAgIGlmIChrID49IDApIHsKICAgICAgICBzID0gcy5z");
    sb.append("dWJzdHJpbmcoMCwgayk7CiAgICAgIH0KICAgICAgdmFyIGQgPSBEYXRlLnBhcnNlKHMpOwogICAgICBp");
    sb.append("ZiAoTnVtYmVyLmlzTmFOKGQpKSB7CiAgICAgICAgLy8gaXQgaXNuJ3QgYSBudW1iZXIsIHNvIHdlIGRp");
    sb.append("ZG4ndCBnZXQgYSBkYXRlIHN0YW1wOyBkZWZhdWx0IHRvIHRoZSBpbnB1dAogICAgICAgIHJldHVybiBk");
    sb.append("dDsKICAgICAgfQogICAgICAvLyB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBwcm9kdWNpbmcgYSBzdHJpbmcg");
    sb.append("bGlrZSAiWCBtaW51dGVzIGFnbyIsIHNvIHN0YXJ0IHdpdGggc2Vjb25kcwogICAgICB2YXIgZGVsdGEg");
    sb.append("PSAoRGF0ZS5ub3coKSAtIGQpLzEwMDA7IC8vIHNlY29uZHM7CiAgICAgIGlmIChkZWx0YSA8IDYwKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuICJMZXNzIHRoYW4gYSBtaW51dGUgYWdvIjsKICAgICAgfQogICAgICAvLyBp");
    sb.append("dCB3YXNuJ3QgOTAgc2Vjb25kcyBhZ28gb3IgbGVzcywgc28gbGV0J3MgcmVmaW5lIHRvd2FyZHMgbWlu");
    sb.append("dXRlcwogICAgICBkZWx0YSAvPSA2MDsgLy8gbm93IGl0IGlzIG1pbnV0ZXMKICAgICAgaWYgKGRlbHRh");
    sb.append("IDwgNjApIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIG1pbnV0ZXMgYWdvIjsK");
    sb.append("ICAgICAgfQogICAgICBpZiAoZGVsdGEgPiAyLjYyOGUrNykgewogICAgICAgIHJldHVybiAiTmV2ZXIi");
    sb.append("OwogICAgICB9CiAgICAgIC8vIGl0IHdhc24ndCA5MCBtaW51dGVzIGFnbywgc28gbGV0J3MganVzdCBw");
    sb.append("dXQgdGhlIHRpbWUgc3RhbXAgdXAKICAgICAgdmFyIGR0aGVuID0gbmV3IERhdGUoZCk7CiAgICAgIHZh");
    sb.append("ciBkbm93ID0gbmV3IERhdGUoKTsKICAgICAgaWYgKGR0aGVuLnRvTG9jYWxlRGF0ZVN0cmluZygpICE9");
    sb.append("IGRub3cudG9Mb2NhbGVEYXRlU3RyaW5nKCkpIHsKICAgICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVE");
    sb.append("YXRlU3RyaW5nKCkgKyAiICIgKyBkdGhlbi50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgfQogICAg");
    sb.append("ICByZXR1cm4gZHRoZW4udG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBk");
    sb.append("byBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9OwoKICB0cmFuc2Zvcm1zWyd0aW1lJ10g");
    sb.append("PSBmdW5jdGlvbihkdCkgewogICAgICAgIC8vIG9ubHkgdHJhbnNmb3JtIHN0cmluZ3MKICAgIGlmICh0");
    sb.append("eXBlb2YgKGR0KSA9PSAic3RyaW5nIikgewogICAgICAvLyBsZXQncyBzdHJpcCBvdXQgZXZlcnl0aGlu");
    sb.append("ZyBhZnRlciB0aGUgYnJhY2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAgICAgdmFyIGsgPSBzLmluZGV4");
    sb.append("T2YoJ1snKTsKICAgICAgaWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBrKTsK");
    sb.append("ICAgICAgfQoKICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gdGltZSBmb3JtYXQKICAgICAgdmFyIHQg");
    sb.append("PSBkdC5pbmRleE9mKCI6Iik7CiAgICAgIGlmICh0IDwgMCkgewogICAgICAgIHJldHVybiBkdDsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgaCA9IGR0LnNwbGl0KCI6IilbMF07CiAgICAgIHZhciBob3VycyA9IGg7CiAg");
    sb.append("ICAgIGlmIChoLmxlbmd0aCA+IDIpIHsKICAgICAgICBob3VycyA9IGguc3Vic3RyaW5nKGgubGVuZ3Ro");
    sb.append("IC0gMiwgaC5sZW5ndGgpOyAvLyB0cmltIGxlZnQgaW4gY2FzZSBvZiBkYXRldGltZQogICAgICB9CiAg");
    sb.append("ICAgIHZhciBBbU9yUG0gPSBob3VycyA+PSAxMiA/ICdwbScgOiAnYW0nOwogICAgICBob3VycyA9ICho");
    sb.append("b3VycyAlIDEyKSB8fCAxMjsKICAgICAgdmFyIG0gPSBkdC5zcGxpdCgiOiIpWzFdCiAgICAgIHZhciBt");
    sb.append("aW51dGVzID0gbTsKICAgICAgaWYgKG0ubGVuZ3RoID4gMikgewogICAgICAgIG1pbnV0ZXMgPSBtLnN1");
    sb.append("YnN0cmluZygwLDIpOyAvLyB0cmltIHJpZ2h0IGluIGNhc2Ugb2YgZGF0ZXRpbWUKICAgICAgfQoKICAg");
    sb.append("ICAgcmV0dXJuIGhvdXJzICsgIjoiICsgbWludXRlcyArICIgIiArIEFtT3JQbTsgCiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9OwoKICBzZWxmLlJU");
    sb.append("UiA9IGZ1bmN0aW9uKG5hbWUsIHRyYW5zZm9ybSkgewogICAgdHJhbnNmb3Jtc1tuYW1lXSA9IHRyYW5z");
    sb.append("Zm9ybTsKICB9OwogIHNlbGYucmVnaXN0ZXJUcmFuc2Zvcm0gPSBzZWxmLlJUUjsKCiAgLy8ge2JsYWh8");
    sb.append("bmFtZX0KICBzZWxmLlRSID0gZnVuY3Rpb24obmFtZSkgewogICAgaWYgKG5hbWUgaW4gdHJhbnNmb3Jt");
    sb.append("cykgewogICAgICByZXR1cm4gdHJhbnNmb3Jtc1tuYW1lXTsKICAgIH0KICAgIHJldHVybiBmdW5jdGlv");
    sb.append("bih4KSB7IHJldHVybiB4OyB9OwogIH07CgogIC8vIFRPRE8KICB2YXIgdmFsaWRhdG9ycyA9IHt9Owog");
    sb.append("IHNlbGYuUlYgPSBmdW5jdGlvbihuYW1lLCB2YWxpZGF0b3IpIHsKICAgIHZhbGlkYXRvcnNbbmFtZV0g");
    sb.append("PSB2YWxpZGF0b3I7CiAgfTsKICBzZWxmLnJlZ2lzdGVyVmFsaWRhdG9yID0gc2VsZi5SVjsKCiAgdmFy");
    sb.append("IGNvbW1vblB1dCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgdXJs");
    sb.append("ZmFjdG9yeSkgewogICAgLy8gV0lQCiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZv");
    sb.append("cm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJl");
    sb.append("dmVudERlZmF1bHQoKTsKICAgICAgdmFyIHBhc3N3b3JkcyA9IHt9OwogICAgICB2YXIgcmVxID0gZ2V0");
    sb.append("X2Zvcm0oZm9ybSwgcGFzc3dvcmRzKTsKCiAgICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICAgIHZhciB1cmwgPSB1cmxmYWN0b3J5KHJ4b2JqKTsKICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1M");
    sb.append("SHR0cFJlcXVlc3QoKTsKICAgICAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICAgICAgaWYgKHRo");
    sb.append("aXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRSZXNwb25z");
    sb.append("ZUhlYWRlcigiQ29udGVudC1UeXBlIik7CiAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gInRleHQvZXJy");
    sb.append("b3IiKSB7CiAgICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgdGhpcy5yZXNwb25zZVRleHQp");
    sb.append("OwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAi");
    sb.append("YXBwbGljYXRpb24vanNvbiIpIHsKICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkID0gSlNPTi5wYXJz");
    sb.append("ZSh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBpZiAoJ2lkZW50aXR5JyBpbiBwYXls");
    sb.append("b2FkKSB7CiAgICAgICAgICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQu");
    sb.append("aWRlbnRpdHk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8i");
    sb.append("ICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsK");
    sb.append("ICAgICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgICAgZm9ybS5kaXNwYXRj");
    sb.append("aEV2ZW50KG5ldyBFdmVudCgic3VibWl0dGVkIikpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("ICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGNvbW11bmljYXRlIHRvIHNlcnZlciIp");
    sb.append("OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB4aHR0cC5vcGVuKCJQ");
    sb.append("VVQiLCB1cmwsIHRydWUpOwogICAgICAgIHhodHRwLndpdGhDcmVkZW50aWFscyA9IHRydWU7CiAgICAg");
    sb.append("ICAgeGh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShyZXEpKTsKICAgICAgfTsKCiAgICAgIGlmICgncGFz");
    sb.append("c3dvcmQnIGluIHBhc3N3b3JkcykgewogICAgICAgIGlmICghKCdjb25maXJtLXBhc3N3b3JkJyBpbiBw");
    sb.append("YXNzd29yZHMpIHx8IHBhc3N3b3Jkc1sncGFzc3dvcmQnXSA9PSBwYXNzd29yZHNbJ2NvbmZpcm0tcGFz");
    sb.append("c3dvcmQnXSkgewogICAgICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudHNIYXNoUGFzc3dvcmQocGFzc3dv");
    sb.append("cmRzWydwYXNzd29yZCddLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChoYXNoZWRfcHcp");
    sb.append("IHsKICAgICAgICAgICAgICByZXFbJ3Bhc3N3b3JkJ10gPSBoYXNoZWRfcHcucGFzc3dvcmRIYXNoOwog");
    sb.append("ICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmFpbGVkOiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gaGFzaCBw");
    sb.append("YXNzd29yZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAg");
    sb.append("ICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJQYXNzd29yZHMgZG9uJ3QgbWF0Y2giKTsKICAgICAgICB9");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCgpOwogICAgICB9CiAgICB9LCB0cnVlKTsKICB9Cgog");
    sb.append("IC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9tYWluOnB1dAogIHNlbGYuYWREUFVUID0gZnVuY3Rpb24g");
    sb.append("KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3Rh");
    sb.append("dGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gc2VsZi5wcm90");
    sb.append("b2NvbCArICIvLyIgKyBzZWxmLmhvc3QgKyAiLyIgKyByeG9iai5wYXRoOyB9KQogIH07CgogIC8vIFJV");
    sb.append("TlRJTUUgfCByeDphY3Rpb249ZG9jdW1lbnQ6cHV0CiAgc2VsZi5hRFBVVCA9IGZ1bmN0aW9uIChmb3Jt");
    sb.append("LCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9uUHV0KGZvcm0sIHN0YXRlLCBp");
    sb.append("ZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbiAocnhvYmopIHsgcmV0dXJuICJodHRwczovLyIgKyBj");
    sb.append("b25uZWN0aW9uLmhvc3QgKyAiLyIgKyByeG9iai5zcGFjZSArICIvIiArIHJ4b2JqLmtleSArICIvIiAr");
    sb.append("IHJ4b2JqLnBhdGg7IH0pCiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1hZGFtYTpzaWduLWlu");
    sb.append("CiAgc2VsZi5hU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsK");
    sb.append("ICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICByZWNhbGxfZW1haWwoZm9ybSk7CiAgICB9LCAxKTsKICAgIC8vIFRPRE86IHB1");
    sb.append("bGwgZW1haWwgb3V0IG9mIHRoaW4gYWlyCiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcs");
    sb.append("IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEg");
    sb.append("PSBnZXRfZm9ybV9hbmRfcHcoZm9ybSk7CiAgICAgIGlmIChyZXEucmVtZW1iZXIpIHsKICAgICAgICBs");
    sb.append("b2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWxfcmVtZW1iZXIiLCByZXEuZW1haWwpOwogICAgICB9IGVs");
    sb.append("c2UgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsICIiKTsKICAg");
    sb.append("ICAgfQogICAgICBjb25uZWN0aW9uLkFjY291bnRMb2dpbihyZXEuZW1haWwsIHJlcS5wYXNzd29yZCwg");
    sb.append("ewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVz");
    sb.append("W2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNl");
    sb.append("dEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAg");
    sb.append("ICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vz");
    sb.append("cyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAg");
    sb.append("ICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiQWNjb3VudExvZ2luIEZhaWxlZDoiICsgcmVhc29uKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFj");
    sb.append("dGlvbj1hZGFtYTpzaWduLXVwCiAgc2VsZi5hU1UgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndh");
    sb.append("cmRUbykgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7");
    sb.append("CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwg");
    sb.append("e30pOwogICAgICBjb25uZWN0aW9uLkluaXRTZXR1cEFjY291bnQocmVxLmVtYWlsLCB7CiAgICAgICAg");
    sb.append("c3VjY2VzczogZnVuY3Rpb24gKC8qIHBheWxvYWQgKi8pIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5z");
    sb.append("ZXRJdGVtKCJlbWFpbCIsIHJlcS5lbWFpbCk7CiAgICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvLCBm");
    sb.append("YWxzZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWls");
    sb.append("dXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkluaXRT");
    sb.append("ZXR1cEFjY291bnQgRmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCB0");
    sb.append("cnVlKTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNldC1wYXNzd29yZAogIHNl");
    sb.append("bGYuYVNQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0uYWRkRXZl");
    sb.append("bnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1");
    sb.append("bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtX2FuZF9wdyhmb3JtKTsKICAgICAgaWYgKCEoImVt");
    sb.append("YWlsIiBpbiByZXEpKSB7CiAgICAgICAgcmVxLmVtYWlsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImVt");
    sb.append("YWlsIik7CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5Jbml0Q29tcGxldGVBY2NvdW50KHJlcS5lbWFp");
    sb.append("bCwgZmFsc2UsIHJlcS5jb2RlLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGluaXQpIHsKICAg");
    sb.append("ICAgICAgIHZhciBpZGVudGl0eSA9IGluaXQuaWRlbnRpdHk7CiAgICAgICAgICBjb25uZWN0aW9uLkFj");
    sb.append("Y291bnRTZXRQYXNzd29yZChpbml0LmlkZW50aXR5LCByZXEucGFzc3dvcmQsIHsKICAgICAgICAgICAg");
    sb.append("c3VjY2VzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJp");
    sb.append("ZGVudGl0eV9kZWZhdWx0IiwgaWRlbnRpdHkpOwogICAgICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJk");
    sb.append("VG8sIGZhbHNlKTsKICAgICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgIH0s");
    sb.append("CiAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBmaXJl");
    sb.append("X2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBBY2NvdW50U2V0UGFzc3dvcmQ6IiArIHJlYXNvbik7CiAgICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24g");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgSW5pdENvbXBsZXRl");
    sb.append("QWNjb3VudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsK");
    sb.append("CgogIHZhciBoeWRyYXRlX2Zvcm0gPSBmdW5jdGlvbihlbCwgaW5wdXQpIHsKICAgIHZhciB0YWcgPSBl");
    sb.append("bC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICB2YXIgaXNTZXR0YWJsZSA9IHRhZyA9PSAiU0VMRUNU");
    sb.append("IiB8fCB0YWcgPT0gIklOUFVUIiB8fCB0YWcgPT0gIkhJRERFTiI7CiAgICBpZiAoJ25hbWUnIGluIGVs");
    sb.append("ICYmIGlzU2V0dGFibGUpIHsKICAgICAgdmFyIG5hbWUgPSBlbC5uYW1lOwogICAgICB2YXIgcGF5bG9h");
    sb.append("ZCA9IGlucHV0OwogICAgICB2YXIga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZign");
    sb.append("LicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdoaWxlIChrRG90T3JTbGFzaCA+IDApIHsKICAg");
    sb.append("ICAgICB2YXIgaXRlbSA9IG5hbWUuc3Vic3RyaW5nKDAsIGtEb3RPclNsYXNoKTsKICAgICAgICBuYW1l");
    sb.append("ID0gbmFtZS5zdWJzdHJpbmcoa0RvdE9yU2xhc2ggKyAxKTsKICAgICAgICBpZiAoaXRlbSBpbiBwYXls");
    sb.append("b2FkKSB7CiAgICAgICAgICBwYXlsb2FkID0gcGF5bG9hZFtpdGVtXTsKICAgICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIo");
    sb.append("bmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgfQogICAgICBpZiAobmFt");
    sb.append("ZSBpbiBwYXlsb2FkKSB7CiAgICAgICAgdmFyIHR5cGUgPSBlbC50eXBlLnRvVXBwZXJDYXNlKCk7CiAg");
    sb.append("ICAgICAgaWYgKHR5cGUgPT0gIkNIRUNLQk9YIikgewogICAgICAgICAgZWwuY2hlY2tlZCA9IHBheWxv");
    sb.append("YWRbbmFtZV0gPT0gInRydWUiIHx8IHBheWxvYWRbbmFtZV0gPT09IHRydWUgPyB0cnVlIDogZmFsc2U7");
    sb.append("CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJTyIpIHsKICAgICAgICAgIGlmIChwYXlsb2Fk");
    sb.append("W25hbWVdID09IGVsLnZhbHVlKSB7CiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSB0cnVlOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbC52YWx1ZSA9IHBheWxvYWRbbmFtZV07CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIg");
    sb.append("YXJyID0gZWwuY2hpbGRyZW47CiAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAg");
    sb.append("ICBoeWRyYXRlX2Zvcm0oY2gsIGlucHV0KTsKICAgICAgfQogICAgfQogIH0KCgogIC8vIFJVTlRJTUUg");
    sb.append("fCByeDphY3Rpb246Y29weS1mb3JtOiR0YXJnZXQtaWQKICBzZWxmLmFDRiA9IGZ1bmN0aW9uKGZvcm0s");
    sb.append("IHRhcmdldEZvcm1JZCkgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlv");
    sb.append("bihldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBpbnB1dCA9IGdldF9m");
    sb.append("b3JtKGZvcm0sIHt9KTsKICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRh");
    sb.append("cmdldEZvcm1JZCk7CiAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICBoeWRyYXRlX2Zvcm0odGFyZ2V0");
    sb.append("LCBpbnB1dCk7CiAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAg");
    sb.append("ZmlyZV9mYWlsdXJlKGZvcm0sICJmYWlsZWQgdG8gZmluZCBmb3JtIGJ5IGlkICciICsgdGFyZ2V0Rm9y");
    sb.append("bUlkICsgIiciKTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFj");
    sb.append("dGlvbj1zZW5kOiRjaGFubmVsCiAgc2VsZi5hU0QgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGNoYW5u");
    sb.append("ZWwpIHsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewog");
    sb.append("ICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHBhc3N3b3JkcyA9IHt9OwogICAgICB2");
    sb.append("YXIgbXNnID0gZ2V0X2Zvcm0oZm9ybSwgcGFzc3dvcmRzKTsKCiAgICAgIGlmIChldnQuc3VibWl0dGVy");
    sb.append("KSB7CiAgICAgICAgdmFyIHMgPSBldnQuc3VibWl0dGVyOwogICAgICAgIGlmIChzLm5hbWUgJiYgcy52");
    sb.append("YWx1ZSkgewogICAgICAgICAgaWYgKHMudmFsdWUgPT0gInRydWUiKSB7IHMudmFsdWUgPSB0cnVlOyB9");
    sb.append("CiAgICAgICAgICBlbHNlIGlmIChzLnZhbHVlID09ICJmYWxzZSIpIHsgcy52YWx1ZSA9IGZhbHNlOyB9");
    sb.append("CiAgICAgICAgICBtc2dbcy5uYW1lXSA9IHMudmFsdWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBUT0RPOiBwYXNzIHRocm91Z2ggdGhlIGRl");
    sb.append("YnVnZ2VyCiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIG1zZywg");
    sb.append("ewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKC8qIHBheWxvYWQgKi8pIHsKICAgICAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("IChyZWFzb24pIHsKICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJTZW5kIGZhaWxlZDoiICsg");
    sb.append("cmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGlmICgncGFzc3dv");
    sb.append("cmQnIGluIHBhc3N3b3JkcykgewogICAgICAgIGlmICghKCdjb25maXJtLXBhc3N3b3JkJyBpbiBwYXNz");
    sb.append("d29yZHMpIHx8IHBhc3N3b3Jkc1sncGFzc3dvcmQnXSA9PSBwYXNzd29yZHNbJ2NvbmZpcm0tcGFzc3dv");
    sb.append("cmQnXSkgewogICAgICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudHNIYXNoUGFzc3dvcmQocGFzc3dvcmRz");
    sb.append("WydwYXNzd29yZCddLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChoYXNoZWRfcHcpIHsK");
    sb.append("ICAgICAgICAgICAgICBtc2dbJ3Bhc3N3b3JkJ10gPSBoYXNoZWRfcHcucGFzc3dvcmRIYXNoOwogICAg");
    sb.append("ICAgICAgICAgIGFmdGVyKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZhaWxlZDogZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFz");
    sb.append("c3dvcmQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiUGFzc3dvcmRzIG1pc21hdGNoIik7CiAgICAgICAgfQogICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgIGFmdGVyKCk7CiAgICAgIH0KICAgIH0sIHRydWUpOwogIH07CiAgLy8g");
    sb.append("PHRvZG90YXNrPmRlc2NyaXB0aW9uPC90b2RvdGFzaz4KICBzZWxmLlRBU0sgPSBmdW5jdGlvbihwZG9t");
    sb.append("LCBpZCwgc2VjdGlvbiwgZGVzY3JpcHRpb24pIHsKICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3Jl");
    sb.append("YXRlRWxlbWVudCgiZGl2Iik7CiAgICBlbGVtZW50LmlubmVySFRNTCA9ICImIzk3NDQ7ICIgKyBkZXNj");
    sb.append("cmlwdGlvbiArICIgKCAiICsgc2VjdGlvbiArICIpIDxiciAvPiI7CiAgICBwZG9tLmFwcGVuZENoaWxk");
    sb.append("KGVsZW1lbnQpOwogIH07CiAgLy8gUlVOVElNRTogcHJlLWNvbXByZXNzaW9uIGZvciBzZXR0aW5nIGFu");
    sb.append("IGF0dHJpYnV0ZQogIC8vICJkLnNldEF0dHJpYnV0ZShhLHYpOyIgLS0+CiAgLy8gJC5TQShkLGEsdik7");
    sb.append("IgogIHNlbGYuU0EgPSBmdW5jdGlvbihkb20sIGF0dHIsIHZhbHVlKSB7CiAgICBkb20uc2V0QXR0cmli");
    sb.append("dXRlKGF0dHIsIHZhbHVlKTsKICB9OwogIC8vIGZvciBzZWxlY3RzCiAgLy8gZC52YWx1ZT0kdmFsdWU7");
    sb.append("CiAgLy8gJC5TVihkLCR2YWx1ZSk7CiAgc2VsZi5TViA9IGZ1bmN0aW9uKGRvbSwgdmFsdWUpIHsKICAg");
    sb.append("IHZhciBwcmlvciA9IGRvbS52YWx1ZTsKICAgIGRvbS52YWx1ZSA9IHZhbHVlOwogICAgZG9tLnJ4dmFs");
    sb.append("dWUgPSB2YWx1ZTsKICAgIGlmIChwcmlvciAhPSB2YWx1ZSkgewogICAgICBkb20uZGlzcGF0Y2hFdmVu");
    sb.append("dChuZXcgRXZlbnQoImZvcmNlZCIpKTsKICAgIH0KICB9OwogIHNlbGYuRlYgPSBmdW5jdGlvbihkb20s");
    sb.append("IGZpZWxkLCB2YWx1ZSkgewogICAgdmFyIHByaW9yID0gZG9tW2ZpZWxkXTsKICAgIGRvbVtmaWVsZF0g");
    sb.append("PSB2YWx1ZTsKICAgIGlmIChwcmlvciAhPSB2YWx1ZSkgewogICAgICBkb20uZGlzcGF0Y2hFdmVudChu");
    sb.append("ZXcgRXZlbnQoImZvcmNlZCIpKTsKICAgIH0KICB9OwogIHNlbGYubWVyZ2VHb3RvID0gZnVuY3Rpb24o");
    sb.append("aHJlZiwgc3RhdGUpIHsKICAgIHZhciBwYXJ0cyA9IChocmVmLnN0YXJ0c1dpdGgoIi8iKSA/IGhyZWYu");
    sb.append("c3Vic3RyaW5nKDEpIDogaHJlZikuc3BsaXQoIi8iKTsKICAgIHZhciBtZXJnZUluaXQgPSB7fTsKICAg");
    sb.append("IGlmIChyb3V0ZShwYXJ0cywgMCwgcm91dGVyLCBtZXJnZUluaXQpKSB7CiAgICAgIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS51cGRhdGUobWVyZ2VJbml0KTsKICAgIH0KICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIGhyZWY9");
    sb.append("IiIgLi4uPgogIHNlbGYuSFJFRiA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBocmVmLCBtZXJnZSkgewog");
    sb.append("ICAgZG9tLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpeEhyZWYoaHJlZikpOwogICAgZG9tLm9uY2xpY2sg");
    sb.append("PSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIHZhciB0cmltSHJlZiA9IGhyZWY7CiAgICAgIGlmICh0cmlt");
    sb.append("SHJlZi5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgICB0cmltSHJlZiA9IHRyaW1IcmVmLnN1YnN0cmlu");
    sb.append("ZygxKTsKICAgICAgfQogICAgICB2YXIga1EgPSB0cmltSHJlZi5pbmRleE9mKCc/Jyk7CiAgICAgIGlm");
    sb.append("IChrUSA+IDApIHsKICAgICAgICB0cmltSHJlZiA9IHRyaW1IcmVmLnN1YnN0cmluZygwLCBrUSk7CiAg");
    sb.append("ICAgIH0KICAgICAgdmFyIHBhcnRzID0gdHJpbUhyZWYuc3BsaXQoIi8iKTsKICAgICAgdmFyIG1lcmdl");
    sb.append("SW5pdCA9IHt9OwogICAgICBpZiAocm91dGUocGFydHMsIDAsIHJvdXRlciwgbWVyZ2VJbml0KSkgewog");
    sb.append("ICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChtZXJnZSkgewogICAgICAgICAg");
    sb.append("c3RhdGUudmlldy50cmVlLnVwZGF0ZShtZXJnZUluaXQpOwogICAgICAgICAgd2luZG93Lmhpc3Rvcnku");
    sb.append("cHVzaFN0YXRlKHttZXJnZTp0cnVlfSwgIiIsIGZpeEhyZWYoaHJlZikpOwogICAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgICBzZWxmLmdvdG8oaHJlZiwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBm");
    sb.append("YWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgfTsKICAvLyBSVU5USU1FIHwg");
    sb.append("PC4uLiBjbGFzcz0iIiAuLi4+CiAgc2VsZi5BQyA9IGZ1bmN0aW9uIChkb20sIHZhbHVlKSB7CiAgICBk");
    sb.append("b20uc2V0QXR0cmlidXRlKCJjbGFzcyIsIHZhbHVlKTsKICB9OwogIHNlbGYuQUNMQVNTID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdmFsdWUpIHsgLy8gdG8gZGVwcmVjYXRlIGluIHRoZSBmdXR1cmUKICAgIGRvbS5zZXRB");
    sb.append("dHRyaWJ1dGUoImNsYXNzIiwgdmFsdWUpOwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4gc3JjPSIiIC4u");
    sb.append("Lj4KICBzZWxmLkFTUkMgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0");
    sb.append("ZSgic3JjIiwgdmFsdWUpOwogIH07CiAgd2luZG93LnJ4aHRtbCA9IHNlbGY7CiAgcmV0dXJuIHNlbGY7");
    sb.append("Cn0pKCk7Cg==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIGJ1bXAoYm0pIHsKICAgIHRyeSB7CiAgICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRw");
    sb.append("UmVxdWVzdCgpOwogICAgICB4aHR0cC5vcGVuKCJQVVQiLCBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIg");
    sb.append("KyB0aGlzLmhvc3QgKyAiL35ibS8iICsgYm0sIHRydWUpOwogICAgICB4aHR0cC5zZW5kKCk7CiAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAvLyBkb24ndCBjYXJlCiAgICB9CiAgfQoKICBsb2cobmFtZSwgYm9k");
    sb.append("eSkgewogICAgdHJ5IHsKICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAg");
    sb.append("IHhodHRwLm9wZW4oIlBVVCIsIGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHRoaXMuaG9zdCArICIv");
    sb.append("fmxnLyIgKyBuYW1lLCB0cnVlKTsKICAgICAgeGh0dHAuc2VuZChib2R5KTsKICAgIH0gY2F0Y2ggKGV4");
    sb.append("KSB7CiAgICAgIC8vIGRvbid0IGNhcmUKICAgIH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUg");
    sb.append("Y29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsKICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRo");
    sb.append("aXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlmIHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhl");
    sb.append("IHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFs");
    sb.append("c2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFuZ2UoZmFsc2UpOwogICAgICB0aGlzLmNhbGxiYWNrcy5m");
    sb.append("b3JFYWNoKGZ1bmN0aW9uIChjYiwgaWQpIHsKICAgICAgICBjYih7ZmFpbHVyZTo5OTl9KTsKICAgICAg");
    sb.append("fSk7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5jbGVhcigpOwogICAgLy8gaWYgd2UgYXJlIGRlYWQs");
    sb.append("IHRoZW4gZG9uJ3QgYWN0dWFsbHkgcmV0cnkKICAgIGlmICh0aGlzLmRlYWQpIHsKICAgICAgcmV0dXJu");
    sb.append("OwogICAgfQogICAgLy8gbWFrZSBzdXJlCiAgICBpZiAoIXRoaXMuc2NoZWR1bGVkKSB7CiAgICAgIC8v");
    sb.append("IHNjaGVkdWxlIGEgcmV0cnk7IGZpcnN0IGNvbXB1dGUgaG93IGxvbmcgdG8gdGFrZQogICAgICAvLyBj");
    sb.append("b21wdXRlIGhvdyBsb25nIHdlIG5lZWQgdG8gd2FpdAogICAgICB2YXIgaGFsdmVBZnRlclNjaGVkdWxl");
    sb.append("ID0gZmFsc2U7CiAgICAgIHRoaXMuYmFja29mZiArPSBNYXRoLnJhbmRvbSgpICogdGhpcy5iYWNrb2Zm");
    sb.append("OwogICAgICBpZiAodGhpcy5iYWNrb2ZmID4gdGhpcy5tYXhpbXVtX2JhY2tvZmYpIHsKICAgICAgICB0");
    sb.append("aGlzLmJhY2tvZmYgPSB0aGlzLm1heGltdW1fYmFja29mZjsKICAgICAgICBoYWx2ZUFmdGVyU2NoZWR1");
    sb.append("bGUgPSB0cnVlOwogICAgICB9CgogICAgICAvLyBzY2hlZHVsZSBpdAogICAgICB0aGlzLnNjaGVkdWxl");
    sb.append("ZCA9IHRydWU7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgICAgc2VsZi5zdGFydCgpOwogICAgICB9LCB0aGlzLmJhY2tvZmYpOwoKICAgICAgLy8g");
    sb.append("d2UganVzdCBzY2hlZHVsZWQgaXQgZm9yIHRoZSBtYXhpbXVtIGJhY2tvZmYgdGltZSwgbGV0J3MgcmVk");
    sb.append("dWNlIHRoZSBiYWNrb2ZmIHNvIHRoZSBuZXh0IG9uZSB3aWxsIGhhdmUgc29tZSBqaXR0ZXIKICAgICAg");
    sb.append("aWYgKGhhbHZlQWZ0ZXJTY2hlZHVsZSkgewogICAgICAgIHRoaXMuYmFja29mZiAvPSAyLjA7CiAgICAg");
    sb.append("IH0KICAgIH0KICB9CgogIC8qKiBzdGFydCB0aGUgY29ubmVjdGlvbiAqLwogIHN0YXJ0KCkgewogICAg");
    sb.append("Ly8gcmVzZXQgdGhlIHN0YXRlCiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB0aGlzLnNjaGVkdWxlZCA9");
    sb.append("IGZhbHNlOwogICAgdGhpcy5kZWFkID0gZmFsc2U7CiAgICB0aGlzLmhhc19oYWRfcGluZyA9IGZhbHNl");
    sb.append("OwogICAgdGhpcy5sYXN0X3BpbmcgPSAwOwogICAgdGhpcy5waW5nX2ZhaWx1cmVzID0gMDsKICAgIC8v");
    sb.append("IGNyZWF0ZSB0aGUgc29ja2V0IGFuZCBiaW5kIGV2ZW50IGhhbmRsZXJzCiAgICB0aGlzLnNvY2tldCA9");
    sb.append("IG5ldyBXZWJTb2NrZXQodGhpcy51cmwpOwogICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rp");
    sb.append("b24gKGV2ZW50KSB7CiAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwogICAg");
    sb.append("ICAvLyBhIG1lc3NhZ2UgYXJyaXZlZCwgaXMgaXQgYSBjb25uZWN0aW9uIHNpZ25hbAogICAgICBpZiAo");
    sb.append("InBpbmciIGluIHJlc3VsdCkgewogICAgICAgIHNlbGYub25waW5nKHJlc3VsdC5waW5nLCByZXN1bHQu");
    sb.append("bGF0ZW5jeSk7CiAgICAgICAgcmVzdWx0LnBvbmcgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAu");
    sb.append("MDsKICAgICAgICBzZWxmLnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpOwogICAgICAg");
    sb.append("IHNlbGYubGFzdF9waW5nID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgc2VsZi5oYXNfaGFk");
    sb.append("X3BpbmcgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoInN0YXR1cyIgaW4g");
    sb.append("cmVzdWx0KSB7CiAgICAgICAgLy8gaGV5LCBhcmUgd2UgY29ubmVjdGVkPwogICAgICAgIGlmIChyZXN1");
    sb.append("bHQuc3RhdHVzICE9ICJjb25uZWN0ZWQiKSB7CiAgICAgICAgICAvLyBub3BlLCBPSywgbGV0J3MgbWFr");
    sb.append("ZSB0aGlzIGEgZGVhZCBzb2NrZXQKICAgICAgICAgIHNlbGYuc29ja2V0LmNsb3NlKCk7CiAgICAgICAg");
    sb.append("ICBzZWxmLnNvY2tldCA9IG51bGw7CiAgICAgICAgICBzZWxmLmJhY2tvZmYgPSBzZWxmLnJlc2V0X2Jh");
    sb.append("Y2tvZmY7CiAgICAgICAgICBzZWxmLl9yZXRyeSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0K");
    sb.append("ICAgICAgICAvLyB0ZWxsIHRoZSBjbGllbnQgdGhhdCB3ZSBhcmUgZ29vZCEKICAgICAgICBzZWxmLmJh");
    sb.append("Y2tvZmYgPSAxOwogICAgICAgIHNlbGYuY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICBzZWxmLmFzc2V0");
    sb.append("cyA9IHJlc3VsdC5hc3NldHM7CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSh0cnVlKTsKICAgICAg");
    sb.append("ICBzZWxmLl9yZWNvbm5lY3QoKTsKICAgICAgICBzZWxmLkNvbmZpZ3VyZU1ha2VPckdldEFzc2V0S2V5");
    sb.append("KHsKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICAgIHRyeSB7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAg");
    sb.append("ICAgeGh0dHAub3BlbigiR0VUIiwgbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0ICsg");
    sb.append("Ii9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0cC53aXRoQ3Jl");
    sb.append("ZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAgICAgICAgfSBj");
    sb.append("YXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQgd2FzIGEgZmFp");
    sb.append("bHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8vIGZpbmQgdGhl");
    sb.append("IGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlmIChzZWxmLmNh");
    sb.append("bGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBzZWxmLmNhbGxi");
    sb.append("YWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAgICAgICAgIHNl");
    sb.append("bGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNiKHJlc3VsdCk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBpbiByZXN1bHQp");
    sb.append("IHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQncyBmaW5kIHRo");
    sb.append("ZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2VsZi5jYWxsYmFj");
    sb.append("a3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5jYWxsYmFja3Mu");
    sb.append("Z2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAgICBpZiAocmVz");
    sb.append("dWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVzdWx0LmRlbGl2");
    sb.append("ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldmVu");
    sb.append("dCkgewogICAgICBzZWxmLmJ1bXAoInIiKTsKICAgICAgLy8gbGV0J3MgcmV0cnkuLi4gb3Igc2hvdWxk");
    sb.append("IHdlIG5vdAogICAgICBzZWxmLl9yZXRyeSgpOwogICAgfTsKICAgIHRoaXMuc29ja2V0Lm9uZXJyb3Ig");
    sb.append("PSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgc2VsZi5idW1wKCJyIik7CiAgICAgIC8vIHNvbWV0aGlu");
    sb.append("ZyBiYWQgaGFwcGVuZWQsIGxldCdzIHJldHJ5CiAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICB9OwoKICB9");
    sb.append("CgogIGtlZXBhbGl2ZSgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHdpbmRvdy5zZXRJbnRlcnZh");
    sb.append("bChmdW5jdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoc2VsZi5oYXNfaGFkX3BpbmcgJiYg");
    sb.append("c2VsZi5zb2NrZXQpIHsKICAgICAgICAgIHZhciB0aW1lU2luY2VMYXN0UGluZyA9IG5ldyBEYXRlKCku");
    sb.append("Z2V0VGltZSgpIC0gc2VsZi5sYXN0X3Bpbmc7CiAgICAgICAgICAvLyBUT0RPOiBicm9hZGNhc3QgYSBs");
    sb.append("YXRlbmN5CiAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFBpbmcgPiAyNTAwKSB7CiAgICAgICAgICAg");
    sb.append("IHNlbGYucGluZ19mYWlsdXJlcysrOwogICAgICAgICAgICBpZiAoc2VsZi5waW5nX2ZhaWx1cmVzID49");
    sb.append("IDMpIHsKICAgICAgICAgICAgICBzZWxmLmhhc19oYWRfcGluZyA9IGZhbHNlOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgICAgIHNlbGYuc29j");
    sb.append("a2V0LmNsb3NlKCk7CiAgICAgICAgICAgICAgc2VsZi5zb2NrZXQgPSBudWxsOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICAgICAgICAgICAgc2VsZi5idW1wKCJkIik7CiAgICAgICAgICAgICAg");
    sb.append("Y29uc29sZS5lcnJvcigiaGFkIHRvIGZvcmNlIGEgZGlzY29ubmVjdCIpOwogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBpbmdfZmFpbHVyZXMgPSAwOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7");
    sb.append("CiAgICAgIH0KICAgIH0sIDEyNTApOwogIH0KCiAgLyoqIHByaXZhdGU6IHNlbmQgYSByYXcgbWVzc2Fn");
    sb.append("ZSAqLwogIF93cml0ZShyZXF1ZXN0LCBjYWxsYmFjaykgewogICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkg");
    sb.append("ewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5p");
    sb.append("ZCwgY2FsbGJhY2spOwogICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7");
    sb.append("CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwog");
    sb.append("IGFzeW5jIHdhaXRfY29ubmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJl");
    sb.append("dHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAg");
    sb.append("IH0pOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("aGlzLm9uc3RhdHVzY2hhbmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2Qp");
    sb.append("IHsKICAgICAgICBzZWxmLm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAg");
    sb.append("ICAgcHJpb3Ioc3RhdHVzKTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0");
    sb.append("cnVlKTsKICAgICAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQog");
    sb.append("ICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25y");
    sb.append("ZWNvbm5lY3QuZm9yRWFjaChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAg");
    sb.append("IH0pOwogIH0KCiAgLyoqIGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHNtLmZpcnN0ID0gdHJ1ZTsKICAgIGlmICghc2VsZi5fd3JpdGUoc20ucmVxdWVzdCwgZnVuY3Rpb24g");
    sb.append("KHJlc3BvbnNlKSB7CiAgICAgIGlmIChzbS5maXJzdCkgewogICAgICAgIHNtLmZpcnN0ID0gZmFsc2U7");
    sb.append("CiAgICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgICAgaWYgKCdmYWlsdXJl");
    sb.append("JyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLmZhaWx1cmUocmVzcG9u");
    sb.append("c2UucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCdzdWNj");
    sb.append("ZXNzJyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLnN1Y2Nlc3MocmVz");
    sb.append("cG9uc2UucmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBzZWxmLm9u");
    sb.append("cmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICB9KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNl");
    sb.append("dChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHNtKTsKICAgICAgfTsKICAgICAgcmV0dXJuIHNtOwogICAgfQogICAgcmV0dXJu");
    sb.append("IG51bGw7CiAgfQoKICAvKiogZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICBzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYg");
    sb.append("KCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgIH0KICAgICAgICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcg");
    sb.append("aW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNw");
    sb.append("b25zZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAg");
    sb.append("aWYgKCdjb21wbGV0ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29t");
    sb.append("cGxldGUoKTsKICAgICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwog");
    sb.append("ICAgICB9CiAgICB9KTsKICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5f");
    sb.append("X3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAg");
    sb.append("fTsKICAgIHJldHVybiBzbTsKICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0");
    sb.append("dXJuIHRoaXMubmV4dElkOwogIH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2Nv");
    sb.append("dW50KGVtYWlsLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0");
    sb.append("L3NldHVwLWFjY291bnQiLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJ");
    sb.append("bml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJh");
    sb.append("Y2Nlc3MtdG9rZW4iOiBhY2Nlc3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50");
    sb.append("KGVtYWlsLCByZXZva2UsIGNvZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImluaXQvY29tcGxldGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAi");
    sb.append("cmV2b2tlIjogcmV2b2tlLCAiY29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dv");
    sb.append("cmQoaWRlbnRpdHksIHBhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhY2NvdW50L3NldC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBs");
    sb.append("YW4oaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFj");
    sb.append("Y291bnQvZ2V0LXBheW1lbnQtcGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQog");
    sb.append("ICAgfSk7CiAgfQogIEFjY291bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVy");
    sb.append("LAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1h");
    sb.append("aWwiOiBlbWFpbCwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRp");
    sb.append("dHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgU3RhdHMocmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InN0YXRzIiwgImlkIjpwYXJJZH0K");
    sb.append("ICAgIH0pOwogIH0KICBJZGVudGl0eUhhc2goaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6ImlkZW50aXR5L2hhc2giLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBJZGVudGl0eVN0YXNoKGlkZW50aXR5LCBuYW1lLCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpZGVudGl0eS9zdGFzaCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibmFtZSI6IG5hbWV9CiAgICB9KTsKICB9CiAg");
    sb.append("QXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlkZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3Jl");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRob3JpdHkiOiBhdXRob3JpdHks");
    sb.append("ICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHks");
    sb.append("IGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0");
    sb.append("aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5Ijog");
    sb.append("YXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3ko");
    sb.append("aWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("ImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwogIH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAgfSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXko");
    sb.append("aWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VHZXQoaWRlbnRpdHksIHNwYWNlLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VT");
    sb.append("ZXQoaWRlbnRpdHksIHNwYWNlLCBwbGFuLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJwbGFuIjogcGxhbn0KICAgIH0pOwogIH0KICBTcGFjZVJlZGVwbG95S2ljayhp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("InNwYWNlL3JlZGVwbG95LWtpY2siLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCBy");
    sb.append("eGh0bWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJyeGh0bWwiOiByeGh0bWx9CiAgICB9KTsKICB9CiAgU3BhY2VHZXRSeGh0bWwoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQt");
    sb.append("cnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQog");
    sb.append("ICAgfSk7CiAgfQogIFNwYWNlU2V0UG9saWN5KGlkZW50aXR5LCBzcGFjZSwgYWNjZXNzUG9saWN5LCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcG9saWN5");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAiYWNjZXNz");
    sb.append("LXBvbGljeSI6IGFjY2Vzc1BvbGljeX0KICAgIH0pOwogIH0KICBTcGFjZUdldFBvbGljeShpZGVudGl0");
    sb.append("eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNl");
    sb.append("L2dldC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3Bh");
    sb.append("Y2V9CiAgICB9KTsKICB9CiAgU3BhY2VNZXRyaWNzKGlkZW50aXR5LCBzcGFjZSwgcHJlZml4LCBtZXRy");
    sb.append("aWNRdWVyeSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uv");
    sb.append("bWV0cmljcyIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwg");
    sb.append("InByZWZpeCI6IHByZWZpeCwgIm1ldHJpYy1xdWVyeSI6IG1ldHJpY1F1ZXJ5fQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlRGVsZXRlKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0Um9sZShpZGVudGl0eSwgc3Bh");
    sb.append("Y2UsIGVtYWlsLCByb2xlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9zZXQtcm9sZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImVtYWlsIjogZW1haWwsICJyb2xlIjogcm9sZX0KICAgIH0pOwogIH0KICBTcGFjZUxp");
    sb.append("c3REZXZlbG9wZXJzKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9z");
    sb.append("dHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2xpc3QtZGV2ZWxvcGVycyIsICJpZCI6cGFySWQsICJpZGVu");
    sb.append("dGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVJlZmxlY3Qo");
    sb.append("aWRlbnRpdHksIHNwYWNlLCBrZXksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6InNwYWNlL3JlZmxlY3QiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJrZXkiOiBrZXl9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0KGlkZW50aXR5LCBt");
    sb.append("YXJrZXIsIGxpbWl0LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibWFya2VyIjog");
    sb.append("bWFya2VyLCAibGltaXQiOiBsaW1pdH0KICAgIH0pOwogIH0KICBQdXNoUmVnaXN0ZXIoaWRlbnRpdHks");
    sb.append("IGRvbWFpbiwgc3Vic2NyaXB0aW9uLCBkZXZpY2VJbmZvLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJwdXNoL3JlZ2lzdGVyIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzdWJzY3JpcHRpb24iOiBzdWJzY3JpcHRpb24sICJk");
    sb.append("ZXZpY2UtaW5mbyI6IGRldmljZUluZm99CiAgICB9KTsKICB9CiAgRG9tYWluTWFwKGlkZW50aXR5LCBk");
    sb.append("b21haW4sIHNwYWNlLCBjZXJ0aWZpY2F0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9tYWluL21hcCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("ZG9tYWluIjogZG9tYWluLCAic3BhY2UiOiBzcGFjZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9tYWluQ29uZmlndXJlKGlkZW50aXR5LCBkb21haW4sIHByb2R1Y3RDb25m");
    sb.append("aWcsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9jb25m");
    sb.append("aWd1cmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbiwg");
    sb.append("InByb2R1Y3QtY29uZmlnIjogcHJvZHVjdENvbmZpZ30KICAgIH0pOwogIH0KICBEb21haW5SZWZsZWN0");
    sb.append("KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBp");
    sb.append("ZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhv");
    sb.append("ZCI6ImRvbWFpbi9yZWZsZWN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21h");
    sb.append("aW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluTWFwRG9jdW1lbnQoaWRlbnRpdHksIGRvbWFp");
    sb.append("biwgc3BhY2UsIGtleSwgcm91dGUsIGNlcnRpZmljYXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFwLWRvY3VtZW50IiwgImlkIjpwYXJJZCwgImlkZW50");
    sb.append("aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5");
    sb.append("LCAicm91dGUiOiByb3V0ZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9CiAgICB9KTsKICB9CiAg");
    sb.append("RG9tYWluTGlzdChpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvbWFpbi9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAg");
    sb.append("ICB9KTsKICB9CiAgRG9tYWluTGlzdEJ5U3BhY2UoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsK");
    sb.append("ICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJu");
    sb.append("IHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiBy");
    sb.append("ZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2xpc3QtYnktc3BhY2UiLCAi");
    sb.append("aWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9");
    sb.append("CiAgRG9tYWluR2V0VmFwaWRQdWJsaWNLZXkoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2dldC12YXBpZC1wdWJsaWMta2V5Iiwg");
    sb.append("ImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsK");
    sb.append("ICB9CiAgRG9tYWluVW5tYXAoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3VubWFwIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluR2V0KGlkZW50aXR5");
    sb.append("LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFp");
    sb.append("bi9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0K");
    sb.append("ICAgIH0pOwogIH0KICBEb2N1bWVudERvd25sb2FkQXJjaGl2ZShpZGVudGl0eSwgc3BhY2UsIGtleSwg");
    sb.append("cmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2Rv");
    sb.append("d25sb2FkLWFyY2hpdmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJrZXkiOiBrZXl9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRBdXRob3JpemF0aW9uKHNwYWNl");
    sb.append("LCBrZXksIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImRvY3VtZW50L2F1dGhvcml6YXRpb24iLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6");
    sb.append("IGtleSwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXphdGlv");
    sb.append("bkRvbWFpbihkb21haW4sIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6YXRpb24tZG9tYWluIiwgImlkIjpwYXJJZCwgImRvbWFp");
    sb.append("biI6IGRvbWFpbiwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9y");
    sb.append("aXplKHNwYWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJZCwgInNwYWNl");
    sb.append("Ijogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNz");
    sb.append("d29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4sIHVzZXJuYW1l");
    sb.append("LCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9j");
    sb.append("dW1lbnQvYXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2Vy");
    sb.append("bmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVu");
    sb.append("dEF1dGhvcml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQv");
    sb.append("YXV0aG9yaXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtl");
    sb.append("eSwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3Jk");
    sb.append("IjogbmV3X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJl");
    sb.append("c2V0KGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4td2l0");
    sb.append("aC1yZXNldCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6IHVzZXJuYW1l");
    sb.append("LCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0p");
    sb.append("OwogIH0KICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9weSwgYXJnLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9jcmVhdGUi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJlbnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBEb2N1bWVudERl");
    sb.append("bGV0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3VtZW50TGlzdChp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("c3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1pdH0K");
    sb.append("ICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtleSwgY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVz");
    sb.append("c2FnZS9kaXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFjZSwga2V5LCBk");
    sb.append("ZWR1cGUsIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6");
    sb.append("IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRlZHVwZSwgImNo");
    sb.append("YW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3Bv");
    sb.append("bmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFy");
    sb.append("SWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInZpZXdl");
    sb.append("ci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2aWV3ZXJTdGF0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5lY3Rp");
    sb.append("b24vY3JlYXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRv");
    sb.append("bWFpbiI6IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVu");
    sb.append("Y3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hh");
    sb.append("bm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAg");
    sb.append("ICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJS");
    sb.append("ZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJl");
    sb.append("c3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25j");
    sb.append("ZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1");
    sb.append("cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAg");
    sb.append("Y2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAg");
    sb.append("ICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9k");
    sb.append("OiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUs");
    sb.append("IGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAi");
    sb.append("Y29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1l");
    sb.append("LCAiY29udGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBk");
    sb.append("aWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAg");
    sb.append("ICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("ICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAg");
    sb.append("IHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0");
    sb.append("aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAg");
    sb.append("IH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3JkLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudHMvaGFzaC1w");
    sb.append("YXNzd29yZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIEJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIsICJpZCI6cGFy");
    sb.append("SWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBmaWxl");
    sb.append("bmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQt");
    sb.append("dHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0");
    sb.append("Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50");
    sb.append("L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwg");
    sb.append("ImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5p");
    sb.append("c2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAg");
    sb.append("IHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRh");
    sb.append("Y2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBm");
    sb.append("aWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRl");
    sb.append("bnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFz");
    sb.append("ZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2ht");
    sb.append("ZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01k");
    sb.append("NSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBm");
    sb.append("aW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJh");
    sb.append("dHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFtYSA9IHsKICBQ");
    sb.append("cm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIEJldGE6ICJiZXRh");
    sb.append("LmFkYW1hLXBsYXRmb3JtLmNvbSIsCiAgQ29ubmVjdGlvbjogV2ViU29ja2V0QWRhbWFDb25uZWN0aW9u");
    sb.append("Cn07Cg==");
    return sb.toString();
  }
  public static final String WORKER = new String(Base64.getDecoder().decode(make_worker()), StandardCharsets.UTF_8);
  private static String make_worker() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyogQWRhbWEgd29ya2VyOiBoYW5kbGUgc2ltcGxlIHB1c2ggbm90aWZpY2F0aW9ucyAqLwoKY29uc29s");
    sb.append("ZS5sb2coImFkYW1hIHdvcmtlciBzdGFydGVkIik7CnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcs");
    sb.append("IGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmRhdGEpIHsKICAgIHZhciBqc29uID0gZXZlbnQu");
    sb.append("ZGF0YS5qc29uKCk7CiAgICBpZiAoanNvbikgewogICAgICBjb25zb2xlLmxvZyhqc29uKTsKICAgICAg");
    sb.append("dmFyIHB1c2hUb2tlbiA9ICJOQSI7CiAgICAgIGlmICgnQHB0JyBpbiBqc29uKSB7CiAgICAgICAgcHVz");
    sb.append("aFRva2VuID0ganNvblsnQHB0J107CiAgICAgIH0KICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAg");
    sb.append("Ym9keToganNvbi5ib2R5ID8ganNvbi5ib2R5IDogIkdlbmVyaWMgUHVzaCBCb2R5IiwKICAgICAgfTsK");
    sb.append("ICAgICAgaWYgKGpzb24uaWNvbikgewogICAgICAgIG9wdGlvbnMuaWNvbiA9IGpzb24uaWNvbjsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgc2hvdyA9IHRydWU7CiAgICAgIGlmIChqc29uLmhpZGUpIHsKICAgICAgICBz");
    sb.append("aG93ID0gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgaWYgKGpzb24udXJs");
    sb.append("KSB7CiAgICAgICAgZGF0YS51cmwgPSBqc29uLnVybDsKICAgICAgfQogICAgICBvcHRpb25zLmRhdGEg");
    sb.append("PSBkYXRhOwogICAgICBpZiAoc2hvdykgewogICAgICAgIGV2ZW50LndhaXRVbnRpbChzZWxmLnJlZ2lz");
    sb.append("dHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKGpzb24udGl0bGUgPyBqc29uLnRpdGxlIDogIkdlbmVyaWMg");
    sb.append("UHVzaCBUaXRsZSIsIG9wdGlvbnMpKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mKGpzb24uYmFkZ2Up");
    sb.append("ID09ICJudW1iZXIiICYmIG5hdmlnYXRvci5zZXRBcHBCYWRnZSkgewogICAgICAgIHRyeSB7CiAgICAg");
    sb.append("ICAgICBldmVudC53YWl0VW50aWwobmF2aWdhdG9yLnNldEFwcEJhZGdlKGpzb24uYmFkZ2UpKTsKICAg");
    sb.append("ICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgZXZlbnQud2FpdFVu");
    sb.append("dGlsKGZldGNoKHNlbGYubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5sb2NhdGlvbi5ob3N0");
    sb.append("ICsgIi9+cHQvIiArIHB1c2hUb2tlbiwgewogICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAg");
    sb.append("IGhlYWRlcnM6IHt9LAogICAgICAgICAgYm9keTogcHVzaFRva2VuCiAgICAgICAgfSkpOwogICAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAvLyBkb24ndCBjYXJl");
    sb.append("CiAgICAgIH0KICAgIH0KICB9Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdub3RpZmljYXRpb25j");
    sb.append("bGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50Lm5vdGlmaWNhdGlvbiAmJiBldmVudC5u");
    sb.append("b3RpZmljYXRpb24uZGF0YSAmJiBldmVudC5ub3RpZmljYXRpb24uZGF0YS51cmwpIHsKICAgIHZhciB1");
    sb.append("cmwgPSBzZWxmLmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHNlbGYubG9jYXRpb24uaG9zdCArIGV2");
    sb.append("ZW50Lm5vdGlmaWNhdGlvbi5kYXRhLnVybDsKICAgIHZhciBob21lID0gc2VsZi5sb2NhdGlvbi5wcm90");
    sb.append("b2NvbCArICIvLyIgKyBzZWxmLmxvY2F0aW9uLmhvc3Q7CiAgICBldmVudC5ub3RpZmljYXRpb24uY2xv");
    sb.append("c2UoKTsgLy8gQW5kcm9pZCBuZWVkcyBleHBsaWNpdCBjbG9zZS4KICAgIGV2ZW50LndhaXRVbnRpbCgK");
    sb.append("ICAgICAgY2xpZW50cy5tYXRjaEFsbCh7dHlwZTogJ3dpbmRvdyd9KS50aGVuKCB3YyA9PiB7CiAgICAg");
    sb.append("ICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHdpbmRvdy90YWIgb3BlbiB3aXRoIHRoZSB0");
    sb.append("YXJnZXQgVVJMCiAgICAgICAgdmFyIGNsaWVudFdpdGhQcmVmaXggPSBudWxsOwogICAgICAgIHZhciBj");
    sb.append("bGllbnRXaXRoSG9tZSA9IG51bGw7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Yy5sZW5ndGg7");
    sb.append("IGkrKykgewogICAgICAgICAgdmFyIGNsaWVudCA9IHdjW2ldOwogICAgICAgICAgY29uc29sZS5sb2co");
    sb.append("ImNsaWVudDoiICsgY2xpZW50LnVybCArICI7IiArIHVybCk7CiAgICAgICAgICBpZiAoY2xpZW50LnVy");
    sb.append("bCA9PT0gdXJsICYmICdmb2N1cycgaW4gY2xpZW50KSB7CiAgICAgICAgICAgIHJldHVybiBjbGllbnQu");
    sb.append("Zm9jdXMoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjbGllbnQudXJsLnN0YXJ0c1dpdGgodXJs");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoUHJlZml4ID0g");
    sb.append("Y2xpZW50OwogICAgICAgICAgfQogICAgICAgICAgaWYgKGNsaWVudC51cmwuc3RhcnRzV2l0aChob21l");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoSG9tZSA9IGNs");
    sb.append("aWVudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNsaWVudFdpdGhQcmVmaXggIT0g");
    sb.append("bnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpwcmVmaXg6IiArIHVybCk7CiAgICAgICAg");
    sb.append("ICByZXR1cm4gY2xpZW50V2l0aFByZWZpeC5uYXZpZ2F0ZSh1cmwpOwogICAgICAgIH0KICAgICAgICBp");
    sb.append("ZiAoY2xpZW50V2l0aEhvbWUgIT0gbnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpob21l");
    sb.append("OiIgKyB1cmwpOwogICAgICAgICAgcmV0dXJuIGNsaWVudFdpdGhIb21lLm5hdmlnYXRlKHVybCk7CiAg");
    sb.append("ICAgICAgfQogICAgICAgIGlmIChjbGllbnRzLm9wZW5XaW5kb3cpIHsKICAgICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJvcGVuOm5ldzoiICsgdXJsKTsKICAgICAgICAgIHJldHVybiBjbGllbnRzLm9wZW5XaW5kb3co");
    sb.append("dXJsKTsKICAgICAgICB9CiAgICAgIH0pCiAgICApOwogIH0KfSk7");
    return sb.toString();
  }
}
